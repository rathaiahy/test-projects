/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

 Adobe Visitor API for JavaScript version: 1.10.0
 Copyright 1996-2015 Adobe, Inc. All Rights Reserved
 More info available at http://www.omniture.com
*/
function Visitor(e,t){function i(e){function t(e,t,i){return(i=i?i+="|":i)+(e+"=")+encodeURIComponent(t)}for(var i="",a=0,n=e.length;a<n;a++){var r,o=(r=e[a])[0];(r=r[1])!=s&&r!==D&&(i=t(o,r,i))}return(c=(c=i)?c+="|":c)+"TS="+(new Date).getTime();var c}if(!e)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="1.10.0";var n=window,r=n.Visitor;r.version=a.version,n.s_c_in||(n.s_c_il=[],n.s_c_in=0),a._c="Visitor",a._il=n.s_c_il,a._in=n.s_c_in,a._il[a._in]=a,n.s_c_in++,a.ja={Fa:[]};var o=n.document,s=r.Cb;s||(s=null);var c=r.Db;c||(c=void 0);var l=r.Oa;l||(l=!0);var u=r.Ma;u||(u=!1),a.fa=function(e){var t,i=0;if(e)for(t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i&=i;return i},a.s=function(e,t){var i,a,n="0123456789",r="",o="",s=8,c=10,u=10;if(t===p&&(x.isClientSideMarketingCloudVisitorID=l),1==e){for(n+="ABCDEF",i=0;16>i;i++)a=Math.floor(Math.random()*s),r+=n.substring(a,a+1),a=Math.floor(Math.random()*s),o+=n.substring(a,a+1),s=16;return r+"-"+o}for(i=0;19>i;i++)a=Math.floor(Math.random()*c),r+=n.substring(a,a+1),0==i&&9==a?c=3:(1==i||2==i)&&10!=c&&2>a?c=10:2<i&&(c=10),a=Math.floor(Math.random()*u),o+=n.substring(a,a+1),0==i&&9==a?u=3:(1==i||2==i)&&10!=u&&2>a?u=10:2<i&&(u=10);return r+o},a.Ra=function(){var e;if(!e&&n.location&&(e=n.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),i=t.length-1,a=i-1;if(1<i&&2>=t[i].length&&(2==t[i-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[i]+","))&&a--,0<a)for(e="";i>=a;)e=t[i]+(e?".":"")+e,i--}return e},a.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+o.cookie).split(" ").join(";"),i=t.indexOf(";"+e+"="),a=0>i?i:t.indexOf(";",i+1);return 0>i?"":decodeURIComponent(t.substring(i+2+e.length,0>a?t.length:a))},a.cookieWrite=function(e,t,i){t=""+t;var n,r=(r=a.cookieLifetime)?(""+r).toUpperCase():"";return i&&"SESSION"!=r&&"NONE"!=r?(n=""!=t?parseInt(r||0,10):-60)?(i=new Date).setTime(i.getTime()+1e3*n):1==i&&(n=(i=new Date).getYear(),i.setYear(n+2+(1900>n?1900:0))):i=0,e&&"NONE"!=r?(o.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(e)==t):0},a.h=s,a.J=function(e,t){try{"function"==typeof e?e.apply(n,t):e[1].apply(e[0],t)}catch(i){}},a.Xa=function(e,t){t&&(a.h==s&&(a.h={}),a.h[e]==c&&(a.h[e]=[]),a.h[e].push(t))},a.r=function(e,t){if(a.h!=s){var i=a.h[e];if(i)for(;0<i.length;)a.J(i.shift(),t)}},a.v=function(e,t,i,a){if(i=encodeURIComponent(t)+"="+encodeURIComponent(i),t=k.vb(e),-1===(e=k.mb(e)).indexOf("?"))return e+"?"+i+t;var n=e.split("?");return(e=n[0]+"?")+(a=k.$a(n[1],i,a))+t},a.Qa=function(e,t){var i=RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(i&&i.length)return decodeURIComponent(i[1])},a.Wa=function(){var e=s,t=n.location.href;try{var i=a.Qa(t,P.Z);if(i){e={};for(var r=i.split("|"),o=(t=0,r.length);t<o;t++){var c=r[t].split("=");e[c[0]]=decodeURIComponent(c[1])}}return e}catch(l){}},a.ba=function(){var t=a.Wa();if(t&&t.TS&&!(((new Date).getTime()-t.TS)/6e4>P.Ka||t[g]!==e)){var i=t[p],n=a.setMarketingCloudVisitorID;i&&i.match(P.u)&&n(i),a.j(w,-1),t=t[L],i=a.setAnalyticsVisitorID,t&&t.match(P.u)&&i(t)}},a.Va=function(e){function t(e){k.pb(e)&&a.setCustomerIDs(e)}function i(e){e=e||{},a._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",a._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},a._supplementalDataIDLast=e.supplementalDataIDLast||"",a._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}e&&e[a.marketingCloudOrgID]&&(t((e=e[a.marketingCloudOrgID]).customerIDs),i(e.sdid))},a.l=s,a.Ta=function(e,t,i,n){t=a.v(t,"d_fieldgroup",e,1),n.url=a.v(n.url,"d_fieldgroup",e,1),n.m=a.v(n.m,"d_fieldgroup",e,1),x.d[e]=l,n===Object(n)&&n.m&&"XMLHttpRequest"===a.la.C.D?a.la.ib(n,i,e):a.useCORSOnly||a.ia(e,t,i)},a.ia=function(e,t,i){var n,c=0,d=0;if(t&&o){for(n=0;!c&&2>n;){try{c=(c=o.getElementsByTagName(0<n?"HEAD":"head"))&&0<c.length?c[0]:0}catch(p){c=0}n++}if(!c)try{o.body&&(c=o.body)}catch(u){c=0}if(c)for(n=0;!d&&2>n;){try{d=o.createElement(0<n?"SCRIPT":"script")}catch(r){d=0}n++}}t&&c&&d?(d.type="text/javascript",d.src=t,c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),c=a.loadTimeout,T.d[e]={requestStart:T.o(),url:t,ta:c,ra:T.ya(),sa:0},i&&(a.l==s&&(a.l={}),a.l[e]=setTimeout(function(){i(l)},c)),a.ja.Fa.push(t)):i&&i()},a.Pa=function(e){a.l!=s&&a.l[e]&&(clearTimeout(a.l[e]),a.l[e]=0)},a.ga=u,a.ha=u,a.isAllowed=function(){return!a.ga&&(a.ga=l,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1))&&(a.ha=l),a.ha},a.b=s,a.c=s;var d=r.Ub;d||(d="MC");var p=r.ac;p||(p="MCMID");var g=r.Yb;g||(g="MCORGID");var f=r.Vb;f||(f="MCCIDH");var h=r.Zb;h||(h="MCSYNCS");var m=r.$b;m||(m="MCSYNCSOP");var v=r.Wb;v||(v="MCIDTS");var S=r.Xb;S||(S="MCOPTOUT");var _=r.Sb;_||(_="A");var L=r.Pb;L||(L="MCAID");var b=r.Tb;b||(b="AAM");var y=r.Rb;y||(y="MCAAMLH");var w=r.Qb;w||(w="MCAAMB");var D=r.bc;D||(D="NONE"),a.L=0,a.ea=function(){if(!a.L){var e=a.version;a.audienceManagerServer&&(e+="|"+a.audienceManagerServer),a.audienceManagerServerSecure&&(e+="|"+a.audienceManagerServerSecure),a.L=a.fa(e)}return a.L},a.ka=u,a.f=function(){if(!a.ka){a.ka=l;var e,t,i,n,r=a.ea(),o=u,c=a.cookieRead(a.cookieName),d=new Date;if(a.b==s&&(a.b={}),c&&"T"!=c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!=r&&(o=l),c.shift()),1==c.length%2&&c.pop(),r=0;r<c.length;r+=2)t=(e=c[r].split("-"))[0],i=c[r+1],1<e.length?(n=parseInt(e[1],10),e=0<e[1].indexOf("s")):(n=0,e=u),o&&(t==f&&(i=""),0<n&&(n=d.getTime()/1e3-60)),t&&i&&(a.e(t,i,1),0<n&&(a.b["expire"+t]=n+(e?"s":""),d.getTime()>=1e3*n||e&&!a.cookieRead(a.sessionCookieName)))&&(a.c||(a.c={}),a.c[t]=l);o=a.loadSSL?!!a.trackingServerSecure:!!a.trackingServer,!a.a(L)&&o&&(c=a.cookieRead("s_vi"))&&(1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(r=(i=c[1]).indexOf("["))&&(i=i.substring(0,r)),i&&i.match(P.u)&&a.e(L,i)))}},a.Za=function(){var e,t,i=a.ea();for(e in a.b)!Object.prototype[e]&&a.b[e]&&"expire"!=e.substring(0,6)&&(t=a.b[e],i+=(i?"|":"")+e+(a.b["expire"+e]?"-"+a.b["expire"+e]:"")+"|"+t);a.cookieWrite(a.cookieName,i,1)},a.a=function(e,t){return a.b==s||!t&&a.c&&a.c[e]?s:a.b[e]},a.e=function(e,t,i){a.b==s&&(a.b={}),a.b[e]=t,i||a.Za()},a.Sa=function(e,t){var i=a.a(e,t);return i?i.split("*"):s},a.Ya=function(e,t,i){a.e(e,t?t.join("*"):"",i)},a.Jb=function(e,t){var i=a.Sa(e,t);if(i){var n,r={};for(n=0;n<i.length;n+=2)r[i[n]]=i[n+1];return r}return s},a.Lb=function(e,t,i){var n,r=s;if(t)for(n in r=[],t)Object.prototype[n]||(r.push(n),r.push(t[n]));a.Ya(e,r,i)},a.j=function(e,t,i){var n=new Date;n.setTime(n.getTime()+1e3*t),a.b==s&&(a.b={}),a.b["expire"+e]=Math.floor(n.getTime()/1e3)+(i?"s":""),0>t?(a.c||(a.c={}),a.c[e]=l):a.c&&(a.c[e]=u),i&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))},a.da=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&("NOTARGET"==(e=e.toUpperCase())&&(e=D)),!e||e!=D&&!e.match(P.u))&&(e=""),e},a.k=function(e,t){if(a.Pa(e),a.i!=s&&(a.i[e]=u),T.d[e]&&(T.d[e].Ab=T.o(),T.I(e)),x.d[e]&&x.Ha(e,u),e==d){x.isClientSideMarketingCloudVisitorID!==l&&(x.isClientSideMarketingCloudVisitorID=u);var i=a.a(p);if(!i||a.overwriteCrossDomainMCIDAndAID){if(!(i="object"==typeof t&&t.mid?t.mid:a.da(t))){if(a.B)return void a.getAnalyticsVisitorID(s,u,l);i=a.s(0,p)}a.e(p,i)}i&&i!=D||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&a.k(b,t),a.B&&t.mid&&a.k(_,{id:t.id})),a.r(p,[i])}if(e==b&&"object"==typeof t){i=604800,t.id_sync_ttl!=c&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl,10));var n=a.a(y);n||((n=t.d_region)||(n=t.dcs_region),n&&(a.j(y,i),a.e(y,n))),n||(n=""),a.r(y,[n]),n=a.a(w),(t.d_blob||t.blob)&&((n=t.d_blob)||(n=t.blob),a.j(w,i),a.e(w,n)),n||(n=""),a.r(w,[n]),!t.error_msg&&a.A&&a.e(f,a.A)}var r;(e==_&&((i=a.a(L))&&!a.overwriteCrossDomainMCIDAndAID||((i=a.da(t))?i!==D&&a.j(w,-1):i=D,a.e(L,i)),i&&i!=D||(i=""),a.r(L,[i])),a.idSyncDisableSyncs?E.za=l:(E.za=u,(i={}).ibs=t.ibs,i.subdomain=t.subdomain,E.wb(i)),t===Object(t))&&(a.isAllowed()&&(r=a.a(S)),r||(r=D,t.d_optout&&t.d_optout instanceof Array&&(r=t.d_optout.join(",")),i=parseInt(t.d_ottl,10),isNaN(i)&&(i=7200),a.j(S,i,l),a.e(S,r)),a.r(S,[r]))},a.i=s,a.t=function(e,t,i,n,r){var o,c="",u=k.ob(e);return a.isAllowed()&&(a.f(),c=a.a(e,j[e]===l),a.disableThirdPartyCalls&&!c&&(e===p?(c=a.s(0,p),a.setMarketingCloudVisitorID(c)):e===L&&!u&&(c="",a.setAnalyticsVisitorID(c))),(!c||a.c&&a.c[e])&&(!a.disableThirdPartyCalls||u))&&(e==p||e==S?o=d:e==y||e==w?o=b:e==L&&(o=_),o)?(!t||a.i!=s&&a.i[o]||(a.i==s&&(a.i={}),a.i[o]=l,a.Ta(o,t,function(t,i){if(!a.a(e))if(T.d[o]&&(T.d[o].timeout=T.o(),T.d[o].nb=!!t,T.I(o)),i!==Object(i)||a.useCORSOnly){t&&x.Ha(o,l);var n="";e==p?n=a.s(0,p):o==b&&(n={error_msg:"timeout"}),a.k(o,n)}else a.ia(o,i.url,i.G)},r)),c||(a.Xa(e,i),t||a.k(o,{id:D}),"")):(e!=p&&e!=L||c!=D||(c="",n=l),i&&(n||a.disableThirdPartyCalls)&&a.J(i,[c]),c)},a._setMarketingCloudFields=function(e){a.f(),a.k(d,e)},a.setMarketingCloudVisitorID=function(e){a._setMarketingCloudFields(e)},a.B=u,a.getMarketingCloudVisitorID=function(e,t){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.B=l);var i=a.z("_setMarketingCloudFields");return a.t(p,i.url,e,t,i)}return""},a.Ua=function(){a.getAudienceManagerBlob()},r.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},a.w={},a.ca=u,a.A="",a.setCustomerIDs=function(e){if(a.isAllowed()&&e){var t,i;for(t in a.f(),e)if(!Object.prototype[t]&&(i=e[t]))if("object"==typeof i){var n={};i.id&&(n.id=i.id),i.authState!=c&&(n.authState=i.authState),a.w[t]=n}else a.w[t]={id:i};e=a.getCustomerIDs(),n=a.a(f);var r="";for(t in n||(n=0),e)Object.prototype[t]||(r+=(r?"|":"")+t+"|"+((i=e[t]).id?i.id:"")+(i.authState?i.authState:""));a.A=a.fa(r),a.A!=n&&(a.ca=l,a.Ua())}},a.getCustomerIDs=function(){a.f();var e,t,i={};for(e in a.w)Object.prototype[e]||(t=a.w[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),i[e].authState=t.authState!=c?t.authState:r.AuthState.UNKNOWN);return i},a._setAnalyticsFields=function(e){a.f(),a.k(_,e)},a.setAnalyticsVisitorID=function(e){a._setAnalyticsFields(e)},a.getAnalyticsVisitorID=function(e,t,i){if(a.isAllowed()){var n="";if(i||(n=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(e,l)})),n||i){var r=i?a.marketingCloudServer:a.trackingServer,o="";a.loadSSL&&(i?a.marketingCloudServerSecure&&(r=a.marketingCloudServerSecure):a.trackingServerSecure&&(r=a.trackingServerSecure));var s={};if(r){r="http"+(a.loadSSL?"s":"")+"://"+r+"/id",n="d_visid_ver="+a.version+"&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"");var c=["s_c_il",a._in,"_set"+(i?"MarketingCloud":"Analytics")+"Fields"];o=r+"?"+n+"&callback=s_c_il%5B"+a._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields";s.m=r+"?"+n,s.oa=c}return s.url=o,a.t(i?p:L,o,e,t,s)}}return""},a._setAudienceManagerFields=function(e){a.f(),a.k(b,e)},a.z=function(e){var t=a.audienceManagerServer,i="",n=a.a(p),r=a.a(w,l),o=(o=a.a(L))&&o!=D?"&d_cid_ic=AVID%01"+encodeURIComponent(o):"";if(a.loadSSL&&a.audienceManagerServerSecure&&(t=a.audienceManagerServerSecure),t){var s,c;if(i=a.getCustomerIDs())for(s in i)Object.prototype[s]||(c=i[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""));return e||(e="_setAudienceManagerFields"),t="http"+(a.loadSSL?"s":"")+"://"+t+"/id",n="d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!n&&a.B?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,r=["s_c_il",a._in,e],{url:i=t+"?"+n+"&d_cb=s_c_il%5B"+a._in+"%5D."+e,m:t+"?"+n,oa:r}}return{url:i}},a.getAudienceManagerLocationHint=function(e,t){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(e,l)})){var i=a.a(L);if(i||(i=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(e,l)})),i)return i=a.z(),a.t(y,i.url,e,t,i)}return""},a.getLocationHint=a.getAudienceManagerLocationHint,a.getAudienceManagerBlob=function(e,t){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(e,l)})&&((i=a.a(L))||(i=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(e,l)})),i)){var i,n=(i=a.z()).url;return a.ca&&a.j(w,-1),a.t(w,n,e,t,i)}return""},a._supplementalDataIDCurrent="",a._supplementalDataIDCurrentConsumed={},a._supplementalDataIDLast="",a._supplementalDataIDLastConsumed={},a.getSupplementalDataID=function(e,t){!a._supplementalDataIDCurrent&&!t&&(a._supplementalDataIDCurrent=a.s(1));var i=a._supplementalDataIDCurrent;return a._supplementalDataIDLast&&!a._supplementalDataIDLastConsumed[e]?(i=a._supplementalDataIDLast,a._supplementalDataIDLastConsumed[e]=l):i&&(a._supplementalDataIDCurrentConsumed[e]&&(a._supplementalDataIDLast=a._supplementalDataIDCurrent,a._supplementalDataIDLastConsumed=a._supplementalDataIDCurrentConsumed,a._supplementalDataIDCurrent=i=t?"":a.s(1),a._supplementalDataIDCurrentConsumed={}),i&&(a._supplementalDataIDCurrentConsumed[e]=l)),i},r.OptOut={GLOBAL:"global"},a.getOptOut=function(e,t){if(a.isAllowed()){var i=a.z("_setMarketingCloudFields");return a.t(S,i.url,e,t,i)}return""},a.isOptedOut=function(e,t,i){return a.isAllowed()?(t||(t=r.OptOut.GLOBAL),(i=a.getOptOut(function(i){a.J(e,[i==r.OptOut.GLOBAL||0<=i.indexOf(t)])},i))?i==r.OptOut.GLOBAL||0<=i.indexOf(t):s):u},a.appendVisitorIDsTo=function(e){var t=P.Z,n=i([[p,a.a(p)],[L,a.a(L)],[g,a.marketingCloudOrgID]]);try{return a.v(e,t,n)}catch(r){return e}};var P={q:!!n.postMessage,La:1,aa:864e5,Z:"adobe_mc",u:/^[0-9a-fA-F\-]+$/,Ka:5};a.Eb=P,a.na={postMessage:function(e,t,i){var a=1;t&&(P.q?i.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(i.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},U:function(e,t){var i;try{P.q&&(e&&(i=function(i){if("string"==typeof t&&i.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(i.origin))return!1;e(i)}),window.addEventListener?window[e?"addEventListener":"removeEventListener"]("message",i,!1):window[e?"attachEvent":"detachEvent"]("onmessage",i))}catch(a){}}};var k={M:o.addEventListener?function(e,t,i){e.addEventListener(t,function(e){"function"==typeof i&&i(e)},u)}:o.attachEvent?function(e,t,i){e.attachEvent("on"+t,function(e){"function"==typeof i&&i(e)})}:void 0,map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||e===s)throw new TypeError;var i=Object(e),a=i.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=Array(a),r=0;r<a;r++)r in i&&(n[r]=t.call(t,i[r],r,i));return n},va:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},vb:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},mb:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},$a:function(e,t,i){return e=e.split("&"),i=i!=s?i:e.length,e.splice(i,0,t),e.join("&")},ob:function(e,t,i){return e!==L?u:(t||(t=a.trackingServer),i||(i=a.trackingServerSecure),"string"==typeof(e=a.loadSSL?i:t)&&e.length?0>e.indexOf("2o7.net")&&0>e.indexOf("omtrdc.net"):u)},pb:function(e){return Boolean(e&&e===Object(e))}};a.Kb=k;var V,C,I={C:(V="none",C=l,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?V="XMLHttpRequest":new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?V="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(C=u),0<Object.prototype.toString.call(window.Bb).indexOf("Constructor")&&(C=u)),{D:V,Nb:C}),jb:function(){return"none"===this.C.D?s:new window[this.C.D]},ib:function(e,t,i){var n=this;t&&(e.G=t);try{var r=this.jb();r.open("get",e.m+"&ts="+(new Date).getTime(),l),"XMLHttpRequest"===this.C.D&&(r.withCredentials=l,r.timeout=a.loadTimeout,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(4===this.readyState&&200===this.status)e:{var i;try{if((i=JSON.parse(this.responseText))!==Object(i)){n.n(e,s,"Response is not JSON");break e}}catch(t){n.n(e,t,"Error parsing response as JSON");break e}try{for(var a=e.oa,r=window,o=0;o<a.length;o++)r=r[a[o]];r(i)}catch(l){n.n(e,l,"Error forming callback function")}}}),r.onerror=function(t){n.n(e,t,"onerror")},r.ontimeout=function(t){n.n(e,t,"ontimeout")},r.send(),T.d[i]={requestStart:T.o(),url:e.m,ta:r.timeout,ra:T.ya(),sa:1},a.ja.Fa.push(e.m)}catch(o){this.n(e,o,"try-catch")}},n:function(e,t,i){a.CORSErrors.push({Ob:e,error:t,description:i}),e.G&&("ontimeout"===i?e.G(l):e.G(u,e))}};a.la=I;var E={Na:3e4,$:649,Ja:u,id:s,T:[],Q:s,xa:function(e){if("string"==typeof e)return(e=e.split("/"))[0]+"//"+e[2]},g:s,url:s,kb:function(){var e="http://fast.",t="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(o.location.href);return this.g||(this.g="nosubdomainreturned"),a.loadSSL&&(e=a.idSyncSSLUseAkamai?"https://fast.":"https://"),e=e+this.g+".demdex.net/dest5.html"+t,this.Q=this.xa(e),this.id="destination_publishing_iframe_"+this.g+"_"+a.idSyncContainerID,e},cb:function(){var e="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(o.location.href);"string"==typeof a.K&&a.K.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.Q=this.xa(a.K),this.url=a.K+e)},za:s,ua:u,W:u,F:s,cc:s,ub:s,dc:s,V:u,H:[],sb:[],tb:[],Ba:P.q?15:100,R:[],qb:[],pa:l,Ea:u,Da:function(){return!a.idSyncDisable3rdPartySyncing&&(this.ua||a.Gb)&&this.g&&"nosubdomainreturned"!==this.g&&this.url&&!this.W},O:function(){function e(){(a=document.createElement("iframe")).sandbox="allow-scripts allow-same-origin",a.title="Adobe ID Syncing iFrame",a.id=i.id,a.style.cssText="display: none; width: 0; height: 0;",a.src=i.url,i.ub=l,t(),document.body.appendChild(a)}function t(){k.M(a,"load",function(){a.className="aamIframeLoaded",i.F=l,i.p()})}this.W=l;var i=this,a=document.getElementById(this.id);a?"IFRAME"!==a.nodeName?(this.id+="_2",e()):"aamIframeLoaded"!==a.className?t():(this.F=l,this.Aa=a,this.p()):e(),this.Aa=a},p:function(e){var t=this;e===Object(e)&&(this.R.push(e),this.xb(e)),(this.Ea||!P.q||this.F)&&this.R.length&&(this.I(this.R.shift()),this.p()),!a.idSyncDisableSyncs&&this.F&&this.H.length&&!this.V&&(this.Ja||(this.Ja=l,setTimeout(function(){t.Ba=P.q?15:150},this.Na)),this.V=l,this.Ga())},xb:function(e){var t,i,a;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(e=0;e<i;e++)(a=t[e]).syncOnPage&&this.qa(a,"","syncOnPage")},I:function(e){var t,i,a,n,r,o=encodeURIComponent;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(a=0;a<i;a++)n=t[a],r=[o("ibs"),o(n.id||""),o(n.tag||""),k.va(n.url||[],","),o(n.ttl||""),"","",n.fireURLSync?"true":"false"],n.syncOnPage||(this.pa?this.N(r.join("|")):n.fireURLSync&&this.qa(n,r.join("|")));this.qb.push(e)},qa:function(e,t,i){var n=(i="syncOnPage"===i?l:u)?m:h;a.f();var r=a.a(n),o=u,s=u,c=Math.ceil((new Date).getTime()/P.aa);r?(r=r.split("*"),o=(s=this.yb(r,e.id,c)).gb,s=s.hb,(!o||!s)&&this.wa(i,e,t,r,n,c)):(r=[],this.wa(i,e,t,r,n,c))},yb:function(e,t,i){var a,n,r,o=u,s=u;for(n=0;n<e.length;n++)a=e[n],r=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(o=l,i<r?s=l:(e.splice(n,1),n--)):i>=r&&(e.splice(n,1),n--);return{gb:o,hb:s}},rb:function(e){if(e.join("*").length>this.$)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.$;)e.shift()},wa:function(e,t,i,n,r,o){var c=this;if(e){if("img"===t.tag){var l,u,d;e=t.url,i=a.loadSSL?"https:":"http:";for(n=0,l=e.length;n<l;n++){u=e[n],d=/^\/\//.test(u);var p=new Image;k.M(p,"load",function(e,t,i,n){return function(){c.T[e]=s,a.f();var o,l,u,d,p=[];if(o=a.a(r))for(l=0,u=(o=o.split("*")).length;l<u;l++)(d=o[l]).match("^"+t.id+"-")||p.push(d);c.Ia(p,t,i,n)}}(this.T.length,t,r,o)),p.src=(d?i:"")+u,this.T.push(p)}}}else this.N(i),this.Ia(n,t,r,o)},N:function(e){var t=encodeURIComponent;this.H.push((a.Hb?t("---destpub-debug---"):t("---destpub---"))+e)},Ia:function(e,t,i,n){e.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.rb(e),a.e(i,e.join("*"))},Ga:function(){var e,t=this;this.H.length?(e=this.H.shift(),a.na.postMessage(e,this.url,this.Aa.contentWindow),this.sb.push(e),setTimeout(function(){t.Ga()},this.Ba)):this.V=u},U:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.pa="true"===t[1]?l:u,this.Ea=l,this.p()),this.tb.push(e))},wb:function(e){(this.url===s||e.subdomain&&"nosubdomainreturned"===this.g)&&(this.g="string"==typeof a.ma&&a.ma.length?a.ma:e.subdomain||"",this.url=this.kb()),e.ibs instanceof Array&&e.ibs.length&&(this.ua=l),this.Da()&&(a.idSyncAttachIframeOnWindowLoad?(r.Y||"complete"===o.readyState||"loaded"===o.readyState)&&this.O():this.ab()),"function"==typeof a.idSyncIDCallResult?a.idSyncIDCallResult(e):this.p(e),"function"==typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(e)},bb:function(e,t){return a.Ib||!e||t-e>P.La},ab:function(){function e(){t.W||(document.body?t.O():setTimeout(e,30))}var t=this;e()}};a.Fb=E,a.timeoutMetricsLog=[];var T={fb:window.performance&&window.performance.timing?1:0,Ca:window.performance&&window.performance.timing?window.performance.timing:s,X:s,P:s,d:{},S:[],send:function(e){if(a.takeTimeoutMetrics&&e===Object(e)){var t,i=[],n=encodeURIComponent;for(t in e)e.hasOwnProperty(t)&&i.push(n(t)+"="+n(e[t]));e="http"+(a.loadSSL?"s":"")+"://dpm.demdex.net/event?d_visid_ver="+a.version+"&d_visid_stg_timeout="+a.loadTimeout+"&"+i.join("&")+"&d_orgid="+n(a.marketingCloudOrgID)+"&d_timingapi="+this.fb+"&d_winload="+this.lb()+"&d_ld="+this.o(),(new Image).src=e,a.timeoutMetricsLog.push(e)}},lb:function(){return this.P===s&&(this.P=this.Ca?this.X-this.Ca.navigationStart:this.X-r.eb),this.P},o:function(){return(new Date).getTime()},I:function(e){var t=this.d[e],i={};i.d_visid_stg_timeout_captured=t.ta,i.d_visid_cors=t.sa,i.d_fieldgroup=e,i.d_settimeout_overriden=t.ra,t.timeout?t.nb?(i.d_visid_timedout=1,i.d_visid_timeout=t.timeout-t.requestStart,i.d_visid_response=-1):(i.d_visid_timedout="n/a",i.d_visid_timeout="n/a",i.d_visid_response="n/a"):(i.d_visid_timedout=0,i.d_visid_timeout=-1,i.d_visid_response=t.Ab-t.requestStart),i.d_visid_url=t.url,r.Y?this.send(i):this.S.push(i),delete this.d[e]},zb:function(){for(var e=0,t=this.S.length;e<t;e++)this.send(this.S[e])},ya:function(){return"function"==typeof setTimeout.toString?-1<setTimeout.toString().indexOf("[native code]")?0:1:-1}};a.Mb=T;var x={isClientSideMarketingCloudVisitorID:s,MCIDCallTimedOut:s,AnalyticsIDCallTimedOut:s,AAMIDCallTimedOut:s,d:{},Ha:function(e,t){switch(e){case d:t===u?this.MCIDCallTimedOut!==l&&(this.MCIDCallTimedOut=u):this.MCIDCallTimedOut=t;break;case _:t===u?this.AnalyticsIDCallTimedOut!==l&&(this.AnalyticsIDCallTimedOut=u):this.AnalyticsIDCallTimedOut=t;break;case b:t===u?this.AAMIDCallTimedOut!==l&&(this.AAMIDCallTimedOut=u):this.AAMIDCallTimedOut=t}}};a.isClientSideMarketingCloudVisitorID=function(){return x.isClientSideMarketingCloudVisitorID},a.MCIDCallTimedOut=function(){return x.MCIDCallTimedOut},a.AnalyticsIDCallTimedOut=function(){return x.AnalyticsIDCallTimedOut},a.AAMIDCallTimedOut=function(){return x.AAMIDCallTimedOut},a.idSyncGetOnPageSyncInfo=function(){return a.f(),a.a(m)},a.idSyncByURL=function(e){var t;t=(o=e||{}).minutesToLive;var i="";if(a.idSyncDisableSyncs&&(i=i||"Error: id syncs have been disabled"),"string"==typeof o.dpid&&o.dpid.length||(i=i||"Error: config.dpid is empty"),"string"==typeof o.url&&o.url.length||(i=i||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||0>=t)&&(i=i||"Error: config.minutesToLive needs to be a positive number")),(t={error:i,ec:t}).error)return t.error;i=e.url;var n,r=encodeURIComponent,o=E;i=i.replace(/^https:/,"").replace(/^http:/,"");return n=k.va(["",e.dpid,e.dpuuid||""],","),e=["ibs",r(e.dpid),"img",r(i),t.ttl,"",n],o.N(e.join("|")),o.p(),"Successfully queued"},a.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,a.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},0>e.indexOf("@")&&(e+="@AdobeOrg"),a.marketingCloudOrgID=e,a.cookieName="AMCV_"+e,a.sessionCookieName="AMCVS_"+e,a.cookieDomain=a.Ra(),a.cookieDomain==n.location.hostname&&(a.cookieDomain=""),a.loadSSL=0<=n.location.protocol.toLowerCase().indexOf("https"),a.loadTimeout=3e4,a.CORSErrors=[],a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";var j={};if(j[y]=l,j[w]=l,t&&"object"==typeof t){for(var A in t)!Object.prototype[A]&&(a[A]=t[A]);a.idSyncContainerID=a.idSyncContainerID||0,a.ba(),a.f(),I=a.a(v),A=Math.ceil((new Date).getTime()/P.aa),!a.idSyncDisableSyncs&&E.bb(I,A)&&(a.j(w,-1),a.e(v,A)),a.getMarketingCloudVisitorID(),a.getAudienceManagerLocationHint(),a.getAudienceManagerBlob(),a.Va(a.serverState)}else a.ba();if(!a.idSyncDisableSyncs){E.cb(),k.M(window,"load",function(){r.Y=l,T.X=T.o(),T.zb();var e=E;e.Da()&&e.O()});try{a.na.U(function(e){E.U(e.data)},E.Q)}catch(O){}}}Visitor.getInstance=function(e,t){var i,a,n=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),n)for(a=0;a<n.length;a++)if((i=n[a])&&"Visitor"==i._c&&i.marketingCloudOrgID==e)return i;return new Visitor(e,t)},function(){function e(){t.Y=i}var t=window.Visitor,i=t.Oa,a=t.Ma;i||(i=!0),a||(a=!1),window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e),t.eb=(new Date).getTime()}(),
// All code and conventions are protected by copyright
function(window,document,undefined){function assert(e,t){if(!e)throw new Error(t||"Assertion Failure")}function LeaveEventEmitter(){SL.getToolsByType("nielsen").length>0&&SL.domReady(SL.bind(this.initialize,this))}function TwitterEventEmitter(e){SL.domReady(SL.bind(function(){this.twttr=e||window.twttr,this.initialize()},this))}function LocationChangeEventEmitter(){this.lastURL=SL.URL(),this._fireIfURIChanged=SL.bind(this.fireIfURIChanged,this),this._onPopState=SL.bind(this.onPopState,this),this._onHashChange=SL.bind(this.onHashChange,this),this._pushState=SL.bind(this.pushState,this),this._replaceState=SL.bind(this.replaceState,this),this.initialize()}function DataElementChangeEmitter(){var e=SL.filter(SL.rules,function(e){return 0===e.event.indexOf("dataelementchange")});this.dataElementsNames=SL.map(e,function(e){return e.event.match(/dataelementchange\((.*)\)/i)[1]},this),this.initPolling()}function OrientationChangeEventEmitter(){SL.addEventHandler(window,"orientationchange",OrientationChangeEventEmitter.orientationChange)}function VideoPlayedEventEmitter(){this.rules=SL.filter(SL.rules,function(e){return"videoplayed"===e.event.substring(0,11)}),this.eventHandler=SL.bind(this.onUpdateTime,this)}function VisibilityEventEmitter(){this.defineEvents(),this.visibilityApiHasPriority=!0,document.addEventListener?this.setVisibilityApiPriority(!1):this.attachDetachOlderEventListeners(!0,document,"focusout");SL.bindEvent("aftertoolinit",function(){SL.fireEvent(SL.visibility.isHidden()?"tabblur":"tabfocus")})}function InViewEventEmitter(e){e=e||SL.rules,this.rules=SL.filter(e,function(e){return"inview"===e.event}),this.elements=[],this.eventHandler=SL.bind(this.track,this),SL.addEventHandler(window,"scroll",this.eventHandler),SL.addEventHandler(window,"load",this.eventHandler)}function ElementExistsEventEmitter(){this.rules=SL.filter(SL.rules,function(e){return"elementexists"===e.event})}function FacebookEventEmitter(e){this.delay=250,this.FB=e,SL.domReady(SL.bind(function(){SL.poll(SL.bind(this.initialize,this),this.delay,8)},this))}function HoverEventEmitter(){var e=this.eventRegex=/^hover\(([0-9]+)\)$/,t=this.rules=[];SL.each(SL.rules,function(i){i.event.match(e)&&t.push([Number(i.event.match(e)[1]),i.selector])})}function NielsenTool(e){SL.BaseTool.call(this,e),this.defineListeners(),this.beaconMethod="plainBeacon",this.adapt=new NielsenTool.DataAdapters,this.dataProvider=new NielsenTool.DataProvider.Aggregate}function Tnt(e){SL.BaseTool.call(this,e),this.styleElements={},this.targetPageParamsStore={}}function DefaultTool(){SL.BaseTool.call(this),this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function SiteCatalystTool(e){SL.BaseTool.call(this,e),this.varBindings={},this.events=[],this.products=[],this.customSetupFuns=[]}function BasicTool(e){SL.BaseTool.call(this,e),this.name=e.name||"Basic"}function GATool(e){SL.BaseTool.call(this,e)}function GAUniversalTool(e){SL.BaseTool.call(this,e)}function VisitorIdTool(e){SL.BaseTool.call(this,e),this.name=e.name||"VisitorID",this.initialize()}var ToString=Object.prototype.toString,Overrides=window._satellite&&window._satellite.override,SL={initialized:!1,$data:function(e,t,i){if(e){var a="__satellite__",n=SL.dataCache,r=e[a];r||(r=e[a]=SL.uuid++);var o=n[r];if(o||(o=n[r]={}),i===undefined)return o[t];o[t]=i}},uuid:1,dataCache:{},keys:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},values:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},isArray:Array.isArray||function(e){return"[object Array]"===ToString.apply(e)},isObject:function(e){return null!=e&&!SL.isArray(e)&&"object"==typeof e},isString:function(e){return"string"==typeof e},isNumber:function(e){return"[object Number]"===ToString.apply(e)&&!SL.isNaN(e)},isNaN:function(e){return e!=e},isRegex:function(e){return e instanceof RegExp},isLinkTag:function(e){return!(!e||!e.nodeName||"a"!==e.nodeName.toLowerCase())},each:function(e,t,i){for(var a=0,n=e.length;a<n;a++)t.call(i,e[a],a,e)},map:function(e,t,i){for(var a=[],n=0,r=e.length;n<r;n++)a.push(t.call(i,e[n],n,e));return a},filter:function(e,t,i){for(var a=[],n=0,r=e.length;n<r;n++){var o=e[n];t.call(i,o,n,e)&&a.push(o)}return a},any:function(e,t,i){for(var a=0,n=e.length;a<n;a++){var r=e[a];if(t.call(i,r,a,e))return!0}return!1},every:function(e,t,i){for(var a=!0,n=0,r=e.length;n<r;n++){var o=e[n];a=a&&t.call(i,o,n,e)}return a},contains:function(e,t){return-1!==SL.indexOf(e,t)},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=e.length;i--;)if(t===e[i])return i;return-1},find:function(e,t,i){if(!e)return null;for(var a=0,n=e.length;a<n;a++){var r=e[a];if(t.call(i,r,a,e))return r}return null},textMatch:function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))},stringify:function(e,t){if(t=t||[],SL.isObject(e)){if(SL.contains(t,e))return"<Cycle>";t.push(e)}if(SL.isArray(e))return"["+SL.map(e,function(e){return SL.stringify(e,t)}).join(",")+"]";if(SL.isString(e))return'"'+String(e)+'"';if(SL.isObject(e)){var i=[];for(var a in e)e.hasOwnProperty(a)&&i.push(a+": "+SL.stringify(e[a],t));return"{"+i.join(", ")+"}"}return String(e)},trim:function(e){return null==e?null:e.trim?e.trim():e.replace(/^ */,"").replace(/ *$/,"")},bind:function(e,t){return function(){return e.apply(t,arguments)}},throttle:function(e,t){var i=null;return function(){var a=this,n=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(a,n)},t)}},domReady:function(e){function t(e){for(d=1;e=a.shift();)e()}var i,a=[],n=!1,r=document,o=r.documentElement,s=o.doScroll,c="DOMContentLoaded",l="addEventListener",u="onreadystatechange",d=/^loade|^c/.test(r.readyState);return r[l]&&r[l](c,i=function(){r.removeEventListener(c,i,n),t()},n),s&&r.attachEvent(u,i=function(){/^c/.test(r.readyState)&&(r.detachEvent(u,i),t())}),e=s?function(t){self!=top?d?t():a.push(t):function(){try{o.doScroll("left")}catch(i){return setTimeout(function(){e(t)},50)}t()}()}:function(e){d?e():a.push(e)}}(),loadScript:function(e,t){var i=document.createElement("script");SL.scriptOnLoad(e,i,t),i.src=e,document.getElementsByTagName("head")[0].appendChild(i)},scriptOnLoad:function(e,t,i){function a(e){e&&SL.logError(e),i&&i(e)}"onload"in t?(t.onload=function(){a()},t.onerror=function(){a(new Error("Failed to load script "+e))}):"readyState"in t&&(t.onreadystatechange=function(){var e=t.readyState;"loaded"!==e&&"complete"!==e||(t.onreadystatechange=null,a())})},loadScriptOnce:function(e,t){SL.loadedScriptRegistry[e]||SL.loadScript(e,function(i){i||(SL.loadedScriptRegistry[e]=!0),t&&t(i)})},loadedScriptRegistry:{},loadScriptSync:function(e){document.write?SL.domReadyFired?SL.notify('Cannot load sync the "'+e+'" script after DOM Ready.',1):(e.indexOf('"')>-1&&(e=encodeURI(e)),document.write('<script src="'+e+'"></script>')):SL.notify('Cannot load sync the "'+e+'" script because "document.write" is not available',1)},pushAsyncScript:function(e){SL.tools["default"].pushAsyncScript(e)},pushBlockingScript:function(e){SL.tools["default"].pushBlockingScript(e)},addEventHandler:window.addEventListener?function(e,t,i){e.addEventListener(t,i,!1)}:function(e,t,i){e.attachEvent("on"+t,i)},removeEventHandler:window.removeEventListener?function(e,t,i){e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent("on"+t,i)},preventDefault:window.addEventListener?function(e){e.preventDefault()}:function(e){e.returnValue=!1},stopPropagation:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},containsElement:function(e,t){return e.contains?e.contains(t):!!(16&e.compareDocumentPosition(t))},matchesCss:function(e){function t(e,t){var i=t.tagName;return!!i&&e.toLowerCase()===i.toLowerCase()}var i=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||e.msMatchesSelector;return i?function(e,t){if(t===document||t===window)return!1;try{return i.call(t,e)}catch(a){return!1}}:e.querySelectorAll?function(e,i){if(!i.parentNode)return!1;if(e.match(/^[a-z]+$/i))return t(e,i);try{for(var a=i.parentNode.querySelectorAll(e),n=a.length;n--;)if(a[n]===i)return!0}catch(r){}return!1}:function(e,i){if(e.match(/^[a-z]+$/i))return t(e,i);try{return SL.Sizzle.matches(e,[i]).length>0}catch(a){return!1}}}(document.documentElement),cssQuery:(mj=document,mj.querySelectorAll?function(e,t){var i;try{i=mj.querySelectorAll(e)}catch(a){i=[]}t(i)}:function(e,t){if(SL.Sizzle){var i;try{i=SL.Sizzle(e)}catch(a){i=[]}t(i)}else SL.sizzleQueue.push([e,t])}),hasAttr:function(e,t){return e.hasAttribute?e.hasAttribute(t):e[t]!==undefined},inherit:function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e},extend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},toArray:function(){try{var e=Array.prototype.slice;return e.call(document.documentElement.childNodes,0)[0].nodeType,function(t){return e.call(t,0)}}catch(t){return function(e){for(var t=[],i=0,a=e.length;i<a;i++)t.push(e[i]);return t}}}(),equalsIgnoreCase:function(e,t){return null==e?null==t:null!=t&&String(e).toLowerCase()===String(t).toLowerCase()},poll:function(e,t,i){function a(){SL.isNumber(i)&&n++>=i||e()||setTimeout(a,t)}var n=0;t=t||1e3,a()},escapeForHtml:function(e){return e?String(e).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}},mj,ao,bo;SL.availableTools={},SL.availableEventEmitters=[],SL.fireOnceEvents=["condition","elementexists"],SL.initEventEmitters=function(){SL.eventEmitters=SL.map(SL.availableEventEmitters,function(e){return new e})},SL.eventEmitterBackgroundTasks=function(){SL.each(SL.eventEmitters,function(e){"backgroundTasks"in e&&e.backgroundTasks()})},SL.initTools=function(e){var t={"default":new DefaultTool},i=SL.settings.euCookieName||"sat_track";for(var a in e)if(e.hasOwnProperty(a)){var n,r,o;if((n=e[a]).euCookie)if("true"!==SL.readCookie(i))continue;if(!(r=SL.availableTools[n.engine])){var s=[];for(var c in SL.availableTools)SL.availableTools.hasOwnProperty(c)&&s.push(c);throw new Error("No tool engine named "+n.engine+", available: "+s.join(",")+".")}(o=new r(n)).id=a,t[a]=o}return t},SL.preprocessArguments=function(e,t,i,a,n){function r(e){return a&&SL.isString(e)?e.toLowerCase():e}function o(e){var c={};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l];SL.isObject(u)?c[l]=o(u):SL.isArray(u)?c[l]=s(u,a):c[l]=r(SL.replace(u,t,i,n))}return c}function s(e){for(var a=[],n=0,s=e.length;n<s;n++){var c=e[n];SL.isString(c)?c=r(SL.replace(c,t,i)):c&&c.constructor===Object&&(c=o(c)),a.push(c)}return a}return e?s(e,a):e},SL.execute=function(e,t,i,a){function n(n){var r=a[n||"default"];if(r)try{r.triggerCommand(e,t,i)}catch(o){SL.logError(o)}}if(!_satellite.settings.hideActivity)if(a=a||SL.tools,e.engine){var r=e.engine;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];s.settings&&s.settings.engine===r&&n(o)}}else e.tool instanceof Array?SL.each(e.tool,function(e){n(e)}):n(e.tool)},SL.Logger={outputEnabled:!1,messages:[],keepLimit:100,flushed:!1,LEVELS:[null,null,"log","info","warn","error"],message:function(e,t){var i=this.LEVELS[t]||"log";this.messages.push([i,e]),this.messages.length>this.keepLimit&&this.messages.shift(),this.outputEnabled&&this.echo(i,e)},getHistory:function(){return this.messages},clearHistory:function(){this.messages=[]},setOutputState:function(e){this.outputEnabled!=e&&(this.outputEnabled=e,e?this.flush():this.flushed=!1)},echo:function(e,t){window.console&&window.console[e]("SATELLITE: "+t)},flush:function(){this.flushed||(SL.each(this.messages,function(e){!0!==e[2]&&(this.echo(e[0],e[1]),e[2]=!0)},this),this.flushed=!0)}},SL.notify=SL.bind(SL.Logger.message,SL.Logger),SL.cleanText=function(e){return null==e?null:SL.trim(e).replace(/\s+/g," ")},SL.cleanText.legacy=function(e){return null==e?null:SL.trim(e).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},SL.text=function(e){return e.textContent||e.innerText},SL.specialProperties={text:SL.text,cleanText:function(e){return SL.cleanText(SL.text(e))}},SL.getObjectProperty=function(e,t,i){for(var a,n=t.split("."),r=e,o=SL.specialProperties,s=0,c=n.length;s<c;s++){if(null==r)return undefined;var l=n[s];if(i&&"@"===l.charAt(0))r=o[l.slice(1)](r);else if(r.getAttribute&&(a=l.match(/^getAttribute\((.+)\)$/))){var u=a[1];r=r.getAttribute(u)}else r=r[l]}return r},SL.getToolsByType=function(e){if(!e)throw new Error("Tool type is missing");var t=[];for(var i in SL.tools)if(SL.tools.hasOwnProperty(i)){var a=SL.tools[i];a.settings&&a.settings.engine===e&&t.push(a)}return t},SL.setVar=function(){var e=SL.data.customVars;if(null==e&&(SL.data.customVars={},e=SL.data.customVars),"string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}},SL.dataElementSafe=function(e,t){if(arguments.length>2){var i=arguments[2];"pageview"===t?SL.dataElementSafe.pageviewCache[e]=i:"session"===t?SL.setCookie("_sdsat_"+e,i):"visitor"===t&&SL.setCookie("_sdsat_"+e,i,730)}else{if("pageview"===t)return SL.dataElementSafe.pageviewCache[e];if("session"===t||"visitor"===t)return SL.readCookie("_sdsat_"+e)}},SL.dataElementSafe.pageviewCache={},SL.realGetDataElement=function(e){var t;return e.selector?SL.hasSelector&&SL.cssQuery(e.selector,function(i){if(i.length>0){var a=i[0];"text"===e.property?t=a.innerText||a.textContent:e.property in a?t=a[e.property]:SL.hasAttr(a,e.property)&&(t=a.getAttribute(e.property))}}):e.queryParam?t=e.ignoreCase?SL.getQueryParamCaseInsensitive(e.queryParam):SL.getQueryParam(e.queryParam):e.cookie?t=SL.readCookie(e.cookie):e.jsVariable?t=SL.getObjectProperty(window,e.jsVariable):e.customJS?t=e.customJS():e.contextHub&&(t=e.contextHub()),SL.isString(t)&&e.cleanText&&(t=SL.cleanText(t)),t},SL.getDataElement=function(e,t,i){if(null==(i=i||SL.dataElements[e]))return SL.settings.undefinedVarsReturnEmpty?"":null;var a=SL.realGetDataElement(i);return a===undefined&&i.storeLength?a=SL.dataElementSafe(e,i.storeLength):a!==undefined&&i.storeLength&&SL.dataElementSafe(e,i.storeLength,a),a||t||(a=i["default"]||""),SL.isString(a)&&i.forceLowerCase&&(a=a.toLowerCase()),a},SL.getVar=function(e,t,i){var a,n,r=SL.data.customVars,o=i?i.target||i.srcElement:null,s={uri:SL.URI(),protocol:document.location.protocol,hostname:document.location.hostname};if(SL.dataElements&&e in SL.dataElements)return SL.getDataElement(e);if((n=s[e.toLowerCase()])===undefined)if("this."===e.substring(0,5))e=e.slice(5),n=SL.getObjectProperty(t,e,!0);else if("event."===e.substring(0,6))e=e.slice(6),n=SL.getObjectProperty(i,e);else if("target."===e.substring(0,7))e=e.slice(7),n=SL.getObjectProperty(o,e);else if("window."===e.substring(0,7))e=e.slice(7),n=SL.getObjectProperty(window,e);else if("param."===e.substring(0,6))e=e.slice(6),n=SL.getQueryParam(e);else if(a=e.match(/^rand([0-9]+)$/)){var c=Number(a[1]),l=(Math.random()*(Math.pow(10,c)-1)).toFixed(0);n=Array(c-l.length+1).join("0")+l}else n=SL.getObjectProperty(r,e);return n},SL.getVars=function(e,t,i){var a={};return SL.each(e,function(e){a[e]=SL.getVar(e,t,i)}),a},SL.replace=function(e,t,i,a){return"string"!=typeof e?e:e.replace(/%(.*?)%/g,function(e,n){var r=SL.getVar(n,t,i);return null==r?SL.settings.undefinedVarsReturnEmpty?"":e:a?SL.escapeForHtml(r):r})},SL.escapeHtmlParams=function(e){return e.escapeHtml=!0,e},SL.searchVariables=function(e,t,i){if(!e||0===e.length)return"";for(var a=[],n=0,r=e.length;n<r;n++){var o=e[n],s=SL.getVar(o,t,i);a.push(o+"="+escape(s))}return"?"+a.join("&")},SL.fireRule=function(e,t,i){var a=e.trigger;if(a){for(var n=0,r=a.length;n<r;n++){var o=a[n];SL.execute(o,t,i)}SL.contains(SL.fireOnceEvents,e.event)&&(e.expired=!0)}},SL.isLinked=function(e){for(var t=e;t;t=t.parentNode)if(SL.isLinkTag(t))return!0;return!1},SL.firePageLoadEvent=function(e){for(var t=document.location,i={type:e,target:t},a=SL.pageLoadRules,n=SL.evtHandlers[i.type],r=a.length;r--;){var o=a[r];SL.ruleMatches(o,i,t)&&(SL.notify('Rule "'+o.name+'" fired.',1),SL.fireRule(o,t,i))}for(var s in SL.tools)if(SL.tools.hasOwnProperty(s)){var c=SL.tools[s];c.endPLPhase&&c.endPLPhase(e)}n&&SL.each(n,function(e){e(i)})},SL.track=function(e){e=e.replace(/^\s*/,"").replace(/\s*$/,"");for(var t=0;t<SL.directCallRules.length;t++){var i=SL.directCallRules[t];if(i.name===e)return SL.notify('Direct call Rule "'+e+'" fired.',1),void SL.fireRule(i,location,{type:e})}SL.notify('Direct call Rule "'+e+'" not found.',1)},SL.basePath=function(){return SL.data.host?("https:"===document.location.protocol?"https://"+SL.data.host.https:"http://"+SL.data.host.http)+"/":this.settings.basePath},SL.setLocation=function(e){window.location=e},SL.parseQueryParams=function(e){var t=function(e){var t=e;try{t=decodeURIComponent(e)}catch(i){}return t};if(""===e||!1===SL.isString(e))return{};0===e.indexOf("?")&&(e=e.substring(1));var i={},a=e.split("&");return SL.each(a,function(e){(e=e.split("="))[1]&&(i[t(e[0])]=t(e[1]))}),i},SL.getCaseSensitivityQueryParamsMap=function(e){var t=SL.parseQueryParams(e),i={};for(var a in t)t.hasOwnProperty(a)&&(i[a.toLowerCase()]=t[a]);return{normal:t,caseInsensitive:i}},SL.updateQueryParams=function(){SL.QueryParams=SL.getCaseSensitivityQueryParamsMap(window.location.search)},SL.updateQueryParams(),SL.getQueryParam=function(e){return SL.QueryParams.normal[e]},SL.getQueryParamCaseInsensitive=function(e){return SL.QueryParams.caseInsensitive[e.toLowerCase()]},SL.encodeObjectToURI=function(e){if(!1===SL.isObject(e))return"";var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},SL.readCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var n=i[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return undefined},SL.setCookie=function(e,t,i){var a;if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),a="; expires="+n.toGMTString()}else a="";document.cookie=e+"="+t+a+"; path=/"},SL.removeCookie=function(e){SL.setCookie(e,"",-1)},SL.getElementProperty=function(e,t){if("@"===t.charAt(0)){var i=SL.specialProperties[t.substring(1)];if(i)return i(e)}return"innerText"===t?SL.text(e):t in e?e[t]:e.getAttribute?e.getAttribute(t):undefined},SL.propertiesMatch=function(e,t){if(e)for(var i in e)if(e.hasOwnProperty(i)){var a=e[i],n=SL.getElementProperty(t,i);if("string"==typeof a&&a!==n)return!1;if(a instanceof RegExp&&!a.test(n))return!1}return!0},SL.isRightClick=function(e){var t;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},SL.ruleMatches=function(e,t,i,a){var n=e.condition,r=e.conditions,o=e.property,s=t.type,c=e.value,l=t.target||t.srcElement,u=i===l;if(e.event!==s&&("custom"!==e.event||e.customEvent!==s))return!1;if(!SL.ruleInScope(e))return!1;if("click"===e.event&&SL.isRightClick(t))return!1;if(e.isDefault&&a>0)return!1;if(e.expired)return!1;if("inview"===s&&t.inviewDelay!==e.inviewDelay)return!1;if(!u&&(!1===e.bubbleFireIfParent||0!==a&&!1===e.bubbleFireIfChildFired))return!1;if(e.selector&&!SL.matchesCss(e.selector,i))return!1;if(!SL.propertiesMatch(o,i))return!1;if(null!=c)if("string"==typeof c){if(c!==i.value)return!1}else if(!c.test(i.value))return!1;if(n)try{if(!n.call(i,t,l))return SL.notify('Condition for rule "'+e.name+'" not met.',1),!1}catch(p){return SL.notify('Condition for rule "'+e.name+'" not met. Error: '+p.message,1),!1}if(r){var d=SL.find(r,function(a){try{return!a.call(i,t,l)}catch(p){return SL.notify('Condition for rule "'+e.name+'" not met. Error: '+p.message,1),!0}});if(d)return SL.notify("Condition "+d.toString()+' for rule "'+e.name+'" not met.',1),!1}return!0},SL.evtHandlers={},SL.bindEvent=function(e,t){var i=SL.evtHandlers;i[e]||(i[e]=[]),i[e].push(t)},SL.whenEvent=SL.bindEvent,SL.unbindEvent=function(e,t){var i=SL.evtHandlers;if(i[e]){var a=SL.indexOf(i[e],t);i[e].splice(a,1)}},SL.bindEventOnce=function(e,t){var i=function(){SL.unbindEvent(e,i),t.apply(null,arguments)};SL.bindEvent(e,i)},SL.isVMLPoisoned=function(e){if(!e)return!1;try{e.nodeName}catch(t){if("Attribute only valid on v:image"===t.message)return!0}return!1},SL.handleEvent=function(e){if(!SL.$data(e,"eventProcessed")){var t=e.type.toLowerCase(),i=e.target||e.srcElement,a=0,n=SL.rules,r=(SL.tools,SL.evtHandlers[e.type]);if(SL.isVMLPoisoned(i))SL.notify("detected "+t+" on poisoned VML element, skipping.",1);else{r&&SL.each(r,function(t){t(e)}),i&&i.nodeName?SL.notify("detected "+t+" on "+i.nodeName,1):SL.notify("detected "+t,1);for(var o=i;o;o=o.parentNode){var s=!1;if(SL.each(n,function(t){SL.ruleMatches(t,e,o,a)&&(SL.notify('Rule "'+t.name+'" fired.',1),SL.fireRule(t,o,e),a++,t.bubbleStop&&(s=!0))}),s)break}SL.$data(e,"eventProcessed",!0)}}},SL.onEvent=document.querySelectorAll?function(e){SL.handleEvent(e)}:(ao=[],bo=function(e){e.selector?ao.push(e):SL.handleEvent(e)},bo.pendingEvents=ao,bo),SL.fireEvent=function(e,t){SL.onEvent({type:e,target:t})},SL.registerEvents=function(e,t){for(var i=t.length-1;i>=0;i--){var a=t[i];SL.$data(e,a+".tracked")||(SL.addEventHandler(e,a,SL.onEvent),SL.$data(e,a+".tracked",!0))}},SL.registerEventsForTags=function(e,t){for(var i=e.length-1;i>=0;i--)for(var a=e[i],n=document.getElementsByTagName(a),r=n.length-1;r>=0;r--)SL.registerEvents(n[r],t)},SL.setListeners=function(){var e=["click","submit"];SL.each(SL.rules,function(t){"custom"===t.event&&t.hasOwnProperty("customEvent")&&!SL.contains(e,t.customEvent)&&e.push(t.customEvent)}),SL.registerEvents(document,e)},SL.getUniqueRuleEvents=function(){return SL._uniqueRuleEvents||(SL._uniqueRuleEvents=[],SL.each(SL.rules,function(e){-1===SL.indexOf(SL._uniqueRuleEvents,e.event)&&SL._uniqueRuleEvents.push(e.event)})),SL._uniqueRuleEvents},SL.setFormListeners=function(){if(!SL._relevantFormEvents){var e=["change","focus","blur","keypress"];SL._relevantFormEvents=SL.filter(SL.getUniqueRuleEvents(),function(t){return-1!==SL.indexOf(e,t)})}SL._relevantFormEvents.length&&SL.registerEventsForTags(["input","select","textarea","button"],SL._relevantFormEvents)},SL.setVideoListeners=function(){if(!SL._relevantVideoEvents){var e=["play","pause","ended","volumechange","stalled","loadeddata"];SL._relevantVideoEvents=SL.filter(SL.getUniqueRuleEvents(),function(t){return-1!==SL.indexOf(e,t)})}SL._relevantVideoEvents.length&&SL.registerEventsForTags(["video"],SL._relevantVideoEvents)},SL.readStoredSetting=function(e){try{return e="sdsat_"+e,window.localStorage.getItem(e)}catch(t){return SL.notify("Cannot read stored setting from localStorage: "+t.message,2),null}},SL.loadStoredSettings=function(){var e=SL.readStoredSetting("debug"),t=SL.readStoredSetting("hide_activity");e&&(SL.settings.notifications="true"===e),t&&(SL.settings.hideActivity="true"===t)},SL.isRuleActive=function(e,t){function i(e,t){return t=n(t,{hour:e[g](),minute:e[f]()}),Math.floor(Math.abs((e.getTime()-t.getTime())/864e5))}function a(e,t){function i(e){return 12*e[d]()+e[p]()}return Math.abs(i(e)-i(t))}function n(e,t){var i=new Date(e.getTime());for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];switch(a){case"hour":i[h](n);break;case"minute":i[m](n);break;case"date":i[v](n)}}return i}function r(e,t){return 60*e[g]()+e[f]()>60*t[g]()+t[f]()}function o(e,t){return 60*e[g]()+e[f]()<60*t[g]()+t[f]()}var s=e.schedule;if(!s)return!0;var c=s.utc,l=c?"getUTCDate":"getDate",u=c?"getUTCDay":"getDay",d=c?"getUTCFullYear":"getFullYear",p=c?"getUTCMonth":"getMonth",g=c?"getUTCHours":"getHours",f=c?"getUTCMinutes":"getMinutes",h=c?"setUTCHours":"setHours",m=c?"setUTCMinutes":"setMinutes",v=c?"setUTCDate":"setDate";if(t=t||new Date,s.repeat){if(r(s.start,t))return!1;if(o(s.end,t))return!1;if(t<s.start)return!1;if(s.endRepeat&&t>=s.endRepeat)return!1;if("daily"===s.repeat){if(s.repeatEvery)if(i(s.start,t)%s.repeatEvery!=0)return!1}else if("weekly"===s.repeat){if(s.days){if(!SL.contains(s.days,t[u]()))return!1}else if(s.start[u]()!==t[u]())return!1;if(s.repeatEvery)if(i(s.start,t)%(7*s.repeatEvery)!=0)return!1}else if("monthly"===s.repeat){if(s.repeatEvery)if(a(s.start,t)%s.repeatEvery!=0)return!1;if(s.nthWeek&&s.mthDay){if(s.mthDay!==t[u]())return!1;var S=Math.floor((t[l]()-t[u]()+1)/7);if(s.nthWeek!==S)return!1}else if(s.start[l]()!==t[l]())return!1}else if("yearly"===s.repeat){if(s.start[p]()!==t[p]())return!1;if(s.start[l]()!==t[l]())return!1;if(s.repeatEvery)if(Math.abs(s.start[d]()-t[d]())%s.repeatEvery!=0)return!1}}else{if(s.start>t)return!1;if(s.end<t)return!1}return!0},SL.isOutboundLink=function(e){if(!e.getAttribute("href"))return!1;var t=e.hostname,i=(e.href,e.protocol);return("http:"===i||"https:"===i)&&(!SL.any(SL.settings.domainList,function(e){return SL.isSubdomainOf(t,e)})&&t!==location.hostname)},SL.isLinkerLink=function(e){return!(!e.getAttribute||!e.getAttribute("href"))&&(SL.hasMultipleDomains()&&e.hostname!=location.hostname&&!e.href.match(/^javascript/i)&&!SL.isOutboundLink(e))},SL.isSubdomainOf=function(e,t){if(e===t)return!0;var i=e.length-t.length;return i>0&&SL.equalsIgnoreCase(e.substring(i),t)},SL.getVisitorId=function(){var e=SL.getToolsByType("visitor_id");return 0===e.length?null:e[0].getInstance()},SL.URI=function(){var e=document.location.pathname+document.location.search;return SL.settings.forceLowerCase&&(e=e.toLowerCase()),e},SL.URL=function(){var e=document.location.href;return SL.settings.forceLowerCase&&(e=e.toLowerCase()),e},SL.filterRules=function(){function e(e){return!!SL.isRuleActive(e)}SL.rules=SL.filter(SL.rules,e),SL.pageLoadRules=SL.filter(SL.pageLoadRules,e)},SL.ruleInScope=function(e,t){function i(e,t){function i(e){return t.match(e)}var n=e.include,r=e.exclude;if(n&&a(n,t))return!0;if(r){if(SL.isString(r)&&r===t)return!0;if(SL.isArray(r)&&SL.any(r,i))return!0;if(SL.isRegex(r)&&i(r))return!0}return!1}function a(e,t){function i(e){return t.match(e)}return!(!SL.isString(e)||e===t)||(!(!SL.isArray(e)||SL.any(e,i))||!(!SL.isRegex(e)||i(e)))}t=t||document.location;var n=e.scope;if(!n)return!0;var r=n.URI,o=n.subdomains,s=n.domains,c=n.protocols,l=n.hashes;return(!r||!i(r,t.pathname+t.search))&&((!o||!i(o,t.hostname))&&((!s||!a(s,t.hostname))&&((!c||!a(c,t.protocol))&&(!l||!i(l,t.hash)))))},SL.backgroundTasks=function(){new Date;SL.setFormListeners(),SL.setVideoListeners(),SL.loadStoredSettings(),SL.registerNewElementsForDynamicRules(),SL.eventEmitterBackgroundTasks();new Date},SL.registerNewElementsForDynamicRules=function(){function e(t,i){var a=e.cache[t];if(a)return i(a);SL.cssQuery(t,function(a){e.cache[t]=a,i(a)})}e.cache={},SL.each(SL.dynamicRules,function(t){e(t.selector,function(e){SL.each(e,function(e){var i="custom"===t.event?t.customEvent:t.event;SL.$data(e,"dynamicRules.seen."+i)||(SL.$data(e,"dynamicRules.seen."+i,!0),SL.propertiesMatch(t.property,e)&&SL.registerEvents(e,[i]))})})})},SL.ensureCSSSelector=function(){document.querySelectorAll?SL.hasSelector=!0:(SL.loadingSizzle=!0,SL.sizzleQueue=[],SL.loadScript(SL.basePath()+"selector.js",function(){if(SL.Sizzle){var e=SL.onEvent.pendingEvents;SL.each(e,function(e){SL.handleEvent(e)},this),SL.onEvent=SL.handleEvent,SL.hasSelector=!0,delete SL.loadingSizzle,SL.each(SL.sizzleQueue,function(e){SL.cssQuery(e[0],e[1])}),delete SL.sizzleQueue}else SL.logError(new Error("Failed to load selector.js"))}))},SL.errors=[],SL.logError=function(e){SL.errors.push(e),SL.notify(e.name+" - "+e.message,5)},SL.pageBottom=function(){SL.initialized&&(SL.pageBottomFired=!0,SL.firePageLoadEvent("pagebottom"))},SL.stagingLibraryOverride=function(){if("true"===SL.readStoredSetting("stagingLibrary")){for(var e,t,i,a=document.getElementsByTagName("script"),n=/^(.*)satelliteLib-([a-f0-9]{40})\.js$/,r=/^(.*)satelliteLib-([a-f0-9]{40})-staging\.js$/,o=0,s=a.length;o<s&&(!(i=a[o].getAttribute("src"))||(e||(e=i.match(n)),t||(t=i.match(r)),!t));o++);if(e&&!t){var c=e[1]+"satelliteLib-"+e[2]+"-staging.js";if(document.write)document.write('<script src="'+c+'"></script>');else{var l=document.createElement("script");l.src=c,document.head.appendChild(l)}return!0}}return!1},SL.checkAsyncInclude=function(){window.satellite_asyncLoad&&SL.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},SL.hasMultipleDomains=function(){return!!SL.settings.domainList&&SL.settings.domainList.length>1},SL.handleOverrides=function(){if(Overrides)for(var e in Overrides)Overrides.hasOwnProperty(e)&&(SL.data[e]=Overrides[e])},SL.privacyManagerParams=function(){var e={};SL.extend(e,SL.settings.privacyManagement);var t=[];for(var i in SL.tools)if(SL.tools.hasOwnProperty(i)){var a=SL.tools[i],n=a.settings;if(!n)continue;"sc"===n.engine&&t.push(a)}var r=SL.filter(SL.map(t,function(e){return e.getTrackingServer()}),function(e){return null!=e});e.adobeAnalyticsTrackingServers=r;for(var o=["bannerText","headline","introductoryText","customCSS"],s=0;s<o.length;s++){var c=o[s],l=e[c];if(l)if("text"===l.type)e[c]=l.value;else{if("data"!==l.type)throw new Error("Invalid type: "+l.type);e[c]=SL.getVar(l.value)}}return e},SL.prepareLoadPrivacyManager=function(){function e(e){function t(){++r===n.length&&(i(),clearTimeout(o),e())}function i(){SL.each(n,function(e){SL.unbindEvent(e.id+".load",t)})}function a(){i(),e()}var n=SL.filter(SL.values(SL.tools),function(e){return e.settings&&"sc"===e.settings.engine});if(0===n.length)return e();var r=0;SL.each(n,function(e){SL.bindEvent(e.id+".load",t)});var o=setTimeout(a,5e3)}SL.addEventHandler(window,"load",function(){e(SL.loadPrivacyManager)})},SL.loadPrivacyManager=function(){var e=SL.basePath()+"privacy_manager.js";SL.loadScript(e,function(){var e=SL.privacyManager;e.configure(SL.privacyManagerParams()),e.openIfRequired()})},SL.init=function(e){if(!SL.stagingLibraryOverride()){SL.configurationSettings=e;var t=e.tools;for(var i in delete e.tools,e)e.hasOwnProperty(i)&&(SL[i]=e[i]);SL.data.customVars===undefined&&(SL.data.customVars={}),SL.data.queryParams=SL.QueryParams.normal,SL.handleOverrides(),SL.detectBrowserInfo(),SL.trackVisitorInfo&&SL.trackVisitorInfo(),SL.loadStoredSettings(),SL.Logger.setOutputState(SL.settings.notifications),SL.checkAsyncInclude(),SL.ensureCSSSelector(),SL.filterRules(),SL.dynamicRules=SL.filter(SL.rules,function(e){return e.eventHandlerOnElement}),SL.tools=SL.initTools(t),SL.initEventEmitters(),SL.firePageLoadEvent("aftertoolinit"),SL.settings.privacyManagement&&SL.prepareLoadPrivacyManager(),SL.hasSelector&&SL.domReady(SL.eventEmitterBackgroundTasks),SL.setListeners(),SL.domReady(function(){SL.poll(function(){SL.backgroundTasks()},SL.settings.recheckEvery||3e3)}),SL.domReady(function(){SL.domReadyFired=!0,SL.pageBottomFired||SL.pageBottom(),SL.firePageLoadEvent("domready")}),SL.addEventHandler(window,"load",function(){SL.firePageLoadEvent("windowload")}),SL.firePageLoadEvent("pagetop"),SL.initialized=!0}},SL.pageLoadPhases=["aftertoolinit","pagetop","pagebottom","domready","windowload"],SL.loadEventBefore=function(e,t){return SL.indexOf(SL.pageLoadPhases,e)<=SL.indexOf(SL.pageLoadPhases,t)},SL.flushPendingCalls=function(e){e.pending&&(SL.each(e.pending,function(t){var i=t[0],a=t[1],n=t[2],r=t[3];i in e?e[i].apply(e,[a,n].concat(r)):e.emit?e.emit(i,a,n,r):SL.notify("Failed to trigger "+i+" for tool "+e.id,1)}),delete e.pending)},SL.setDebug=function(e){try{window.localStorage.setItem("sdsat_debug",e)}catch(t){SL.notify("Cannot set debug mode: "+t.message,2)}},SL.getUserAgent=function(){return navigator.userAgent},SL.detectBrowserInfo=function(){function e(e){return function(t){for(var i in e){if(e.hasOwnProperty(i))if(e[i].test(t))return i}return"Unknown"}}var t=e({"IE Edge Mobile":/Windows Phone.*Edge/,"IE Edge":/Edge/,OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,Chrome:/Chrome|CriOS|CrMo/,Firefox:/Firefox|FxiOS/,"IE Mobile":/IEMobile/,IE:/MSIE|Trident/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Safari:/Safari/}),i=e({Blackberry:/BlackBerry|BB10/,"Symbian OS":/Symbian|SymbOS/,Maemo:/Maemo/,Android:/Android/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/[\( ]Windows /,iOS:/iPhone|iPad|iPod/,MacOS:/Macintosh;/}),a=e({Nokia:/Symbian|SymbOS|Maemo/,"Windows Phone":/Windows Phone/,Blackberry:/BlackBerry|BB10/,Android:/Android/,iPad:/iPad/,iPod:/iPod/,iPhone:/iPhone/,Desktop:/.*/}),n=SL.getUserAgent();SL.browserInfo={browser:t(n),os:i(n),deviceType:a(n)}},SL.isHttps=function(){return"https:"==document.location.protocol},SL.BaseTool=function(e){this.settings=e||{},this.forceLowerCase=SL.settings.forceLowerCase,"forceLowerCase"in this.settings&&(this.forceLowerCase=this.settings.forceLowerCase)},SL.BaseTool.prototype={triggerCommand:function(e,t,i){
var a=this.settings||{};if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(e)&&i&&SL.loadEventBefore(i.type,a.loadOn))this.queueCommand(e,t,i);else{var n=e.command,r=this["$"+n],o=!!r&&r.escapeHtml,s=SL.preprocessArguments(e.arguments,t,i,this.forceLowerCase,o);r?r.apply(this,[t,i].concat(s)):this.$missing$?this.$missing$(n,t,i,s):SL.notify("Failed to trigger "+n+" for tool "+this.id,1)}},endPLPhase:function(){},isQueueable:function(e){return"cancelToolInit"!==e.command},isQueueAvailable:function(){return!this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(SL.each(this.pending,function(e){this.triggerCommand.apply(this,e)},this),this.pending=[])},queueCommand:function(e,t,i){this.pending||(this.pending=[]),this.pending.push([e,t,i])},$cancelToolInit:function(){this._cancelToolInit=!0}},window._satellite=SL,SL.ecommerce={addItem:function(){var e=[].slice.call(arguments);SL.onEvent({type:"ecommerce.additem",target:e})},addTrans:function(){var e=[].slice.call(arguments);SL.data.saleData.sale={orderId:e[0],revenue:e[2]},SL.onEvent({type:"ecommerce.addtrans",target:e})},trackTrans:function(){SL.onEvent({type:"ecommerce.tracktrans",target:[]})}},SL.visibility={isHidden:function(){var e=this.getHiddenProperty();return!!e&&document[e]},isVisible:function(){return!this.isHidden()},getHiddenProperty:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null},getVisibilityEvent:function(){var e=this.getHiddenProperty();return e?e.replace(/[H|h]idden/,"")+"visibilitychange":null}},LeaveEventEmitter.prototype={obue:!1,initialize:function(){this.attachCloseListeners()},obuePrevUnload:function(){},obuePrevBeforeUnload:function(){},newObueListener:function(){this.obue||(this.obue=!0,this.triggerBeacons())},attachCloseListeners:function(){this.prevUnload=window.onunload,this.prevBeforeUnload=window.onbeforeunload,window.onunload=SL.bind(function(e){this.prevUnload&&setTimeout(SL.bind(function(){this.prevUnload.call(window,e)},this),1),this.newObueListener()},this),window.onbeforeunload=SL.bind(function(e){this.prevBeforeUnload&&setTimeout(SL.bind(function(){this.prevBeforeUnload.call(window,e)},this),1),this.newObueListener()},this)},triggerBeacons:function(){SL.fireEvent("leave",document)}},SL.availableEventEmitters.push(LeaveEventEmitter),TwitterEventEmitter.prototype={initialize:function(){var e=this.twttr;e&&"function"==typeof e.ready&&e.ready(SL.bind(this.bind,this))},bind:function(){this.twttr.events.bind("tweet",function(e){e&&(SL.notify("tracking a tweet button",1),SL.onEvent({type:"twitter.tweet",target:document}))})}},SL.availableEventEmitters.push(TwitterEventEmitter),LocationChangeEventEmitter.prototype={initialize:function(){this.setupHistoryAPI(),this.setupHashChange()},fireIfURIChanged:function(){var e=SL.URL();this.lastURL!==e&&(this.fireEvent(),this.lastURL=e)},fireEvent:function(){SL.updateQueryParams(),SL.onEvent({type:"locationchange",target:document})},setupSPASupport:function(){this.setupHistoryAPI(),this.setupHashChange()},setupHistoryAPI:function(){var e=window.history;e&&(e.pushState&&(this.originalPushState=e.pushState,e.pushState=this._pushState),e.replaceState&&(this.originalReplaceState=e.replaceState,e.replaceState=this._replaceState)),SL.addEventHandler(window,"popstate",this._onPopState)},pushState:function(){var e=this.originalPushState.apply(history,arguments);return this.onPushState(),e},replaceState:function(){var e=this.originalReplaceState.apply(history,arguments);return this.onReplaceState(),e},setupHashChange:function(){SL.addEventHandler(window,"hashchange",this._onHashChange)},onReplaceState:function(){setTimeout(this._fireIfURIChanged,0)},onPushState:function(){setTimeout(this._fireIfURIChanged,0)},onPopState:function(){setTimeout(this._fireIfURIChanged,0)},onHashChange:function(){setTimeout(this._fireIfURIChanged,0)},uninitialize:function(){this.cleanUpHistoryAPI(),this.cleanUpHashChange()},cleanUpHistoryAPI:function(){history.pushState===this._pushState&&(history.pushState=this.originalPushState),history.replaceState===this._replaceState&&(history.replaceState=this.originalReplaceState),SL.removeEventHandler(window,"popstate",this._onPopState)},cleanUpHashChange:function(){SL.removeEventHandler(window,"hashchange",this._onHashChange)}},SL.availableEventEmitters.push(LocationChangeEventEmitter),DataElementChangeEmitter.prototype.getStringifiedValue=window.JSON&&window.JSON.stringify||SL.stringify,DataElementChangeEmitter.prototype.initPolling=function(){0!==this.dataElementsNames.length&&(this.dataElementsStore=this.getDataElementsValues(),SL.poll(SL.bind(this.checkDataElementValues,this),1e3))},DataElementChangeEmitter.prototype.getDataElementsValues=function(){var e={};return SL.each(this.dataElementsNames,function(t){var i=SL.getVar(t);e[t]=this.getStringifiedValue(i)},this),e},DataElementChangeEmitter.prototype.checkDataElementValues=function(){SL.each(this.dataElementsNames,SL.bind(function(e){var t=this.getStringifiedValue(SL.getVar(e));t!==this.dataElementsStore[e]&&(this.dataElementsStore[e]=t,SL.onEvent({type:"dataelementchange("+e+")",target:document}))},this))},SL.availableEventEmitters.push(DataElementChangeEmitter),OrientationChangeEventEmitter.orientationChange=function(e){var t=0===window.orientation?"portrait":"landscape";e.orientation=t,SL.onEvent(e)},SL.availableEventEmitters.push(OrientationChangeEventEmitter),VideoPlayedEventEmitter.prototype={backgroundTasks:function(){var e=this.eventHandler;SL.each(this.rules,function(t){SL.cssQuery(t.selector||"video",function(t){SL.each(t,function(t){SL.$data(t,"videoplayed.tracked")||(SL.addEventHandler(t,"timeupdate",SL.throttle(e,100)),SL.$data(t,"videoplayed.tracked",!0))})})})},evalRule:function(e,t){var i=t.event,a=e.seekable,n=a.start(0),r=a.end(0),o=e.currentTime,s=t.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(s){var c=s[2],l=Number(s[1]),u="%"===c?function(){return l<=100*(o-n)/(r-n)}:function(){return l<=o-n};!SL.$data(e,i)&&u()&&(SL.$data(e,i,!0),SL.onEvent({type:i,target:e}))}},onUpdateTime:function(e){var t=this.rules,i=e.target;if(i.seekable&&0!==i.seekable.length)for(var a=0,n=t.length;a<n;a++)this.evalRule(i,t[a])}},SL.availableEventEmitters.push(VideoPlayedEventEmitter),VisibilityEventEmitter.prototype={defineEvents:function(){this.oldBlurClosure=function(){SL.fireEvent("tabblur",document)},this.oldFocusClosure=SL.bind(function(){this.visibilityApiHasPriority?SL.fireEvent("tabfocus",document):null!=SL.visibility.getHiddenProperty()&&SL.visibility.isHidden()||SL.fireEvent("tabfocus",document)},this)},attachDetachModernEventListeners:function(e){SL[0==e?"removeEventHandler":"addEventHandler"](document,SL.visibility.getVisibilityEvent(),this.handleVisibilityChange)},attachDetachOlderEventListeners:function(e,t,i){var a=0==e?"removeEventHandler":"addEventHandler";SL[a](t,i,this.oldBlurClosure),SL[a](window,"focus",this.oldFocusClosure)},handleVisibilityChange:function(){SL.visibility.isHidden()?SL.fireEvent("tabblur",document):SL.fireEvent("tabfocus",document)},setVisibilityApiPriority:function(e){this.visibilityApiHasPriority=e,this.attachDetachOlderEventListeners(!1,window,"blur"),this.attachDetachModernEventListeners(!1),e?null!=SL.visibility.getHiddenProperty()?this.attachDetachModernEventListeners(!0):this.attachDetachOlderEventListeners(!0,window,"blur"):(this.attachDetachOlderEventListeners(!0,window,"blur"),null!=SL.visibility.getHiddenProperty()&&this.attachDetachModernEventListeners(!0))},oldBlurClosure:null,oldFocusClosure:null,visibilityApiHasPriority:!0},SL.availableEventEmitters.push(VisibilityEventEmitter),InViewEventEmitter.offset=function(e){var t=null,i=null;try{var a=e.getBoundingClientRect(),n=document,r=n.documentElement,o=n.body,s=window,c=r.clientTop||o.clientTop||0,l=r.clientLeft||o.clientLeft||0,u=s.pageYOffset||r.scrollTop||o.scrollTop,d=s.pageXOffset||r.scrollLeft||o.scrollLeft;t=a.top+u-c,i=a.left+d-l}catch(p){}return{top:t,left:i}},InViewEventEmitter.getViewportHeight=function(){var e=window.innerHeight,t=document.compatMode;return t&&(e="CSS1Compat"==t?document.documentElement.clientHeight:document.body.clientHeight),e},InViewEventEmitter.getScrollTop=function(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop},InViewEventEmitter.isElementInDocument=function(e){return document.body.contains(e)},InViewEventEmitter.isElementInView=function(e){if(!InViewEventEmitter.isElementInDocument(e))return!1;var t=InViewEventEmitter.getViewportHeight(),i=InViewEventEmitter.getScrollTop(),a=InViewEventEmitter.offset(e).top,n=e.offsetHeight;return null!==a&&!(i>a+n||i+t<a)},InViewEventEmitter.prototype={backgroundTasks:function(){var e=this.elements;SL.each(this.rules,function(t){SL.cssQuery(t.selector,function(i){var a=0;SL.each(i,function(t){SL.contains(e,t)||(e.push(t),a++)}),a&&SL.notify(t.selector+" added "+a+" elements.",1)})}),this.track()},checkInView:function(e,t,i){var a=SL.$data(e,"inview");if(InViewEventEmitter.isElementInView(e)){a||SL.$data(e,"inview",!0);var n=this;this.processRules(e,function(i,a,r){if(t||!i.inviewDelay)SL.$data(e,a,!0),SL.onEvent({type:"inview",target:e,inviewDelay:i.inviewDelay});else if(i.inviewDelay){var o=SL.$data(e,r);o||(o=setTimeout(function(){n.checkInView(e,!0,i.inviewDelay)},i.inviewDelay),SL.$data(e,r,o))}},i)}else{if(!InViewEventEmitter.isElementInDocument(e)){var r=SL.indexOf(this.elements,e);this.elements.splice(r,1)}a&&SL.$data(e,"inview",!1),this.processRules(e,function(t,i,a){var n=SL.$data(e,a);n&&clearTimeout(n)},i)}},track:function(){for(var e=this.elements.length-1;e>=0;e--)this.checkInView(this.elements[e])},processRules:function(e,t,i){var a=this.rules;i&&(a=SL.filter(this.rules,function(e){return e.inviewDelay==i})),SL.each(a,function(i,a){var n=i.inviewDelay?"viewed_"+i.inviewDelay:"viewed",r="inview_timeout_id_"+a;SL.$data(e,n)||SL.matchesCss(i.selector,e)&&t(i,n,r)})}},SL.availableEventEmitters.push(InViewEventEmitter),ElementExistsEventEmitter.prototype.backgroundTasks=function(){SL.each(this.rules,function(e){SL.cssQuery(e.selector,function(e){if(e.length>0){var t=e[0];if(SL.$data(t,"elementexists.seen"))return;SL.$data(t,"elementexists.seen",!0),SL.onEvent({type:"elementexists",target:t})}})})},SL.availableEventEmitters.push(ElementExistsEventEmitter),FacebookEventEmitter.prototype={initialize:function(){if(this.FB=this.FB||window.FB,this.FB&&this.FB.Event&&this.FB.Event.subscribe)return this.bind(),!0},bind:function(){this.FB.Event.subscribe("edge.create",function(){SL.notify("tracking a facebook like",1),SL.onEvent({type:"facebook.like",target:document})}),this.FB.Event.subscribe("edge.remove",function(){SL.notify("tracking a facebook unlike",1),SL.onEvent({type:"facebook.unlike",target:document})}),this.FB.Event.subscribe("message.send",function(){SL.notify("tracking a facebook share",1),SL.onEvent({type:"facebook.send",target:document})})}},SL.availableEventEmitters.push(FacebookEventEmitter),HoverEventEmitter.prototype={backgroundTasks:function(){var e=this;SL.each(this.rules,function(t){var i=t[1],a=t[0];SL.cssQuery(i,function(t){SL.each(t,function(t){e.trackElement(t,a)})})},this)},trackElement:function(e,t){var i=this,a=SL.$data(e,"hover.delays");a?SL.contains(a,t)||a.push(t):(SL.addEventHandler(e,"mouseover",function(t){i.onMouseOver(t,e)}),SL.addEventHandler(e,"mouseout",function(t){i.onMouseOut(t,e)}),SL.$data(e,"hover.delays",[t]))},onMouseOver:function(e,t){var i=e.target||e.srcElement,a=e.relatedTarget||e.fromElement;(t===i||SL.containsElement(t,i))&&!SL.containsElement(t,a)&&this.onMouseEnter(t)},onMouseEnter:function(e){var t=SL.$data(e,"hover.delays"),i=SL.map(t,function(t){return setTimeout(function(){SL.onEvent({type:"hover("+t+")",target:e})},t)});SL.$data(e,"hover.delayTimers",i)},onMouseOut:function(e,t){var i=e.target||e.srcElement,a=e.relatedTarget||e.toElement;(t===i||SL.containsElement(t,i))&&!SL.containsElement(t,a)&&this.onMouseLeave(t)},onMouseLeave:function(e){var t=SL.$data(e,"hover.delayTimers");t&&SL.each(t,function(e){clearTimeout(e)})}},SL.availableEventEmitters.push(HoverEventEmitter),SL.inherit(NielsenTool,SL.BaseTool),SL.extend(NielsenTool.prototype,{name:"Nielsen",endPLPhase:function(e){switch(e){case"pagetop":this.initialize();break;case"pagebottom":this.enableTracking&&(this.queueCommand({command:"sendFirstBeacon",arguments:[]}),this.flushQueueWhenReady())}},defineListeners:function(){this.onTabFocus=SL.bind(function(){this.notify("Tab visible, sending view beacon when ready",1),this.tabEverVisible=!0,this.flushQueueWhenReady()},this),this.onPageLeave=SL.bind(function(){this.notify("isHuman? : "+this.isHuman(),1),this.isHuman()&&this.sendDurationBeacon()},this),this.onHumanDetectionChange=SL.bind(function(e){this==e.target.target&&(this.human=e.target.isHuman)},this)},initialize:function(){this.initializeTracking(),this.initializeDataProviders(),this.initializeNonHumanDetection(),this.tabEverVisible=SL.visibility.isVisible(),this.tabEverVisible?this.notify("Tab visible, sending view beacon when ready",1):SL.bindEventOnce("tabfocus",this.onTabFocus),this.initialized=!0},initializeTracking:function(){this.initialized||(this.notify("Initializing tracking",1),this.addRemovePageLeaveEvent(this.enableTracking),this.addRemoveHumanDetectionChangeEvent(this.enableTracking),this.initialized=!0)},initializeDataProviders:function(){var e,t=this.getAnalyticsTool();this.dataProvider.register(new NielsenTool.DataProvider.VisitorID(SL.getVisitorId())),t?(e=new NielsenTool.DataProvider.Generic("rsid",function(){return t.settings.account}),this.dataProvider.register(e)):this.notify("Missing integration with Analytics: rsid will not be sent.")},initializeNonHumanDetection:function(){SL.nonhumandetection?(SL.nonhumandetection.init(),this.setEnableNonHumanDetection(0!=this.settings.enableNonHumanDetection),this.settings.nonHumanDetectionDelay>0&&this.setNonHumanDetectionDelay(1e3*parseInt(this.settings.nonHumanDetectionDelay))):this.notify("NHDM is not available.")},getAnalyticsTool:function(){if(this.settings.integratesWith)return SL.tools[this.settings.integratesWith]},flushQueueWhenReady:function(){this.enableTracking&&this.tabEverVisible&&SL.poll(SL.bind(function(){if(this.isReadyToTrack())return this.flushQueue(),!0},this),100,20)},isReadyToTrack:function(){return this.tabEverVisible&&this.dataProvider.isReady()},$setVars:function(e,t,i){for(var a in i){var n=i[a];"function"==typeof n&&(n=n()),this.settings[a]=n}this.notify("Set variables done",2),this.prepareContextData()},$setEnableTracking:function(e,t,i){this.notify("Will"+(i?"":" not")+" track time on page",1),this.enableTracking!=i&&(this.addRemovePageLeaveEvent(i),this.addRemoveHumanDetectionChangeEvent(i),this.enableTracking=i)},$sendFirstBeacon:function(){this.sendViewBeacon()},setEnableNonHumanDetection:function(e){e?SL.nonhumandetection.register(this):SL.nonhumandetection.unregister(this)},setNonHumanDetectionDelay:function(e){SL.nonhumandetection.register(this,e)},addRemovePageLeaveEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" page leave event",1),SL[0==e?"unbindEvent":"bindEvent"]("leave",this.onPageLeave)},addRemoveHumanDetectionChangeEvent:function(e){this.notify((e?"Attach onto":"Detach from")+" human detection change event",1),SL[0==e?"unbindEvent":"bindEvent"]("humandetection.change",this.onHumanDetectionChange)},sendViewBeacon:function(){this.notify("Tracked page view.",1),this.sendBeaconWith()},sendDurationBeacon:function(){if(SL.timetracking&&"function"==typeof SL.timetracking.timeOnPage&&null!=SL.timetracking.timeOnPage()){this.notify("Tracked close",1),this.sendBeaconWith({timeOnPage:Math.round(SL.timetracking.timeOnPage()/1e3),duration:"D",timer:"timer"});var e;for(e=0;e<this.magicConst;e++)"0"}else this.notify("Could not track close due missing time on page",5)},sendBeaconWith:function(e){this.enableTracking&&this[this.beaconMethod].call(this,this.prepareUrl(e))},plainBeacon:function(e){var t=new Image;t.src=e,t.width=1,t.height=1,t.alt=""},navigatorSendBeacon:function(e){navigator.sendBeacon(e)},prepareUrl:function(e){var t=this.settings;return SL.extend(t,this.dataProvider.provide()),SL.extend(t,e),this.preparePrefix(this.settings.collectionServer)+this.adapt.convertToURI(this.adapt.toNielsen(this.substituteVariables(t)))},preparePrefix:function(e){return"//"+encodeURIComponent(e)+".imrworldwide.com/cgi-bin/gn?"},substituteVariables:function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=SL.replace(e[i]));return t},prepareContextData:function(){if(this.getAnalyticsTool()){var e=this.settings;e.sdkVersion=_satellite.publishDate,this.getAnalyticsTool().$setVars(null,null,{contextData:this.adapt.toAnalytics(this.substituteVariables(e))})}else this.notify("Adobe Analytics missing.")},isHuman:function(){return this.human},onTabFocus:function(){},onPageLeave:function(){},onHumanDetectionChange:function(){},notify:function(e,t){SL.notify(this.logPrefix+e,t)},beaconMethod:"plainBeacon",adapt:null,enableTracking:!1,logPrefix:"Nielsen: ",tabEverVisible:!1,human:!0,magicConst:2e6}),NielsenTool.DataProvider={},NielsenTool.DataProvider.Generic=function(e,t){this.key=e,this.valueFn=t},SL.extend(NielsenTool.DataProvider.Generic.prototype,{isReady:function(){return!0},getValue:function(){return this.valueFn()},provide:function(){this.isReady()||NielsenTool.prototype.notify("Not yet ready to provide value for: "+this.key,5);var e={};return e[this.key]=this.getValue(),e}}),NielsenTool.DataProvider.VisitorID=function(e,t,i){this.key=t||"uuid",this.visitorInstance=e,this.visitorInstance&&(this.visitorId=e.getMarketingCloudVisitorID([this,this._visitorIdCallback])),this.fallbackProvider=i||new NielsenTool.UUID},SL.inherit(NielsenTool.DataProvider.VisitorID,NielsenTool.DataProvider.Generic),SL.extend(NielsenTool.DataProvider.VisitorID.prototype,{isReady:function(){return null===this.visitorInstance||!!this.visitorId},getValue:function(){return this.visitorId||this.fallbackProvider.get()},_visitorIdCallback:function(e){this.visitorId=e}}),NielsenTool.DataProvider.Aggregate=function(){this.providers=[];for(var e=0;e<arguments.length;e++)this.register(arguments[e])},SL.extend(NielsenTool.DataProvider.Aggregate.prototype,{register:function(e){this.providers.push(e)},isReady:function(){return SL.every(this.providers,function(e){return e.isReady()})},provide:function(){var e={};return SL.each(this.providers,function(t){SL.extend(e,t.provide())}),e}}),NielsenTool.UUID=function(){},SL.extend(NielsenTool.UUID.prototype,{generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},get:function(){var e=SL.readCookie(this.key("uuid"));return e||(e=this.generate(),SL.setCookie(this.key("uuid"),e),e)},key:function(e){return"_dtm_nielsen_"+e}}),NielsenTool.DataAdapters=function(){},SL.extend(NielsenTool.DataAdapters.prototype,{toNielsen:function(e){var t=(new Date).getTime(),i={c6:"vc,",c13:"asid,",c15:"apn,",c27:"cln,",c32:"segA,",c33:"segB,",c34:"segC,",c35:"adrsid,",c29:"plid,",c30:"bldv,",c40:"adbid,"},a={ci:e.clientId,c6:e.vcid,c13:e.appId,c15:e.appName,prv:1,forward:0,ad:0,cr:e.duration||"V",rt:"text",st:"dcr",prd:"dcr",r:t,at:e.timer||"view",c16:e.sdkVersion,c27:e.timeOnPage||0,c40:e.uuid,c35:e.rsid,ti:t,sup:0,c32:e.segmentA,c33:e.segmentB,c34:e.segmentC,asn:e.assetName,c29:e.playerID,c30:e.buildVersion};for(key in a)if(a[key]!==undefined&&null!=a[key]&&a[key]!==undefined&&null!=a&&""!=a){var n=encodeURIComponent(a[key]);i.hasOwnProperty(key)&&n&&(n=i[key]+n),a[key]=n}return this.filterObject(a)},toAnalytics:function(e){return this.filterObject({"a.nielsen.clientid":e.clientId,"a.nielsen.vcid":e.vcid,"a.nielsen.appid":e.appId,"a.nielsen.appname":e.appName,"a.nielsen.accmethod":"0","a.nielsen.ctype":"text","a.nielsen.sega":e.segmentA,"a.nielsen.segb":e.segmentB,"a.nielsen.segc":e.segmentC,"a.nielsen.asset":e.assetName})},convertToURI:function(e){if(!1===SL.isObject(e))return"";var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return t.join("&")},filterObject:function(e){for(var t in e)!e.hasOwnProperty(t)||null!=e[t]&&e[t]!==undefined||delete e[t];return e}}),SL.availableTools.nielsen=NielsenTool,SL.inherit(Tnt,SL.BaseTool),SL.extend(Tnt.prototype,{name:"tnt",endPLPhase:function(e){"aftertoolinit"===e&&this.initialize()},initialize:function(){SL.notify("Test & Target: Initializing",1),this.initializeTargetPageParams(),this.load()},initializeTargetPageParams:function(){window.targetPageParams&&this.updateTargetPageParams(this.parseTargetPageParamsResult(window.targetPageParams())),this.updateTargetPageParams(this.settings.pageParams),this.setTargetPageParamsFunction()},load:function(){var e=this.getMboxURL(this.settings.mboxURL);!1!==this.settings.initTool?this.settings.loadSync?(SL.loadScriptSync(e),this.onScriptLoaded()):(SL.loadScript(e,SL.bind(this.onScriptLoaded,this)),this.initializing=!0):this.initialized=!0},getMboxURL:function(e){var t=e;return SL.isObject(e)&&(t="https:"===window.location.protocol?e.https:e.http),t.match(/^https?:/)?t:SL.basePath()+t},onScriptLoaded:function(){SL.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},$addMbox:function(e,t,i){var a=i.mboxGoesAround,n=a+"{visibility: hidden;}",r=this.appendStyle(n);a in this.styleElements||(this.styleElements[a]=r),this.initialized?this.$addMBoxStep2(null,null,i):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[i]},e,t)},$addMBoxStep2:function(e,t,i){var a=this.generateID(),n=this;SL.addEventHandler(window,"load",SL.bind(function(){SL.cssQuery(i.mboxGoesAround,function(e){var t=e[0];if(t){var r=document.createElement("div");r.id=a,t.parentNode.replaceChild(r,t),r.appendChild(t),window.mboxDefine(a,i.mboxName);var o=[i.mboxName];i.arguments&&(o=o.concat(i.arguments)),window.mboxUpdate.apply(null,o),n.reappearWhenCallComesBack(t,a,i.timeout,i)}})},this)),this.lastMboxID=a},$addTargetPageParams:function(e,t,i){this.updateTargetPageParams(i)},generateID:function(){return"_sdsat_mbox_"+String(Math.random()).substring(2)+"_"},appendStyle:function(e){var t=document.getElementsByTagName("head")[0],i=document.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i),i},reappearWhenCallComesBack:function(e,t,i,a){function n(){var e=r.styleElements[a.mboxGoesAround];e&&(e.parentNode.removeChild(e),delete r.styleElements[a.mboxGoesAround])}var r=this;SL.cssQuery('script[src*="omtrdc.net"]',function(e){var t=e[0];if(t){SL.scriptOnLoad(t.src,t,function(){SL.notify("Test & Target: request complete",1),n(),clearTimeout(a)});var a=setTimeout(function(){SL.notify("Test & Target: bailing after "+i+"ms",1),n()},i)}else SL.notify("Test & Target: failed to find T&T ajax call, bailing",1),n()})},updateTargetPageParams:function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[SL.replace(i)]=SL.replace(e[i]));SL.extend(this.targetPageParamsStore,t)},getTargetPageParams:function(){return this.targetPageParamsStore},setTargetPageParamsFunction:function(){window.targetPageParams=SL.bind(this.getTargetPageParams,this)},parseTargetPageParamsResult:function(e){var t=e;return SL.isArray(e)&&(e=e.join("&")),SL.isString(e)&&(t=SL.parseQueryParams(e)),t}}),SL.availableTools.tnt=Tnt,SL.inherit(DefaultTool,SL.BaseTool),SL.extend(DefaultTool.prototype,{name:"Default",$loadIframe:function(e,t,i){var a=i.pages,n=i.loadOn,r=SL.bind(function(){SL.each(a,function(i){this.loadIframe(e,t,i)},this)},this);n||r(),"domready"===n&&SL.domReady(r),"load"===n&&SL.addEventHandler(window,"load",r)},loadIframe:function(e,t,i){var a=document.createElement("iframe");a.style.display="none";var n=SL.data.host,r=i.data,o=this.scriptURL(i.src),s=SL.searchVariables(r,e,t);n&&(o=SL.basePath()+o),o+=s,a.src=o;var c=document.getElementsByTagName("body")[0];c?c.appendChild(a):SL.domReady(function(){document.getElementsByTagName("body")[0].appendChild(a)})},scriptURL:function(e){return(SL.settings.scriptDir||"")+e},$loadScript:function(e,t,i){var a=i.scripts,n=i.sequential,r=i.loadOn,o=SL.bind(function(){n?this.loadScripts(e,t,a):SL.each(a,function(i){this.loadScripts(e,t,[i])},this)},this);r?"domready"===r?SL.domReady(o):"load"===r&&SL.addEventHandler(window,"load",o):o()},loadScripts:function(e,t,i){function a(){r.length>0&&n&&r.shift().call(e,t,o);var c=i.shift();if(c){var l=SL.data.host,u=s.scriptURL(c.src);l&&(u=SL.basePath()+u),n=c,SL.loadScript(u,a)}}try{i=i.slice(0);var n,r=this.asyncScriptCallbackQueue,o=t.target||t.srcElement,s=this}catch(c){console.error("scripts is",SL.stringify(i))}a()},$loadBlockingScript:function(e,t,i){var a=i.scripts;i.loadOn;SL.bind(function(){SL.each(a,function(i){this.loadBlockingScript(e,t,i)},this)},this)()},loadBlockingScript:function(e,t,i){var a=this.scriptURL(i.src),n=SL.data.host,r=t.target||t.srcElement;n&&(a=SL.basePath()+a),this.argsForBlockingScripts.push([e,t,r]),SL.loadScriptSync(a)},pushAsyncScript:function(e){this.asyncScriptCallbackQueue.push(e)},pushBlockingScript:function(e){var t=this.argsForBlockingScripts.shift(),i=t[0];e.apply(i,t.slice(1))},$writeHTML:SL.escapeHtmlParams(function(e,t){if(!SL.domReadyFired&&document.write)if("pagebottom"===t.type||"pagetop"===t.type)for(var i=2,a=arguments.length;i<a;i++){var n=arguments[i].html;n=SL.replace(n,e,t),document.write(n)}else SL.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);else SL.notify("Command writeHTML failed. You should try appending HTML using the async option.",1)}),linkNeedsDelayActivate:function(e,t){t=t||window;var i=e.tagName,a=e.getAttribute("target"),n=e.getAttribute("href");return(!i||"a"===i.toLowerCase())&&(!!n&&(!a||"_blank"!==a&&("_top"===a?t.top===t:"_parent"!==a&&("_self"===a||(!t.name||a===t.name)))))},$delayActivateLink:function(e,t){if(this.linkNeedsDelayActivate(e)){SL.preventDefault(t);var i=SL.settings.linkDelay||100;setTimeout(function(){SL.setLocation(e.href)},i)}},isQueueable:function(e){return"writeHTML"!==e.command}}),SL.availableTools["default"]=DefaultTool,SL.inherit(SiteCatalystTool,SL.BaseTool),SL.extend(SiteCatalystTool.prototype,{name:"SC",endPLPhase:function(e){e===this.settings.loadOn&&this.initialize(e)},initialize:function(e){if(!this._cancelToolInit)if(this.settings.initVars=this.substituteVariables(this.settings.initVars,{type:e}),!1!==this.settings.initTool){var t=this.settings.sCodeURL||SL.basePath()+"s_code.js";"object"==typeof t&&(t="https:"===window.location.protocol?t.https:t.http),t.match(/^https?:/)||(t=SL.basePath()+t),this.settings.initVars&&this.$setVars(null,null,this.settings.initVars),SL.loadScript(t,SL.bind(this.onSCodeLoaded,this)),this.initializing=!0}else this.initializing=!0,this.pollForSC()},getS:function(e,t){var i=t&&t.hostname||window.location.hostname,a=this.concatWithToolVarBindings(t&&t.setVars||this.varBindings),n=t&&t.addEvent||this.events,r=this.getAccount(i),o=window.s_gi;if(!o)return null;if(this.isValidSCInstance(e)||(e=null),!r&&!e)return SL.notify("Adobe Analytics: tracker not initialized because account was not found",1),null;e=e||o(r);var s="D"+SL.appVersion;return"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=s:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+s&&(e.version+="-"+s),e.sa&&!0!==this.settings.skipSetAccount&&!1!==this.settings.initTool&&e.sa(this.settings.account),this.applyVarBindingsOnTracker(e,a),n.length>0&&(e.events=n.join(",")),SL.getVisitorId()&&(e.visitor=SL.getVisitorId()),e},onSCodeLoaded:function(e){this.initialized=!0,this.initializing=!1;var t=["Adobe Analytics: loaded",e?" (manual)":"","."];SL.notify(t.join(""),1),SL.fireEvent(this.id+".load",this.getS()),e||(this.flushQueueExceptTrackLink(),this.sendBeacon()),this.flushQueue()},getAccount:function(e){return window.s_account?window.s_account:e&&this.settings.accountByHost&&this.settings.accountByHost[e]||this.settings.account},getTrackingServer:function(){var e=this,t=e.getS();if(t){if(t.ssl&&t.trackingServerSecure)return t.trackingServerSecure;if(t.trackingServer)return t.trackingServer}var i,a=e.getAccount(window.location.hostname);if(!a)return null;var n,r,o="",s=t&&t.dc;return(n=(i=a).indexOf(","))>=0&&(i=i.gb(0,n)),i=i.replace(/[^A-Za-z0-9]/g,""),o||(o="2o7.net"),s=s?(""+s).toLowerCase():"d1","2o7.net"==o&&("d1"==s?s="112":"d2"==s&&(s="122"),r=""),n=i+"."+s+"."+r+o},sendBeacon:function(){var e=this.getS(window[this.settings.renameS||"s"]);e?this.settings.customInit&&!1===this.settings.customInit(e)?SL.notify("Adobe Analytics: custom init suppressed beacon",1):(this.settings.executeCustomPageCodeFirst&&this.applyVarBindingsOnTracker(e,this.varBindings),this.executeCustomSetupFuns(e),e.t(),this.clearVarBindings(),this.clearCustomSetup(),SL.notify("Adobe Analytics: tracked page view",1)):SL.notify("Adobe Analytics: page code not loaded",1)},pollForSC:function(){SL.poll(SL.bind(function(){if("function"==typeof window.s_gi)return this.onSCodeLoaded(!0),!0},this))},flushQueueExceptTrackLink:function(){if(this.pending){for(var e=[],t=0;t<this.pending.length;t++){var i=this.pending[t];"trackLink"===i[0].command?e.push(i):this.triggerCommand.apply(this,i)}this.pending=e}},isQueueAvailable:function(){return!this.initialized},substituteVariables:function(e,t){var i={};for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];i[a]=SL.replace(n,location,t)}return i},$setVars:function(e,t,i){for(var a in i)if(i.hasOwnProperty(a)){var n=i[a];"function"==typeof n&&(n=n()),this.varBindings[a]=n}SL.notify("Adobe Analytics: set variables.",2)},$customSetup:function(e,t,i){this.customSetupFuns.push(function(a){i.call(e,t,a)})},isValidSCInstance:function(e){return!!e&&"function"==typeof e.t&&"function"==typeof e.tl},concatWithToolVarBindings:function(e){var t=this.settings.initVars||{};return SL.map(["trackingServer","trackingServerSecure"],function(i){t[i]&&!e[i]&&(e[i]=t[i])}),e},applyVarBindingsOnTracker:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},clearVarBindings:function(){this.varBindings={}},clearCustomSetup:function(){this.customSetupFuns=[]},executeCustomSetupFuns:function(e){SL.each(this.customSetupFuns,function(t){t.call(window,e)})},$trackLink:function(e,t,i){var a=(i=i||{}).type,n=i.linkName;!n&&e&&e.nodeName&&"a"===e.nodeName.toLowerCase()&&(n=e.innerHTML),n||(n="link clicked");var r=i&&i.setVars,o=i&&i.addEvent||[],s=this.getS(null,{setVars:r,addEvent:o});if(s){var c=s.linkTrackVars,l=s.linkTrackEvents,u=this.definedVarNames(r);i&&i.customSetup&&i.customSetup.call(e,t,s),o.length>0&&u.push("events"),s.products&&u.push("products"),u=this.mergeTrackLinkVars(s.linkTrackVars,u),o=this.mergeTrackLinkVars(s.linkTrackEvents,o),s.linkTrackVars=this.getCustomLinkVarsList(u);var d=SL.map(o,function(e){return e.split(":")[0]});s.linkTrackEvents=this.getCustomLinkVarsList(d),s.tl(!0,a||"o",n),SL.notify(["Adobe Analytics: tracked link ","using: linkTrackVars=",SL.stringify(s.linkTrackVars),"; linkTrackEvents=",SL.stringify(s.linkTrackEvents)].join(""),1),s.linkTrackVars=c,s.linkTrackEvents=l}else SL.notify("Adobe Analytics: page code not loaded",1)},mergeTrackLinkVars:function(e,t){return e&&(t=e.split(",").concat(t)),t},getCustomLinkVarsList:function(e){var t=SL.indexOf(e,"None");return t>-1&&e.length>1&&e.splice(t,1),e.join(",")},definedVarNames:function(e){e=e||this.varBindings;var t=[];for(var i in e)e.hasOwnProperty(i)&&/^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$/.test(i)&&t.push(i);return t},$trackPageView:function(e,t,i){var a=i&&i.setVars,n=i&&i.addEvent||[],r=this.getS(null,{setVars:a,addEvent:n});r?(r.linkTrackVars="",r.linkTrackEvents="",this.executeCustomSetupFuns(r),i&&i.customSetup&&i.customSetup.call(e,t,r),r.t(),this.clearVarBindings(),this.clearCustomSetup(),SL.notify("Adobe Analytics: tracked page view",1)):SL.notify("Adobe Analytics: page code not loaded",1)},$postTransaction:function(e,t,i){var a=SL.data.transaction=window[i],n=this.varBindings,r=this.settings.fieldVarMapping;if(SL.each(a.items,function(e){this.products.push(e)},this),n.products=SL.map(this.products,function(e){var t=[];if(r&&r.item)for(var i in r.item)if(r.item.hasOwnProperty(i)){var a=r.item[i];t.push(a+"="+e[i]),"event"===a.substring(0,5)&&this.events.push(a)}var n=["",e.product,e.quantity,e.unitPrice*e.quantity];return t.length>0&&n.push(t.join("|")),n.join(";")},this).join(","),r&&r.transaction){var o=[];for(var s in r.transaction)if(r.transaction.hasOwnProperty(s)){i=r.transaction[s];o.push(i+"="+a[s]),
"event"===i.substring(0,5)&&this.events.push(i)}n.products.length>0&&(n.products+=","),n.products+=";;;;"+o.join("|")}},$addEvent:function(){for(var e=2,t=arguments.length;e<t;e++)this.events.push(arguments[e])},$addProduct:function(){for(var e=2,t=arguments.length;e<t;e++)this.products.push(arguments[e])}}),SL.availableTools.sc=SiteCatalystTool,SL.inherit(BasicTool,SL.BaseTool),SL.extend(BasicTool.prototype,{initialize:function(){var e=this.settings;if(!1!==this.settings.initTool){var t=e.url;t="string"==typeof t?SL.basePath()+t:SL.isHttps()?t.https:t.http,SL.loadScript(t,SL.bind(this.onLoad,this)),this.initializing=!0}else this.initialized=!0},isQueueAvailable:function(){return!this.initialized},onLoad:function(){this.initialized=!0,this.initializing=!1,this.settings.initialBeacon&&this.settings.initialBeacon(),this.flushQueue()},endPLPhase:function(e){e===this.settings.loadOn&&(SL.notify(this.name+": Initializing at "+e,1),this.initialize())},$fire:function(e,t,i){this.initializing?this.queueCommand({command:"fire",arguments:[i]},e,t):i.call(this.settings,e,t)}}),SL.availableTools.am=BasicTool,SL.availableTools.adlens=BasicTool,SL.availableTools.aem=BasicTool,SL.availableTools.__basic=BasicTool,SL.inherit(GATool,SL.BaseTool),SL.extend(GATool.prototype,{name:"GA",initialize:function(){var e=this.settings,t=window._gaq,i=e.initCommands||[],a=e.customInit;if(t||(_gaq=[]),this.isSuppressed())SL.notify("GA: page code not loaded(suppressed).",1);else{if(!t&&!GATool.scriptLoaded){var n=SL.isHttps(),r=(n?"https://ssl":"http://www")+".google-analytics.com/ga.js";e.url&&(r=n?e.url.https:e.url.http),SL.loadScript(r),GATool.scriptLoaded=!0,SL.notify("GA: page code loaded.",1)}e.domain;var o=e.trackerName,s=GAUtils.allowLinker(),c=SL.replace(e.account,location);SL.settings.domainList;_gaq.push([this.cmd("setAccount"),c]),s&&_gaq.push([this.cmd("setAllowLinker"),s]),_gaq.push([this.cmd("setDomainName"),GAUtils.cookieDomain()]),SL.each(i,function(e){var t=[this.cmd(e[0])].concat(SL.preprocessArguments(e.slice(1),location,null,this.forceLowerCase));_gaq.push(t)},this),a&&(this.suppressInitialPageView=!1===a(_gaq,o)),e.pageName&&this.$overrideInitialPageView(null,null,e.pageName)}this.initialized=!0,SL.fireEvent(this.id+".configure",_gaq,o)},isSuppressed:function(){return this._cancelToolInit||!1===this.settings.initTool},tracker:function(){return this.settings.trackerName},cmd:function(e){var t=this.tracker();return t?t+"._"+e:"_"+e},$overrideInitialPageView:function(e,t,i){this.urlOverride=i},trackInitialPageView:function(){if(!this.isSuppressed()&&!this.suppressInitialPageView)if(this.urlOverride){var e=SL.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,e)}else this.$missing$("trackPageview")},endPLPhase:function(e){e===this.settings.loadOn&&(SL.notify("GA: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(e,t,i,a){if(!this._cancelToolInit){this.settings;var n=this.tracker(),r=this.cmd(e);a=a?[r].concat(a):[r];_gaq.push(a),n?SL.notify("GA: sent command "+e+" to tracker "+n+(a.length>1?" with parameters ["+a.slice(1).join(", ")+"]":"")+".",1):SL.notify("GA: sent command "+e+(a.length>1?" with parameters ["+a.slice(1).join(", ")+"]":"")+".",1)}},$missing$:function(e,t,i,a){this.call(e,t,i,a)},$postTransaction:function(e,t,i){var a=SL.data.customVars.transaction=window[i];this.call("addTrans",e,t,[a.orderID,a.affiliation,a.total,a.tax,a.shipping,a.city,a.state,a.country]),SL.each(a.items,function(i){this.call("addItem",e,t,[i.orderID,i.sku,i.product,i.category,i.unitPrice,i.quantity])},this),this.call("trackTrans",e,t)},delayLink:function(e,t){var i=this;if(GAUtils.allowLinker()&&e.hostname.match(this.settings.linkerDomains)&&!SL.isSubdomainOf(e.hostname,location.hostname)){SL.preventDefault(t);var a=SL.settings.linkDelay||100;setTimeout(function(){i.call("link",e,t,[e.href])},a)}},popupLink:function(e,t){if(window._gat){SL.preventDefault(t);var i=this.settings.account,a=window._gat._createTracker(i)._getLinkerUrl(e.href);window.open(a)}},$link:function(e,t){"_blank"===e.getAttribute("target")?this.popupLink(e,t):this.delayLink(e,t)},$trackEvent:function(e,t){var i=Array.prototype.slice.call(arguments,2);if(i.length>=4&&null!=i[3]){var a=parseInt(i[3],10);SL.isNaN(a)&&(a=1),i[3]=a}this.call("trackEvent",e,t,i)}}),SL.availableTools.ga=GATool;var GAUtils={allowLinker:function(){return SL.hasMultipleDomains()},cookieDomain:function(){var e=SL.settings.domainList,t=SL.find(e,function(e){var t=window.location.hostname;return SL.equalsIgnoreCase(t.slice(t.length-e.length),e)});return t?"."+t:"auto"}};SL.inherit(GAUniversalTool,SL.BaseTool),SL.extend(GAUniversalTool.prototype,{name:"GAUniversal",endPLPhase:function(e){e===this.settings.loadOn&&(SL.notify("GAU: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},getTrackerName:function(){return this.settings.trackerSettings.name||""},isPageCodeLoadSuppressed:function(){return!1===this.settings.initTool||!0===this._cancelToolInit},initialize:function(){if(this.isPageCodeLoadSuppressed())return this.initialized=!0,void SL.notify("GAU: Page code not loaded (suppressed).",1);var e="ga";window[e]=window[e]||this.createGAObject(),window.GoogleAnalyticsObject=e,SL.notify("GAU: Page code loaded.",1),SL.loadScriptOnce(this.getToolUrl());var t=this.settings;(GAUtils.allowLinker()&&!1!==t.allowLinker?this.createAccountForLinker():this.createAccount(),this.executeInitCommands(),t.customInit)&&(!1===(0,t.customInit)(window[e],this.getTrackerName())&&(this.suppressInitialPageView=!0));this.initialized=!0},createGAObject:function(){var e=function(){e.q.push(arguments)};return e.q=[],e.l=1*new Date,e},createAccount:function(){this.create()},createAccountForLinker:function(){var e={};GAUtils.allowLinker()&&(e.allowLinker=!0),this.create(e),this.call("require","linker"),this.call("linker:autoLink",this.autoLinkDomains(),!1,!0)},create:function(e){var t=this.settings.trackerSettings;(t=SL.preprocessArguments([t],location,null,this.forceLowerCase)[0]).trackingId=SL.replace(this.settings.trackerSettings.trackingId,location),t.cookieDomain||(t.cookieDomain=GAUtils.cookieDomain()),SL.extend(t,e||{}),this.call("create",t)},autoLinkDomains:function(){var e=location.hostname;return SL.filter(SL.settings.domainList,function(t){return t!==e})},executeInitCommands:function(){var e=this.settings;e.initCommands&&SL.each(e.initCommands,function(e){var t=e.splice(2,e.length-2);e=e.concat(SL.preprocessArguments(t,location,null,this.forceLowerCase)),this.call.apply(this,e)},this)},trackInitialPageView:function(){this.suppressInitialPageView||this.isPageCodeLoadSuppressed()||this.call("send","pageview")},call:function(){"function"==typeof ga?this.isCallSuppressed()||(arguments[0]=this.cmd(arguments[0]),this.log(SL.toArray(arguments)),ga.apply(window,arguments)):SL.notify("GA Universal function not found!",4)},isCallSuppressed:function(){return!0===this._cancelToolInit},$missing$:function(e,t,i,a){a=a||[],a=[e].concat(a),this.call.apply(this,a)},getToolUrl:function(){var e=this.settings,t=SL.isHttps();return e.url?t?e.url.https:e.url.http:(t?"https://ssl":"http://www")+".google-analytics.com/analytics.js"},cmd:function(e){var t=["send","set","get"],i=this.getTrackerName();return i&&-1!==SL.indexOf(t,e)?i+"."+e:e},log:function(e){var t="GA Universal: sent command "+e[0]+" to tracker "+(this.getTrackerName()||"default");if(e.length>1){SL.stringify(e.slice(1));t+=" with parameters "+SL.stringify(e.slice(1))}t+=".",SL.notify(t,1)}}),SL.availableTools.ga_universal=GAUniversalTool,SL.extend(VisitorIdTool.prototype,{getInstance:function(){return this.instance},initialize:function(){var e,t=this.settings;SL.notify("Visitor ID: Initializing tool",1),null!==(e=this.createInstance(t.mcOrgId,t.initVars))&&(t.customerIDs&&this.applyCustomerIDs(e,t.customerIDs),t.autoRequest&&e.getMarketingCloudVisitorID(),this.instance=e)},createInstance:function(e,t){if(!SL.isString(e))return SL.notify('Visitor ID: Cannot create instance using mcOrgId: "'+e+'"',4),null;e=SL.replace(e),SL.notify('Visitor ID: Create instance using mcOrgId: "'+e+'"',1),t=this.parseValues(t);var i=Visitor.getInstance(e,t);return SL.notify("Visitor ID: Set variables: "+SL.stringify(t),1),i},applyCustomerIDs:function(e,t){var i=this.parseIds(t);e.setCustomerIDs(i),SL.notify("Visitor ID: Set Customer IDs: "+SL.stringify(i),1)},parseValues:function(e){if(!1===SL.isObject(e))return{};var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=SL.replace(e[i]));return t},parseIds:function(e){var t={};if(!1===SL.isObject(e))return{};for(var i in e)if(e.hasOwnProperty(i)){var a=SL.replace(e[i].id);a!==e[i].id&&a&&(t[i]={},t[i].id=a,t[i].authState=Visitor.AuthState[e[i].authState])}return t}}),SL.availableTools.visitor_id=VisitorIdTool,_satellite.init({tools:{"0a7a02b806bf9866ef913f92cf38a76f":{engine:"sc",loadOn:"pagebottom",account:"hpsnapfishsf2usprod",euCookie:!1,sCodeURL:"3e3925ae02adc903020df52b68cce77454fb6fc6/s-code-contents-b47dea9df6665b63c62e615f7e126d6984798b4b.js",renameS:"s",initVars:{charSet:"UTF-8",currencyCode:"%CurrencyCode%",trackingServer:"snapfish.sc.omtrdc.net",trackingServerSecure:"snapfish.sc.omtrdc.net",campaign:"%pageCampaignName%",trackInlineStats:!0,trackDownloadLinks:!1,trackExternalLinks:!1,linkLeaveQueryString:!1,dynamicVariablePrefix:"D=",eVar17:"D=v0",eVar20:"D=v0",eVar29:"%Js_User_Name_Version%",eVar39:"%PageName%",eVar40:"%Page URL%",prop12:"D=v0",prop14:"%jo_full_url%"},skipSetAccount:!0,customInit:function(s){var W=eval("window");W.versionVarMap="20170717",W.s_DDsetProps=function(s){var W=eval("window"),delim=":",pn=""},W.s_DDcommonMapVars=function(s){var W=eval("window"),delim="|"},W.s_DDpageLoadMapVars=function(s){var W=eval("window"),delim="|";W.s_DDcommonMapVars(s),s.prop4=s_getP("digitalData.page.pageInfo.siteContext");var login_state=s_getP("digitalData.user.profile.profileInfo.loginState"),login_suffix="";"NO"==login_state&&(login_suffix=":LO");var page_name=s_getP("digitalData.page.pageInfo.pageName");s.prop6=login_state,s.prop7=page_name,s.pageName=page_name+login_suffix;var pdp_product=s_getP("digitalData.product[0].productInfo.sku"),builder_product=s_getP("digitalData.builder.product.product_sku"),prints_product=s_getP("digitalData.builder.product[0].product_sku"),cart=s_getP("digitalData.cart");s.prop8=pdp_product&&cart===undefined?page_name+":"+pdp_product.replace("CommerceProduct_",""):builder_product?page_name+":"+builder_product:prints_product?page_name+":"+prints_product:page_name,void 0===page_name&&(page_name="");var pageNameList=page_name.split(":");if(pageNameList.length>3){newPageNameList=pageNameList.slice(3);var shortPageName=newPageNameList.join(":");s.prop9=shortPageName+login_suffix,s.prop10=shortPageName}else s.prop9=page_name+login_suffix,s.prop10=page_name;s.prop30=s.eVar66=s_getP("digitalData.user[0].profile[0].attributes.daysSinceLastVisit"),s.eVar19=s_getP("digitalData.campaign.campaign_stack");var prev_purchase=s_getP("digitalData.user[0].profile[0].attributes.previousPurchase");s.prop31=s.eVar67=prev_purchase?"Repeat":"New",s.prop32=s.eVar68=s_getP("digitalData.user[0].profile[0].attributes.visitDepth"),s.prop33=s.eVar69=s_getP("digitalData.user[0].profile[0].attributes.visitNumber"),s.prop34=s.eVar70=s_getP("digitalData.user[0].profile[0].profileInfo.returningStatus"),s.prop54=s_getP("digitalData.prevPage.pageInfo.pageName"),s.channel=s_getP("digitalData.page.category.primaryCategory"),s.eVar22=s_getP("digitalData.campaign.k_clickid"),s.eVar35=s_getP("digitalData.campaign.internal_campaign_id"),void 0!==s_getP("digitalData.campaign.internal_campaign_id")&&null!=s_getP("digitalData.campaign.internal_campaign_id")&&s.setEvent(28),s.eVar39=s_getP("digitalData.user[0].profile[0].attributes.timeParting.day")+" - "+s_getP("digitalData.user[0].profile[0].attributes.timeParting.time"),s.prop1=s.eVar1=s_getP("digitalData.user.profile.profileInfo.regType"),s.prop2=s.eVar2=s_getP("digitalData.user.profile.profileInfo.userType"),s.prop3=s_getP("digitalData.page.pageInfo.destinationURL"),s.prop11=s.eVar14=s_getP("digitalData.user.profile.profileInfo.returnUser"),s.eVar42=s_getP("digitalData.user.profile.profileInfo.userStatus"),s.eVar6=_satellite.getVar("UserID"),s.prop61,s_getP("digitalData.versionAAcode"),s_getP("digitalData.versionAAD"),window.versionVarMap,s.prop55=s_getP("digitalData.prevPage.viewed.initialPercentViewed"),s.prop56=s_getP("digitalData.prevPage.viewed.finalPercentViewed"),s.prop57=s_getP("digitalData.prevPage.viewed.pixelsViewed"),s.prop75=s.eVar73=s.fid,s.prop74=s.eVar74=s.visitorID,s.visitorID?s.prop73=s.eVar72=s.visitorID:s.fid&&(s.prop73=s.eVar72=s.fid),s.referrer&&(s.eVar25=s.prop5=s.referrer),s.eVar50=s_getP("digitalData.builder.product.project_id"),s.eVar51=s_getP("digitalData.builder.product.product_id"),s.eVar52=s_getP("digitalData.builder.product.builder_cat");var prod_sku=s_getP("digitalData.builder.product.product_sku");prod_sku&&(s.products=";"+prod_sku),s.eVar4=s_getP("digitalData.user.profile.profileInfo.userPurchaseClass"),s.eVar7=s_getP("digitalData.page.pageInfo.cobrand"),s.eVar95="2.0",s.eVar39=_satellite.getVar("PageName"),s.eVar40=_satellite.getVar("PageFullURL"),s.eVar37=_satellite.getVar("pagePreviousPageName"),_satellite.setCookie("previousPageName",_satellite.getVar("PageName"),1)},W.s_DDeventMapVars=function(DDeventName,DDeventObject,s){function set_numeric_event(e,t){try{var i=s_getP(t),a="event"+String(e)+"="+String(i);console.log(a),s.setEvent(a)}catch(n){return}}function comp_tax(){try{var e=(parseFloat(s_getP("digitalData.transaction.price.transaction.total"))-parseFloat(s_getP("digitalData.transaction.total.preTaxPrice"))).toFixed(2),t="event"+String(31)+"="+String(e);s.setEvent(t)}catch(i){return}}function createSingleProductString(e,t){var a=_satellite.getVar("SiteContext"),n=e.productTotal,r=e.shippingTotal,o=0,s=0,c=0,l=0;for(var u in n-=e.productDiscount.totalDiscount,e.taxInfo.productTax)e.taxInfo.productTax.hasOwnProperty(u)&&(n="us"!=a?n-e.taxInfo.productTax[u].taxAmount:n);if(t.match(/retailpickup/i)||t.match(/ShipToStore/i));else for(var u in"undefined"!=typeof e.shippingDiscount&&"undefined"!=typeof e.shippingDiscount.totalDiscount&&(o=r-e.shippingDiscount.totalDiscount),e.taxInfo.shippingTax)e.taxInfo.shippingTax.hasOwnProperty(u)&&(o="us"!=a?o-e.taxInfo.shippingTax[u].taxAmount:o);if(t.match(/mailorder/i))for(var u in e.taxInfo.shippingTax)e.taxInfo.shippingTax.hasOwnProperty(u)&&(s+=e.taxInfo.shippingTax[u].taxAmount,l=e.taxInfo.shippingTax[u].taxRate);for(var u in e.taxInfo.productTax)e.taxInfo.productTax.hasOwnProperty(u)&&(s+=e.taxInfo.productTax[u].taxAmount,c=e.taxInfo.productTax[u].taxRate);var d={};d.event2=(n+o+s).toFixed(2),d.event4=(n+o).toFixed(2),t.match(/retailpickup/i)?(d.event6=n.toFixed(2),d.event30=o.toFixed(2)):d.event6="0.00",t.match(/mailorder/i)?(d.event7=n.toFixed(2),d.event30="0.00"):d.event7="0.00",d.event8=o.toFixed(2),d.event31=s.toFixed(2),t.match(/ShipToStore/i)?(d.event38=n.toFixed(2),d.event30=o.toFixed(2)):d.event38="0.00",e.productDiscount.totalDiscount>0?d.event51=(e.productDiscount.totalDiscount/(1+c)).toFixed(2):d.event51="0.00",t.match(/mailorder/i)&&e.shippingDiscount.totalDiscount>0?d.event52=(e.shippingDiscount.totalDiscount/(1+l)).toFixed(2):d.event52="0.00",d.event53="0.00",d.event33=e.productDiscount.totalDiscount.toFixed(2),d.event34=e.shippingDiscount.totalDiscount.toFixed(2);var p={};p.eVar16="undefined"!=typeof digitalData.order.shipBins[i].deliveryOption?digitalData.order.shipBins[i].deliveryOption:"",p.eVar18=digitalData.order.shipBins[i].deliveryMethod,p.eVar44=digitalData.order.shipBins[i].shipBinId.toString(),p.eVar74="",p.eVar75="^^^^^^^^",t.match(/ShipToStore|retailpickup/i)&&(p.eVar77=digitalData.order.shipBins[i].retailer);var g=";";"undefined"!=typeof e.skuId?g+=e.skuId.replace("CommerceProduct_","")+";":"undefined"!=typeof e.optionId&&(g+=e.optionId.replace("CommerceOption_","")+";"),g+=e.quantity+";",g+=n.toFixed(2)+";";var f=[];for(var u in d)f.push(u+"="+d[u]);g+=f.join("|")+";";var h=[];for(var u in p)h.push(u+"="+p[u]);return g+=h.join("|")}var W=eval("window"),delim="|";switch(W.s_DDcommonMapVars(s),console.log("event: "+DDeventName,DDeventObject),DDeventName&&"UploaderConfirmation "==DDeventName&&console.log("test"),DDeventName){case"scOpen":s.setEvent("scOpen");var prod_cat=s_getP("digitalData.product[0].category.primaryCategory");prod_cat=prod_cat?prod_cat.replace("StoreCat_",""):"";var prod_sku=s_getP("digitalData.product[0].productInfo.sku");prod_sku=prod_sku?prod_sku.replace("CommerceProduct_",""):"";var lc_price=s_getP("digitalData.product[0].productInfo.price.preTaxPrice"),usd_price=s_getP("digitalData.product[0].productInfo.price.USDPrice");lc_price&&(s.eVar31="+"+lc_price,s.setEvent(47,lc_price)),usd_price&&(s.eVar32="+"+usd_price,s.setEvent(49,usd_price)),s.products=prod_cat+";"+prod_sku,_satellite.setVar("cjs_event","scOpen"),_satellite.setVar("heap_event","addToCart"),_satellite.track("scview"),_satellite.track("prodAddToCart"),_satellite.getVar("SiteContext")&&""!=_satellite.getVar("SiteContext")&&_satellite.getVar("SiteContext").match(/gb|uk|ie/)&&window.localStorage.setItem("visitorAddedItems","true");break;case"prodAddToCart":if(_satellite.track("prodAddToCart"),void 0!==s_getP("digitalData.builder"))s.products=s_getP("digitalData.builder.product.builder_cat")+";"+s_getP("digitalData.builder.product.product_sku"),void 0!==s_getP("digitalData.builder.shuffle")&&(s.events=",event97="+s_getP("digitalData.builder.shuffle").toString());else{var prod_cat=s_getP("digitalData.product[0].category.primaryCategory");prod_cat=prod_cat?prod_cat.replace("StoreCat_",""):"";var prod_sku=s_getP("digitalData.product[0].productInfo.sku");prod_sku=prod_sku?prod_sku.replace("CommerceProduct_",""):"",s.products=prod_cat+";"+prod_sku}var lc_price=s_getP("digitalData.product[0].productInfo.price.preTaxPrice"),usd_price=s_getP("digitalData.product[0].productInfo.price.USDPrice");lc_price&&(s.eVar31="+"+lc_price,s.setEvent(47,lc_price)),usd_price&&(s.eVar32="+"+usd_price,s.setEvent(49,usd_price));break;case"helpSearch":s.setEvent(23),s.eVar8=s_getP("digitalData.help.searchTerm");break;case"nullHelpSearch":s.setEvent(24),s.eVar8=s_getP("digitalData.help.searchTerm");break;case"prodRemoveFromCart":s.setEvent("scRemove");var prod_cat=s_getP("digitalData.product[0].category.primaryCategory");prod_cat=prod_cat?prod_cat.replace("StoreCat_",""):"";var prod_sku=s_getP("digitalData.product[0].productInfo.sku");prod_sku=prod_sku?prod_sku.replace("CommerceProduct_",""):"";var lc_price=s_getP("digitalData.product[0].productInfo.price.preTaxPrice"),usd_price=s_getP("digitalData.product[0].productInfo.price.USDPrice");lc_price&&(s.eVar31="-"+lc_price,s.setEvent(48,lc_price)),usd_price&&(s.eVar32="-"+usd_price,s.setEvent(50,usd_price)),s.products=prod_cat+";"+prod_sku,_satellite.track("prodRemoveFromCart");break;case"scCheckout":_satellite.track("scCheckout"),s.setEvent("scCheckout"),s.setEvent(25,digitalData.cart.price.cart.cartTotal);break;case"scView":s.setEvent("scView"),_satellite.track("scview"),_satellite.getVar("SiteContext")&&""!=_satellite.getVar("SiteContext")&&_satellite.getVar("SiteContext").match(/gb|uk|ie/)&&window.localStorage.setItem("visitorAddedItems","true");break;case"prodView":s.pageName=_satellite.getVar("PageName"),s.setEvent("prodView"),s.setEvent(9),s.products=s_getP("digitalData.product[0].category.primaryCategory").replace("StoreCat_","")+";"+s_getP("digitalData.product[0].productInfo.sku").replace("CommerceProduct_",""),_satellite.track("productView");break;case"uploadVidsComplete":s.setEvent(71);var s_numVids=s_getP("digitalData.uploader.attributes.numVidsUp"),s_numTotalVids=s_getP("digitalData.uploader.attributes.numVidsForUpload"),s_numFailedVids=s_getP("digitalData.uploader.attributes.vidsFailedToUpload"),s_vidsUploadType=s_getP("digitalData.uploader.attributes.vidsUploadType"),s_vidsElapsedTime=s_getP("digitalData.uploader.attributes.vidsElapsedTime");s_numVids&&s.setEvent(70,s_numVids),s_numTotalVids&&s.setEvent(73,s_numTotalVids),s_numFailedVids&&s.setEvent(75,s_numFailedVids),s_vidsUploadType&&(s.eVar46=s_vidsUploadType),s_vidsElapsedTime&&(s.eVar48=s_vidsElapsedTime);break;case"SiteError":s.setEvent(32),s.prop26=s_getP("digitalData.errors.errorMessage"),s.eVar10=s_getP("digitalData.errors.errorMessage"),s_getP("digitalData.errors.function_call")&&(s.eVar74=s_getP("digitalData.page.pageInfo.pageName"));break;case"crossSell":s.eVar33=s_getP("digitalData.crossSell.crossSellingProduct"),s.eVar34=s_getP("digitalData.crossSell.crossSellingPage");break;case"socialShare":s.setEvent(13),s.prop23=s_getP("digitalData.socialShare.medium"),s.prop24=s_getP("digitalData.socialShare.type"),s.prop25=s_getP("digitalData.socialShare.content");break;case"LiveChatClick":s.setEvent(74);break;case"registration":s.setEvent(1),_satellite.track("registration");break;case"regUpgrade":s.setEvent(2);break;case"searchRequest":_satellite.track("searchRequest");break;case"purchase":console.log("PURCHASE EVENT");for(var items=[],i=0;i<digitalData.order.shipBins.length;i++)for(var j=0;j<digitalData.order.shipBins[i].projects.length;j++)for(var k=0;k<digitalData.order.shipBins[i].projects[j].lineItems.length;k++){if("object"==typeof digitalData.order.shipBins[i].projects[j].lineItems[k].lineItemOptions&&digitalData.order.shipBins[i].projects[j].lineItems[k].lineItemOptions.length>0)for(var m=0;m<digitalData.order.shipBins[i].projects[j].lineItems[k].lineItemOptions.length;m++)items.push(createSingleProductString(digitalData.order.shipBins[i].projects[j].lineItems[k].lineItemOptions[m],digitalData.order.shipBins[i].deliveryMethod));items.push(createSingleProductString(digitalData.order.shipBins[i].projects[j].lineItems[k],digitalData.order.shipBins[i].deliveryMethod))}s.eVar6=_satellite.getVar("UserID"),s.eVar7=_satellite.getVar("Cobrand"),s.eVar23=_satellite.getVar("VoucherCode"),s.eVar43=_satellite.getVar("TransactionID"),s.prop7=_satellite.getVar("PageName"),s.prop61=_satellite.getVar("CodeVersion"),s.events="event2,event4,event6,event7,event8,event30,event2,event31,event33,event34,event38,event51,event52,event53,purchase",s.purchaseID=_satellite.getVar("TransactionID"),s.products=items.join(",");break;case"albumShare":_satellite.track("albumShare");break;case"projectStart":_satellite.track("projectStart");break;case"projectSave":case"projectsave":_satellite.track("projectSave");break;case"projectReopen":s.eVar50=s_getP("digitalData.builder.product.project_id"),s.eVar51=s_getP("digitalData.builder.product.product_id"),s.eVar52=s_getP("digitalData.builder.product.builder_cat");var prod_sku=s_getP("digitalData.builder.product.product_sku"),prod_list=s_getP("digitalData.builder.product");if(prod_sku)s.products=";"+prod_sku;else if(prod_list){for(var products="",prod_list_len=prod_list.length,i=0;i<prod_list_len;i++)products+=";"+prod_list[i].product_sku+",";s.products=products.substring(0,products.length-1)}s.setEvent(16);break;case"reviewProject":s.eVar50=s_getP("digitalData.builder.product.project_id"),s.eVar51=s_getP("digitalData.builder.product.product_id"),s.eVar52=s_getP("digitalData.builder.product.builder_cat");var prod_sku=s_getP("digitalData.builder.product.product_sku"),prod_list=s_getP("digitalData.builder.product");if(prod_sku)s.products=";"+prod_sku;else if(prod_list){for(var products="",prod_list_len=prod_list.length,i=0;i<prod_list_len;i++)products+=";"+prod_list[i].product_sku+",";s.products=products.substring(0,products.length-1)}s.setEvent(17);break;case"linkClick":s.eVar3=s_getP("digitalData.link.linkName"),console.log("LinkTest"),s.setEvent(28);break;case"photoShare":s.eVar11=s_getP("digitalData.share.photo.numPhotosShared"),s.setEvent(78,digitalData.share.photo.numPhotosShared),s.setEvent(79,digitalData.share.photo.numRecipients),s.eVar12=s_getP("digitalData.share.photo.numRecipients"),s.eVar13=s_getP("digitalData.share.photo.shareType"),s.setEvent(77),"undefined"!=typeof ga&&ga("glbga.send","event","Photo","Photo Share","Share Photo","",{metric4:"1"});break;case"projectShare":s.eVar14=s_getP("digitalData.share.project.productSKU"),s.setEvent(79,digitalData.share.photo.numRecipients),s.eVar12=s_getP("digitalData.share.photo.numRecipients"),s.eVar13=s_getP("digitalData.share.photo.shareType"),s.setEvent(81);break;case"photoShareOpen":s.eVar15=s_getP("digitalData.share.photo.numPhotosShared"),s.setEvent(82,digitalData.share.photo.numPhotosShared),s.eVar13=s_getP("digitalData.share.photo.shareType"),s.setEvent(83);break;case"projectShareOpen":s.eVar14=s_getP("digitalData.share.project.productSKU"),s.eVar13=s_getP("digitalData.share.photo.shareType"),s.setEvent(84);break;case"prodListDetailsView":if("undefined"!=_satellite.getVar("Product")){var productArr=_satellite.getVar("Product"),productPrice="",productSKU="",productCategory="";if(productArr.length>0){console.log(1);var productObj=productArr[productArr.length-1];"undefined"!=typeof productObj.productInfo&&(productSKU=productObj.productInfo.sku,productPrice="undefined"!=typeof productObj.productInfo.price&&"undefined"!=typeof productObj.productInfo.price.pretaxPrice?productObj.productInfo.price.pretaxPrice.replace(/[^0-9\.]/,""):""),"undefined"!=typeof productObj.category&&(productCategory="undefined"!=typeof productObj.category.primaryCategory?productObj.category.primaryCategory:""),window.ajaxAAProductStr=productCategory.concat(";",productSKU.replace("CommerceProduct_",""),";;",productPrice),console.log(ajaxAAProductStr),_satellite.track("ajaxProductListView")}}break;case"prodListClick":if("undefined"!=_satellite.getVar("Product")){var productArr=_satellite.getVar("Product"),productPrice="",productSKU="",productCategory="";if(productArr.length>0){var productObj=productArr[productArr.length-1];"undefined"!=typeof productObj.productInfo&&(productSKU=productObj.productInfo.sku,productPrice="undefined"!=typeof productObj.productInfo.price&&"undefined"!=typeof productObj.productInfo.price.pretaxPrice?productObj.productInfo.price.pretaxPrice.replace(/[^0-9\.]/,""):""),"undefined"!=typeof productObj.category&&(productCategory="undefined"!=typeof productObj.category.primaryCategory?productObj.category.primaryCategory:"")}window.ajaxAAProductStr=productCategory.concat(";",productSKU.replace("CommerceProduct_",""),";;",productPrice),_satellite.track("ajaxProductListClick")}break;case"prodListView":if(void 0!==s_getP(DDeventObject)&&"undefined"!=typeof s_getP(DDeventObject).eventInfo&&"undefined"!=typeof s_getP(DDeventObject).eventInfo.merchandising){window.eventStackObj=DDeventObject;var eventObj=_satellite.getVar("jo_digital_data_obj");if(void 0!==eventObj&&""!=eventObj){var eventObjIndex=null!=/\d+/.exec(eventObj)&&/\d+/.exec(eventObj).length>0?parseInt(/\d+/.exec(eventObj)):"",myProdListObj="undefined"!=typeof window.digitalData&&"undefined"!=typeof window.digitalData.event?window.digitalData.event[eventObjIndex].eventInfo:"",merchSArr=[];if(void 0!==myProdListObj&&""!=myProdListObj&&"undefined"!=typeof myProdListObj.merchandising)for(var merchandisingArr=myProdListObj.merchandising,i=0;i<merchandisingArr.length;i++){var currentMerchIndex=merchandisingArr[i];if("undefined"!=typeof currentMerchIndex.items&&currentMerchIndex.items.length>0)for(var y=0;y<currentMerchIndex.items.length;y++){var currentMerchItemsIndex=currentMerchIndex.items[y],builderProductId=void 0!==_satellite.getVar("BuilderProduct")&&""!=_satellite.getVar("BuilderProduct")?_satellite.getVar("BuilderProduct")[0].product_id.replace("CommerceProduct_",""):"",merchSkuId="undefined"!=typeof currentMerchItemsIndex.skuId?currentMerchItemsIndex.skuId.replace("CommerceProduct_",""):"",merchEvarStr=currentMerchIndex.type.concat(".",currentMerchIndex.location,".",currentMerchIndex.name,".",currentMerchItemsIndex.type,".",currentMerchItemsIndex.position),aaStr=";";aaStr=aaStr.concat(merchSkuId,";;;;eVar82=",builderProductId,"|eVar81=",merchEvarStr),merchSArr.push(aaStr)}}s.linkTrackVars="products,events",s.linkTrackEvents="event156",s.products=merchSArr.join(","),s.setEvent(156)}}else console.log("builderCrossellProducts rule NOT fired");break;case"prodListSelect":void 0!==s_getP(DDeventObject)&&"undefined"!=typeof s_getP(DDeventObject).eventInfo&&"undefined"!=typeof s_getP(DDeventObject).eventInfo.merchandising_item?(window.eventStackObj=DDeventObject,_satellite.track("builderCrossellProductsClick")):console.log("builderCrossellProductsClick rule NOT fired");break;case"UploaderConfirmation":_satellite.track("trackUpload");break;case"builderAddToCart":void 0!==s_getP(DDeventObject)&&"undefined"!=typeof s_getP(DDeventObject).eventInfo&&"undefined"!=typeof s_getP(DDeventObject).eventInfo.products&&_satellite.setVar("builderProducts",s_getP(DDeventObject).eventInfo.products),_satellite.track("builderAddToCart");break;case"interaction":void 0!==s_getP(DDeventObject)&&"undefined"!=typeof s_getP(DDeventObject).eventInfo&&"undefined"!=typeof s_getP(DDeventObject).eventInfo.interaction&&(_satellite.setVar("interactionObj",s_getP(DDeventObject).eventInfo.interaction),_satellite.track("interaction"));break;case"builderReviewBuy":s.setEvent(17,"1");break;case"builderClickShuffleGallery":s.setEvent(106,"1");break;case"selectPickupLocation":s.setEvent(113,"1")}}}},"632b46d71a0dc3efb6dcd07e6b6ef6f7e9fb868f":{engine:"visitor_id",loadOn:"pagetop",name:"VisitorID",mcOrgId:"DDAC5B3B52FE550A0A490D44@AdobeOrg",autoRequest:!0,initVars:{trackingServer:"metrics.snapfish.com",trackingServerSecure:"smetrics.snapfish.com",marketingCloudServer:"metrics.snapfish.com",marketingCloudServerSecure:"smetrics.snapfish.com",cookieDomain:"%Domain%"}}},pageLoadRules:[{name:"AT Cart Page",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5717931764746d74450006f6.js"},{src:"satellite-57cd2fd864746d4d3800a214.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"at")},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/cart\/shoppingcart.*/i)}],event:"windowload"},{name:"AT Global Page Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5710a2c764746d5cd9000943.js"},{src:"satellite-57cd301c64746d4d3e00acb6.js"},{src:"satellite-580f48a064746d7de300a0c6.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"at")}],event:"windowload"},{name:"AT Homepage",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57cd30a764746d4d3800a22a.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Destination URL"),/.*\/home/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"at")}],event:"windowload"},{name:"AT Order Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-570fcd5a64746d08ad006622.js"},{src:"satellite-5710a25464746d19dd005d7e.js"},{src:"satellite-5710a40c64746d30ed000723.js"},{src:"satellite-574d568664746d251a00b02e.js"},{src:"satellite-574d584c64746d2dfc00b9e1.js"},{src:"satellite-57cd31b964746d361c00a16c.js"},{src:"satellite-58d13e0964746d33eb005247.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"at")},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/cart\/receipt.*/i)}],event:"windowload"},{name:"AT Registration Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5710a26864746d19dd005d80.js"},{src:"satellite-57cd31f564746d361f00af26.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"at")},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/registration\-confirmation.*/i)}],event:"windowload"},{name:"AU - Cart/Basket",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5b06933664746d6e010019ef.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),/Cart/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"au")}],event:"pagebottom"},{name:"AU Checkout and Billing",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57056c8e64746d61d800331a.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Billing & Review.*/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"au")}],event:"pagebottom"},{name:"AU Global Page Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5705685764746d210800113a.js"},{
src:"satellite-570569d864746d210b000cc8.js"},{src:"satellite-57bf2b6d64746d4d3e006a29.js"},{src:"satellite-57bf35ac64746d78bb005d71.js"},{src:"satellite-5ac3988a64746d3291008cd8.js"},{src:"satellite-5b0287a264746d0d8a009a9f.js"},{src:"satellite-5c9b627464746d5a29002829.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"au")}],event:"windowload"},{name:"AU Homepage",trigger:[{command:"loadIframe",arguments:[{pages:[{src:"satellite-57056ac064746d61d2002aae.html",data:["RandomNumber"]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Destination URL"),"/store/home")},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"au")}],event:"pagebottom"},{name:"AU Order Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57056d0c64746d61cf002d9d.js"},{src:"satellite-57056d0c64746d61cf002d9f.js"},{src:"satellite-57056d0c64746d61cf002da0.js"},{src:"satellite-5c9b7e2b64746d2929002c9f.js"},{src:"satellite-57bf2bb464746d4d410058c6.js"}]}]},{command:"loadIframe",arguments:[{pages:[{src:"satellite-570573f364746d61d2002b12.html",data:["TranasactionOrderValueBeforeTax","TransactionID","VoucherCode"]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Receipt$/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"au")}],event:"pagebottom"},{name:"AU Registration Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57057d1864746d210e000f41.js"}]}]},{command:"loadIframe",arguments:[{pages:[{src:"satellite-57056b8664746d61d2002ac9.html",data:["RandomNumber"]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/registration\-confirmation.*/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"au")}],event:"pagebottom"},{name:"CH Cart Page",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5717934c64746d743f00069a.js"},{src:"satellite-57cd308264746d4d3e00acba.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"ch")},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/cart\/shoppingcart.*/i)}],event:"windowload"},{name:"CH Global Page Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5710b0bc64746d696400052d.js"},{src:"satellite-57cd302f64746d4d3800a219.js"},{src:"satellite-580f48ad64746d7dda00a269.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"ch")}],event:"windowload"},{name:"CH Homepage",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57cd315564746d361c00a160.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Destination URL"),/.*\/home/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"at")}],event:"windowload"},{name:"CH Order Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-574d578764746d64e200ba35.js"},{src:"satellite-57cd31cd64746d361f00af22.js"}]}]},{command:"loadIframe",arguments:[{pages:[{src:"satellite-5710ade964746d28fd000662.html",data:["NewRepeatCustomerValue","TotalOrderPrice","TransactionID","TransactionProductsCategoryArray","UserType","VoucherCode"]},{src:"satellite-5710ae5d64746d1d4a006afb.html",data:[]},{src:"satellite-574d586e64746d64d900bae9.html",data:[]},{src:"satellite-58d13ebe64746d2cca008d3b.html",data:[]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"ch")},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/cart\/receipt.*/i)}],event:"windowload"},{name:"CH Registration Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57cd326964746d1929009155.js"}]}]},{command:"loadIframe",arguments:[{pages:[{src:"satellite-5710b18864746d1d44006fb1.html",data:[]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"ch")},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/registration\-confirmation.*/i)}],event:"pagebottom"},{name:"Hero Mbox",event:"pagetop"},{name:"IE Global Page Load Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-56f1bb6f64746d052300806c.js"},{src:"satellite-5bb3348564746d082a00ab61.js"},{src:"satellite-56f1c5c464746d0582001ad9.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"ie")}],event:"windowload"},{name:"IE Order Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-56f1c3eb64746d058500172c.js"},{src:"satellite-56f1c3eb64746d058500172d.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"ie")},function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Receipt$/i)}],event:"windowload"},{name:"NZ Checkout and Billing",conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Billing & Review.*/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"nz")}],event:"pagebottom"},{name:"NZ Global Page Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57056a2c64746d2111000e56.js"},{src:"satellite-57bf2c2f64746d361c005d2d.js"},{src:"satellite-57bf35da64746d78bb005d73.js"},{src:"satellite-5b0287e364746d544b00235a.js"},{src:"satellite-5c9b62c264746d78ba0007cb.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"nz")}],event:"windowload"},{name:"NZ Homepage",trigger:[{command:"loadIframe",arguments:[{pages:[{src:"satellite-57056b3e64746d61d50028ac.html",data:["RandomNumber"]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Destination URL"),"/store/home")},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"nz")}],event:"pagebottom"},{name:"NZ Order Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5705744264746d61d8003375.js"},{src:"satellite-5705744264746d61d8003376.js"},{src:"satellite-5705744264746d61d8003378.js"},{src:"satellite-5c9b7e6264746d46f4009aff.js"},{src:"satellite-57bf2c5364746d361f00644f.js"}]}]},{command:"loadIframe",arguments:[{pages:[{src:"satellite-5705744264746d61d8003379.html",data:["TranasactionOrderValueBeforeTax","TransactionID","VoucherCode"]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Receipt$/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"nz")}],event:"pagebottom"},{name:"NZ Registration Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57057d9a64746d210e000f43.js"}]}]},{command:"loadIframe",arguments:[{pages:[{src:"satellite-57056c2164746d61d2002ae6.html",data:["RandomNumber"]}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/registration\-confirmation.*/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"nz")}],event:"pagebottom"},{name:"Sailfish - All Regions - Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-599e8aff64746d16c100180f.js"},{src:"satellite-599ea98064746d08f20019ee.js"},{src:"satellite-59db80fb64746d3ec4003675.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageName"),/receipt/i)}],event:"windowload"},{name:"Sailfish - All Regions - Global Page Rule",trigger:[{engine:"sc",command:"setVars",arguments:[{eVar29:"%Js_User_Name_Version%",eVar6:"%UserID%"}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58f6463164746d1997006c8e.js"},{src:"satellite-59240c7664746d061f005579.js"},{src:"satellite-5927f41664746d505e005ed2.js"},{src:"satellite-594114d364746d4516009aba.js"},{src:"satellite-599ea74164746d1a14003fd9.js"},{src:"satellite-599ea81464746d1a110040ed.js"},{src:"satellite-59e8b19464746d35d8002097.js"},{src:"satellite-5a53489264746d6806001352.js"},{src:"satellite-5bcf252164746d333f002092.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/^(gb|uk|us|nz|au|ie)$/i)}],event:"windowload"},{name:"Sailfish - All Registration Pages",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5c61988864746d0e7d002bc4.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/registration\-confirmation.*/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/au|uk|us|nz|ie/i)}],event:"pagebottom"},{name:"Sailfish - DOM - All Empty Cart",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5cb70f6364746d6c6f000638.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("PagePath"),/\/empty-shopping-cart/i)}],event:"pagebottom"},{name:"Sailfish - DOM - All Pages",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5cab52b964746d76a600bfa0.js"}]}]}],event:"domready"},{name:"UK Cart Page",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-575582dc64746d2df900d40c.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/uk|gb/i)},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/cart\/shoppingcart.*/i)}],event:"windowload"},{name:"UK Category Page",conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/\/(photo\-(printing|books|gifts(\/photo\-mugs|\/custom\-cases\-covers|)|calendars)|wall\-art|personalised\-cards|browsestyle)$/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/uk|gb/i)},function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/Category|Browse\sStyle/i)}],event:"windowload"},{name:"UK Checkout and Billing",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5755833b64746d2dff00e5ca.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/uk|gb/i)},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/cart\/billing.*/i)}],event:"windowload"},{name:"UK Global Page Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-56f1b60564746d79b400194c.js"},{src:"satellite-56f1bba964746d0526008470.js"},{src:"satellite-5745549c64746d6b8a0088c6.js"},{src:"satellite-59c1302964746d520500bfd3.js"},{src:"satellite-5750bc6964746d633300103e.js"},{src:"satellite-5a5330f964746d6b23001b5c.js"},{src:"satellite-5a53460464746d2a0d0000db.js"},{src:"satellite-5bb3340764746d042e00229f.js"},{src:"satellite-5bec3d0664746d41ce003502.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"gb")}],event:"windowload"},{name:"UK Homepage",conditions:[function(){return _satellite.textMatch(_satellite.getVar("Destination URL"),/.*\/home/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/gb|uk/i)}],event:"windowload"},{name:"UK Order Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-56f1c18964746d79b1001c0d.js"},{src:"satellite-56f1c18964746d79b1001c0e.js"},{src:"satellite-56f1c18964746d79b1001c0f.js"},{src:"satellite-5745560264746d251d00921e.js"},{src:"satellite-575583ec64746d64e200e442.js"},{src:"satellite-5bec47d264746d034e000021.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),"gb")},function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Receipt$/i)}],event:"windowload"},{name:"UK Product Page",conditions:[function(){return _satellite.textMatch(_satellite.getVar("PageType"),/product/i)},function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/uk|gb/i)}],event:"windowload"},{name:"UK Registration Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5bec419c64746d101a000023.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteContext"),/uk|gb/i)},function(){return _satellite.textMatch(_satellite.getVar("Page URL"),/.*\/registration\-confirmation.*/i)}],event:"pagebottom"},{name:"US First Log-In of Visit Rule",conditions:[function(){return!("us"!=digitalData.page.pageInfo.siteContext||!digitalData.user.profile.profileInfo.loginEvent)}],event:"windowload"},{name:"US Global Page Load Rule (.*)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-578ff4ea64746d29bc003816.js"},{src:"satellite-589b845f64746d11870071a5.js"},{src:"satellite-58da26c364746d550500467e.js"},{src:"satellite-5947a2da64746d4f1500af60.js"},{src:"satellite-55df4f953337610014000a2d.js"},{src:"satellite-59e89d0c64746d35d500252a.js"},{src:"satellite-5bb26d3f64746d201d001fba.js"},{src:"satellite-5834249364746d1bdf0018a5.js"},{src:"satellite-5c891dc664746d6d300000d9.js"},{src:"satellite-5cb849ea64746d79a20000e4.js"}]}]}],conditions:[function(){return"us"==digitalData.page.pageInfo.siteContext}],event:"windowload"},{name:"US Global Page Load Rule (TOP)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5bf5101d64746d4616008032.js"}]}]}],scope:{domains:[/snapfish\.com$/i]},event:"pagetop"},{name:"US Order Confirmation (Page Top)",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5627e6ee64746d6568001b58.js"}]}]}],conditions:[function(){return"us"==digitalData.page.pageInfo.siteContext},function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Receipt$/i)}],event:"pagebottom"},{name:"US Order Confirmation / Purchase Rule",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5947a1ab64746d329200b560.js"},{src:"satellite-59e8a4f964746d678500043d.js"},{src:"satellite-55df8d3c3337610014000f5f.js"},{src:"satellite-5b2b673b64746d1adb00052c.js"},{src:"satellite-5b6b21a364746d189a0028f4.js"},{src:"satellite-57a1040964746d643b000c86.js"},{src:"satellite-589b910c64746d1d7c00275c.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Receipt$/i)},function(){return"us"==digitalData.page.pageInfo.siteContext}],event:"windowload"},{name:"US Registration Confirmation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-563ba10d64746d41da002de9.js"},{src:"satellite-58d37e9064746d482c0098ba.js"}]}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Page Name"),/.*Registration Complete$/i)},function(){return"us"==digitalData.page.pageInfo.siteContext}],event:"pagebottom"},{name:"US: QA: /photos page",scope:{URI:{include:["library/photos"]},domains:[/sf\-qa\.com$/i]},conditions:[function(){return _satellite.textMatch(_satellite.getVar("SiteCountry"),"us")}],event:"pagetop"},{name:"s.abort",trigger:[{engine:"sc",command:"customSetup",arguments:[function(e,t){t.abort=!0}]}],conditions:[function(){return _satellite.textMatch(_satellite.getVar("Delayed Page Load"),"true")}],event:"pagebottom"}],rules:[{name:"Back To Edit",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-56d9a09164746d70510005ad.js"}]}]}],scope:{URI:{include:["/create/builder"]}},selector:"#store_reviewMenuBar > div",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Cart Edit Order",trigger:[{command:"loadScript",arguments:[{sequential:!0,scripts:[{src:"satellite-56de26a464746d0523000a36.js"}]}]}],scope:{URI:{include:["/cart/shoppingcart"]}},selector:"#edit_url",event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Return to Classic Tab Click",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Return to Classic Tab Click",customSetup:function(){console.log("CLICL_TEST")},addEvent:["event10"]}]}],selector:"* > div.cms-v2 > div > div.form-panel > div.steps > div.step-01 > a",eventHandlerOnElement:!0,event:"click",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1}],directCallRules:[{name:"builderAddToCart",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Builder Add  To Cart",customSetup:function(e,t){function i(e){return void 0!==e&&""!=e}function a(e){e=e[0];var t=[],a={project_id:"eVar50",num_sessions:"eVar54",occasion:"eVar55",size:"eVar56",cover:"eVar57",binding:"eVar58",frame:"eVar59",orientation:"eVar60",additionalPages:"evar61",returnAddress:"eVar62",cartStock:"eVar63",numEmbellishments:"eVar65",color:"eVar72",numPhotosPerItem:"eVar73",paperFinish:"eVar76",foilColour:"eVar85"};for(var n in a){var r=n,o=a[r];i(e[r])?t.push(o.concat("=",e[r])):"numPhotosPerItem"==r||"numEmbellishments"==r?t.push(o.concat("=0")):t.push(o.concat("=not-set"))}return t.join("|")}function n(){var e=[],t={BuilderReviewCrop:["event85","numeric"],BuilderBestFitOption:["event86","numeric"],BuilderAddSize:["event87","numeric"],BuilderOrientationChange:["event89","numeric"],BuilderOptionsIcon:["event90","numeric"],BuilderManualSave:["event91","numeric"],BuilderWorkspaceZoom:["event92","numeric"],BuilderHelpIcon:["event93","numeric"],BuilderNumberOfSessions:["event94","numeric"],BuilderTimeToFinish:["event95","numeric"],BuilderUndo:["event96","numeric"],BuilderShuffle:["event97","numeric"],BuilderRedo:["event98","numeric"],BuilderRotate:["event99","numeric"],BuilderMove:["event100","numeric"],BuilderSwap:["event101","numeric"],BuilderFront:["event102","numeric"],BuilderBack:["event103","numeric"],BuilderFullPhoto:["event104","numeric"]};for(var a in t){var n=a,r=_satellite.getVar(n);if(i(r)){var o=t[a],s=o[0];o.indexOf("numeric")>-1?("BuilderTimeToFinish"==a&&(r=parseInt(r/1e3).toFixed(0)),e.push(s.concat("=",r))):e.push(s)}}return e}function r(e,i){for(var n=0;n<e.length;n++){var r=e[n];if(r.productInfo){var o=r.productInfo,s=o.sku?o.sku.replace("CommerceProduct_",""):undefined;if(s){var c=a(_satellite.getVar("BuilderProduct")),l=";";o.price&&(i.push(l.concat(s,";",o.quantity,";",o.price.displayPrice,";;",c)),0==n&&t.setEvent(47,o.price.displayPrice))}}}return i}var o=_satellite.getVar("builderProducts");if(o&&""!=o){var s=n().join(",").concat(",scAdd"),c=r(o,[]).join(",");t.linkTrackVars="events",t.linkTrackEvents="scAdd,event85,event86,event87,event88,event89,event90,event91,event92,event93,event94,event95,event96,event97,event98,event99,event100,event101,event102,event103,event104,event105,event106,event107,event108,event109,event110,event111,event112,event113,event114,event115",t.events=s.concat(",",t.events),t.products=c}}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5c5427b764746d4c210041e3.js"},{src:"satellite-5cc03b9c64746d584e000531.js"}]}]}]},{name:"builderCrossellProductsClick",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Builder Crossell Product Click",customSetup:function(e,t){var i=_satellite.getVar("jo_digital_data_obj"),a=[];if(void 0!==i&&""!=i){var n=null!=/\d+/.exec(i)&&/\d+/.exec(i).length>0?parseInt(/\d+/.exec(i)):"",r="undefined"!=typeof window.digitalData&&"undefined"!=typeof window.digitalData.event?window.digitalData.event[n].eventInfo:"";if(void 0!==r&&""!=r&&"undefined"!=typeof r.merchandising_item){var o=(r.merchandising_item.id,r.merchandising_item.id),s=(r.merchandising_item.id,r.merchandising_item.merchandising_id);if(void 0!==_satellite.getVar("BuilderMerchandising")&&""!=_satellite.getVar("BuilderMerchandising"))for(var c=_satellite.getVar("BuilderMerchandising"),l=0;l<c.length;l++){var u=c[l];if(u.id==s&&"undefined"!=typeof u.items&&u.items.length>0)for(var d=0;d<u.items.length;d++){var p=u.items[d];if(p.id==o){void 0!==_satellite.getVar("BuilderProduct")&&""!=_satellite.getVar("BuilderProduct")&&_satellite.getVar("BuilderProduct")[0].product_id.replace("CommerceProduct_","");var g="undefined"!=typeof p.skuId?p.skuId.replace("CommerceProduct_",""):"",f=u.type.concat(".",u.location,".",u.name,".",p.type,".",p.position),h=";";h=h.concat(g,";;;;eVar81=",f),a.push(h)}}}}}t.linkTrackVars="products",t.products=a.join(",")},addEvent:["event155"]}]}]},{name:"builderOverlayLoad",trigger:[{tool:["0a7a02b806bf9866ef913f92cf38a76f"],command:"trackPageView",arguments:[{setVars:{pageName:"%Page Name%"},customSetup:function(e,t){t.prop4=s_getP("digitalData.page.pageInfo.siteContext");var i=s_getP("digitalData.user.profile.profileInfo.loginState"),a="";"NO"==i&&(a=":LO");var n=s_getP("digitalData.page.pageInfo.pageName");t.prop6=i,t.prop7=n,t.pageName=n+a;var r=s_getP("digitalData.product[0].productInfo.sku"),o=s_getP("digitalData.builder.product.product_sku"),s=s_getP("digitalData.builder.product[0].product_sku"),c=s_getP("digitalData.cart");t.prop8=r&&c===undefined?n+":"+r.replace("CommerceProduct_",""):o?n+":"+o:s?n+":"+s:n,void 0===n&&(n="");var l=n.split(":");if(l.length>3){newPageNameList=l.slice(3);var u=newPageNameList.join(":");t.prop9=u+a,t.prop10=u}else t.prop9=n+a,t.prop10=n;t.prop30=t.eVar66=s_getP("digitalData.user[0].profile[0].attributes.daysSinceLastVisit"),t.eVar19=s_getP("digitalData.campaign.campaign_stack");var d=s_getP("digitalData.user[0].profile[0].attributes.previousPurchase");t.prop31=t.eVar67=d?"Repeat":"New",t.prop32=t.eVar68=s_getP("digitalData.user[0].profile[0].attributes.visitDepth"),t.prop33=t.eVar69=s_getP("digitalData.user[0].profile[0].attributes.visitNumber"),t.prop34=t.eVar70=s_getP("digitalData.user[0].profile[0].profileInfo.returningStatus"),t.prop54=s_getP("digitalData.prevPage.pageInfo.pageName"),t.channel=s_getP("digitalData.page.category.primaryCategory"),t.eVar22=s_getP("digitalData.campaign.k_clickid"),t.eVar35=s_getP("digitalData.campaign.internal_campaign_id"),void 0!==s_getP("digitalData.campaign.internal_campaign_id")&&null!=s_getP("digitalData.campaign.internal_campaign_id")&&t.setEvent(28),t.eVar39=s_getP("digitalData.user[0].profile[0].attributes.timeParting.day")+" - "+s_getP("digitalData.user[0].profile[0].attributes.timeParting.time"),t.prop1=t.eVar1=s_getP("digitalData.user.profile.profileInfo.regType"),t.prop2=t.eVar2=s_getP("digitalData.user.profile.profileInfo.userType"),t.prop3=s_getP("digitalData.page.pageInfo.destinationURL"),t.prop11=t.eVar14=s_getP("digitalData.user.profile.profileInfo.returnUser"),t.eVar42=s_getP("digitalData.user.profile.profileInfo.userStatus"),t.eVar6=_satellite.getVar("UserID"),t.prop61,s_getP("digitalData.versionAAcode"),s_getP("digitalData.versionAAD"),window.versionVarMap,t.prop55=s_getP("digitalData.prevPage.viewed.initialPercentViewed"),t.prop56=s_getP("digitalData.prevPage.viewed.finalPercentViewed"),t.prop57=s_getP("digitalData.prevPage.viewed.pixelsViewed"),t.prop75=t.eVar73=t.fid,t.prop74=t.eVar74=t.visitorID,t.visitorID?t.prop73=t.eVar72=t.visitorID:t.fid&&(t.prop73=t.eVar72=t.fid),t.referrer&&(t.eVar25=t.prop5=t.referrer),t.eVar50=s_getP("digitalData.builder.product.project_id"),t.eVar51=s_getP("digitalData.builder.product.product_id"),t.eVar52=s_getP("digitalData.builder.product.builder_cat");var p=s_getP("digitalData.builder.product.product_sku");p&&(t.products=";"+p),t.eVar4=s_getP("digitalData.user.profile.profileInfo.userPurchaseClass"),t.eVar7=s_getP("digitalData.page.pageInfo.cobrand"),t.eVar95="2.0",t.eVar39=_satellite.getVar("PageName"),t.eVar40=_satellite.getVar("PageFullURL"),t.eVar37=_satellite.getVar("pagePreviousPageName"),t.events=""}}]}]},{name:"pageView",trigger:[{tool:["0a7a02b806bf9866ef913f92cf38a76f"],command:"trackPageView",arguments:[{customSetup:function(e,t){t.events=""}}]}]},{name:"prodAddToCart",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59c3b56f64746d552700199b.js"},{src:"satellite-59c3b56f64746d552700199c.js"},{src:"satellite-5a09b2e164746d153a005cd7.js"},{src:"satellite-5c542c2664746d2f82000c1e.js"}]}]}]},{name:"scCheckout",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5c5879d964746d5114000649.js"}]}]}]},{name:"scview",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5c5874f264746d510e000849.js"}]}]}]},{name:"footerlinks",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Footer Links",setVars:{eVar31:"%FooterLinks%"}}]}]},{name:"interaction",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Interaction",customSetup:function(e,t){if(_satellite.getVar("interactionObj")&&""!=_satellite.getVar("interactionObj")){var i=_satellite.getVar("interactionObj");i.type&&i.location&&i.description&&(console.log("2"),t.linkTrackVars="events,eVar3",t.linkTrackEvents="event28",t.events="event28",t.eVar3=i.location.concat(".",i.type,".",i.description))}}}]}]},{name:"trackUpload",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"trackUpload",customSetup:function(e,t){t.linkTrackVars="events,eVar45,eVar47",t.linkTrackEvents="event63,event64,event66,event68,event65",t.setEvent(64);var i=s_getP("digitalData.uploader.attributes.numPhotosUp"),a=s_getP("digitalData.uploader.attributes.numPhotosForUpload"),n=s_getP("digitalData.uploader.attributes.photosFailedToUpload"),r=s_getP("digitalData.uploader.attributes.photosUploadType"),o=s_getP("digitalData.uploader.attributes.photosElapsedTime");i&&t.setEvent(63,i),a&&t.setEvent(66,a),n&&t.setEvent(68,n),r&&(t.eVar45=r),o&&(t.eVar47=o,t.setEvent(65,o))}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-55e5e9f733653500140013c3.js"},{src:"satellite-5909acae64746d6d67005109.js"},{src:"satellite-5b2b6aac64746d1adb00056a.js"}]}]}]},{name:"trackUpload",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"trackUpload",customSetup:function(e,t){t.setEvent(64);var i=s_getP("digitalData.uploader.attributes.numPhotosUp"),a=s_getP("digitalData.uploader.attributes.numPhotosForUpload"),n=s_getP("digitalData.uploader.attributes.photosFailedToUpload"),r=s_getP("digitalData.uploader.attributes.photosUploadType"),o=s_getP("digitalData.uploader.attributes.photosElapsedTime");i&&t.setEvent(63,i),a&&t.setEvent(66,a),n&&t.setEvent(68,n),r&&(t.eVar45=r),o&&(t.eVar47=o)}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-578f794264746d29b9002e9c.js"}]}]}]},{name:"prodRemoveFromCart",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5c58807b64746d0e80000613.js"}]}]}]},{name:"ajaxProductListClick",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Product List Click",customSetup:function(){window.s.linktrackVars="products",window.s.products=_satellite.getVar("js_ajax_aa_products_str")},addEvent:["event37"]}]}]},{name:"ajaxProductListView",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Product List View",customSetup:function(){window.s.linktrackVars="products",window.s.products=_satellite.getVar("js_ajax_aa_products_str")},addEvent:["event36"]}]}]},{name:"productView",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-592c446b64746d3fce000a4e.js"},{src:"satellite-5c54233e64746d2f82000bdc.js"}]}]}]},{name:"projectSave",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Project Save",customSetup:function(e,t){var i="",a="",n="",r=s_getP("digitalData.builder.product.product_sku"),o=s_getP("digitalData.builder.product");if(r)i=s_getP("digitalData.builder.product.project_id"),a=s_getP("digitalData.builder.product.product_id"),n=s_getP("digitalData.builder.product.builder_cat"),t.products=";"+r+";;;;eVar50="+i+"|eVar51="+a+"|eVar52="+n,void 0!==s_getP("digitalData.builder.shuffle")&&(t.events="undefined"!=typeof window.s.events&&""!=window.s.events?",event97="+s_getP("digitalData.builder.shuffle").toString():"event97="+s_getP("digitalData.builder.shuffle").toString());else if(o){for(var s="",c=o.length,l=0;l<c;l++)i="undefined"!=typeof o[l].project_id?o[l].project_id:"not-set",a=o[l].product_id,n=o[l].builder_cat,s+=";"+o[l].product_sku+";;;;eVar50="+i+"|eVar51="+a+"|eVar52="+n+",";t.products=s.substring(0,s.length-1)}},addEvent:["event15"]}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-597b481b64746d0bd4013fee.js"},{src:"satellite-5c3dc6a864746d7a02001906.js"}]}]}]},{name:"projectStart",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Project Start",customSetup:function(e,t){t.linkTrackVars="events,eVar50,eVar51,eVar52,products",t.events="events14",t.eVar50=s_getP("digitalData.builder.product.project_id"),t.eVar51=s_getP("digitalData.builder.product.product_id"),t.eVar52=s_getP("digitalData.builder.product.builder_cat");var i=s_getP("digitalData.builder.product.product_sku"),a=s_getP("digitalData.builder.product");if(i)t.products=";"+i;else if(a){for(var n="",r=a.length,o=0;o<r;o++)n+=";"+a[o].product_sku+",";t.products=n.substring(0,n.length-1)}},addEvent:["event14"]}]}]},{name:"registration",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"registration",customSetup:function(e,t){t.setEvent(1)}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-599eaa6364746d1a14003ff5.js"},{src:"satellite-5c6d7de964746d2dde00510a.js"}]}]}]},{name:"searchRequest",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar1:"%Registration Type%",eVar17:"%pageCampaignName%",eVar20:"%pageCampaignName%",eVar39:"D=c7",eVar4:"%User Purchase Class%",eVar6:"%UserID%",eVar7:"%Cobrand%",eVar83:"%SearchKeyword%",eVar84:"%SearchKeyword%",prop1:"D=v1",prop10:"D=c9",prop12:"%pageCampaignName%",prop3:"%Destination URL%",prop38:"D=v83",prop4:"%SiteContext%",prop54:"D=v37",prop7:"%PageName%",prop8:"D=c7",campaign:"%pageCampaignName%"},customSetup:function(e,t){t.setEvent(116,_satellite.getVar("SearchResults")),t.prop2=t.eVar2=s_getP("digitalData.user.profile.profileInfo.userType");var i=s_getP("digitalData.user.profile.profileInfo.loginState"),a="";"NO"==i&&(a=":LO"),t.prop6=i,t.prop30=t.eVar66=s_getP("digitalData.user[0].profile[0].attributes.daysSinceLastVisit"),t.prop32=t.eVar68=s_getP("digitalData.user[0].profile[0].attributes.visitDepth"),t.prop33=t.eVar69=s_getP("digitalData.user[0].profile[0].attributes.visitNumber"),t.prop34=t.eVar70=s_getP("digitalData.user[0].profile[0].profileInfo.returningStatus"),t.eVar37=_satellite.getVar("pagePreviousPageName"),t.eVar40=_satellite.getVar("PageFullURL"),t.prop55=s_getP("digitalData.prevPage.viewed.initialPercentViewed"),t.prop56=s_getP("digitalData.prevPage.viewed.finalPercentViewed"),t.prop57=s_getP("digitalData.prevPage.viewed.pixelsViewed");var n=s_getP("digitalData.page.pageInfo.pageName");void 0===n&&(n="");var r=n.split(":");if(r.length>3){newPageNameList=r.slice(3);var o=newPageNameList.join(":");t.prop9=o+a,t.prop10=o}else t.prop9=n+a,t.prop10=n;t.prop30=t.eVar66=s_getP("digitalData.user[0].profile[0].attributes.daysSinceLastVisit"),t.eVar19=s_getP("digitalData.campaign.campaign_stack");var s=s_getP("digitalData.user[0].profile[0].attributes.previousPurchase");t.prop31=t.eVar67=s?"Repeat":"New"}}]}]},{name:"uploaderConfirmation",trigger:[{tool:["0a7a02b806bf9866ef913f92cf38a76f"],command:"trackPageView",arguments:[{customSetup:function(e,t){t.prop4=s_getP("digitalData.page.pageInfo.siteContext");var i=s_getP("digitalData.user.profile.profileInfo.loginState"),a="";"NO"==i&&(a=":LO");var n=s_getP("digitalData.page.pageInfo.pageName");t.prop6=i,t.prop7=n,t.pageName=n+a;var r=s_getP("digitalData.product[0].productInfo.sku"),o=s_getP("digitalData.builder.product.product_sku"),s=s_getP("digitalData.builder.product[0].product_sku"),c=s_getP("digitalData.cart");t.prop8=r&&c===undefined?n+":"+r.replace("CommerceProduct_",""):o?n+":"+o:s?n+":"+s:n,void 0===n&&(n="");var l=n.split(":");if(l.length>3){newPageNameList=l.slice(3);var u=newPageNameList.join(":");t.prop9=u+a,t.prop10=u}else t.prop9=n+a,t.prop10=n;t.prop30=t.eVar66=s_getP("digitalData.user[0].profile[0].attributes.daysSinceLastVisit"),t.eVar19=s_getP("digitalData.campaign.campaign_stack");var d=s_getP("digitalData.user[0].profile[0].attributes.previousPurchase");t.prop31=t.eVar67=d?"Repeat":"New",t.prop32=t.eVar68=s_getP("digitalData.user[0].profile[0].attributes.visitDepth"),t.prop33=t.eVar69=s_getP("digitalData.user[0].profile[0].attributes.visitNumber"),t.prop34=t.eVar70=s_getP("digitalData.user[0].profile[0].profileInfo.returningStatus"),t.prop54=s_getP("digitalData.prevPage.pageInfo.pageName"),t.channel=s_getP("digitalData.page.category.primaryCategory"),t.eVar22=s_getP("digitalData.campaign.k_clickid"),t.eVar35=s_getP("digitalData.campaign.internal_campaign_id"),
void 0!==s_getP("digitalData.campaign.internal_campaign_id")&&null!=s_getP("digitalData.campaign.internal_campaign_id")&&t.setEvent(28),t.eVar39=s_getP("digitalData.user[0].profile[0].attributes.timeParting.day")+" - "+s_getP("digitalData.user[0].profile[0].attributes.timeParting.time"),t.prop1=t.eVar1=s_getP("digitalData.user.profile.profileInfo.regType"),t.prop2=t.eVar2=s_getP("digitalData.user.profile.profileInfo.userType"),t.prop3=s_getP("digitalData.page.pageInfo.destinationURL"),t.prop11=t.eVar14=s_getP("digitalData.user.profile.profileInfo.returnUser"),t.eVar42=s_getP("digitalData.user.profile.profileInfo.userStatus"),t.eVar6=_satellite.getVar("UserID"),t.prop61,s_getP("digitalData.versionAAcode"),s_getP("digitalData.versionAAD"),window.versionVarMap,t.prop55=s_getP("digitalData.prevPage.viewed.initialPercentViewed"),t.prop56=s_getP("digitalData.prevPage.viewed.finalPercentViewed"),t.prop57=s_getP("digitalData.prevPage.viewed.pixelsViewed"),t.prop75=t.eVar73=t.fid,t.prop74=t.eVar74=t.visitorID,t.visitorID?t.prop73=t.eVar72=t.visitorID:t.fid&&(t.prop73=t.eVar72=t.fid),t.referrer&&(t.eVar25=t.prop5=t.referrer),t.eVar50=s_getP("digitalData.builder.product.project_id"),t.eVar51=s_getP("digitalData.builder.product.product_id"),t.eVar52=s_getP("digitalData.builder.product.builder_cat");var p=s_getP("digitalData.builder.product.product_sku");p&&(t.products=";"+p),t.eVar4=s_getP("digitalData.user.profile.profileInfo.userPurchaseClass"),t.eVar7=s_getP("digitalData.page.pageInfo.cobrand"),t.eVar95="2.0",t.eVar39=_satellite.getVar("PageName"),t.eVar40=_satellite.getVar("PageFullURL"),t.eVar37=_satellite.getVar("pagePreviousPageName"),t.events=""}}]}]},{name:"uploaderIngestion",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"uploaderIngestion",customSetup:function(e,t){var i="uploaderIngestion",a=s_getP("digitalData.library.featureClickType");t.eVar9=i+"|"+a,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]},{name:"ajaxCartChange"},{name:"ajaxProductView",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-57f8346b64746d5fd1000ca2.js"}]}]}]},{name:"albumShare",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"Album Share",customSetup:function(){function e(e){return"undefined"!=typeof window.s.events?""==window.s.events?e:window.s.events.concat(window.s.events,",",e):e}var t="event78="+_satellite.getVar("NumOfPhotosShared"),i="event79="+_satellite.getVar("NumOfRecipients"),a=t.concat(",",i);window.s.linkTrackVars="events",window.s.linkTrackEvents="event78,event79",window.s.events=e(a)}}]},{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-597b479264746d5e540085fe.js"}]}]}]},{name:"albumsPage",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"albumsPage",customSetup:function(e,t){var i="albumsPage",a=s_getP("digitalData.library.featureClickType");t.eVar9=i+"|"+a,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]},{name:"photoDetail",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"photoDetail",customSetup:function(e,t){var i="photoDetail",a=s_getP("digitalData.library.featureClickType");t.eVar9=i+"|"+a,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]},{name:"photosPage",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"photosPage",customSetup:function(e,t){var i="photosPage",a=s_getP("digitalData.library.featureClickType");t.eVar9=i+"|"+a,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]},{name:"projectsPage",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"projectsPage",customSetup:function(e,t){var i="projectsPage",a=s_getP("digitalData.library.featureClickType");t.eVar9=i+"|"+a,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]},{name:"shareFlow",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"shareFlow",customSetup:function(e,t){var i="shareFlow",a=s_getP("digitalData.library.featureClickType");t.eVar9=i+"|"+a,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]},{name:"singleAlbumDetail",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"singleAlbumDetail",customSetup:function(e,t){var i=_satellite.getVar("PageName");feature_type=s_getP("digitalData.library.featureClickType"),t.eVar9=i+"|"+feature_type,t.setEvent(27),t.linkTrackVars="eVar9,events",t.linkTrackEvents="event27"}}]}]}],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-a08d63056fd76bb6b56e21e3203bec545d8fbdbd",isStaging:!1,allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["sanpfish.com.au","sf-qa.com","snapfish.at","snapfish.ch","snapfish.co.nz","snapfish.co.uk","snapfish.com","snapfish.de","snapfish.fr","snapfish.ie","snapfish.it"],scriptDir:"3e3925ae02adc903020df52b68cce77454fb6fc6/scripts/",linkDelay:500,tagTimeout:3e3},data:{URI:document.location.pathname+document.location.search,browser:{},cartItems:[],revenue:"",host:{http:"assets.adobedtm.com",https:"assets.adobedtm.com"}},dataElements:{AddToCartProductID:{customJS:function(){try{if(void 0!==_satellite.getVar("ProductID"))return _satellite.getVar("ProductID").replace(/CommerceProduct_/,"")}catch(e){return""}},storeLength:"pageview"},AddToCartProductPrice:{customJS:function(){try{if(void 0!==_satellite.getVar("ProductPrice"))return _satellite.getVar("ProductPrice").toFixed(2)}catch(e){return""}},storeLength:"pageview"},AddToCartProductQuantity:{customJS:function(){try{if(void 0!==_satellite.getVar("Product")&&_satellite.getVar("Product").length>0)return _satellite.getVar("Product")[0].productInfo.quantity}catch(e){return""}},storeLength:"pageview"},adpublisherUserId:{queryParam:"user",storeLength:"visitor",cleanText:!0,ignoreCase:1},AWINCommissionCode:{customJS:function(){return"AC"},storeLength:"pageview"},BuilderAddSize:{customJS:function(){try{return digitalData.builder.addSize.toString()}catch(e){}},storeLength:"pageview"},BuilderAddToCartProductPrice:{customJS:function(){function e(e,t){return e+t}if("undefined"!=typeof window.digitalData&&"undefined"!=typeof window.digitalData.event){var t=window.digitalData.event.filter(function(e){return"builderAddToCart"===e.eventInfo.eventName}),i=t[t.length-1];if(void 0!==i&&"undefined"!=typeof i.eventInfo&&"undefined"!==i.eventInfo.products){var a=i.eventInfo.products.map(function(e){return e.productInfo.price.displayPrice}).reduce(e);return parseFloat(a).toFixed(2)}}},storeLength:"pageview"},BuilderAddToCartProductQuantity:{customJS:function(){function e(e,t){return e+t}if("undefined"!=typeof window.digitalData&&"undefined"!=typeof window.digitalData.event){var t=window.digitalData.event.filter(function(e){return"builderAddToCart"===e.eventInfo.eventName}),i=t[t.length-1];if(void 0!==i&&"undefined"!=typeof i.eventInfo&&"undefined"!==i.eventInfo.products){var a=i.eventInfo.products.map(function(e){return e.productInfo.quantity}).reduce(e);return parseInt(a)}}},storeLength:"pageview"},BuilderBack:{jsVariable:"digitalData.builder.back",storeLength:"pageview"},BuilderBestFitOption:{jsVariable:"digitalData.builder.bestFitOption",storeLength:"pageview"},BuilderChangeSize:{jsVariable:" digitalData.builder.changeSize",storeLength:"pageview"},BuilderDelete:{jsVariable:"digitalData.builder.delete",storeLength:"pageview"},BuilderFront:{jsVariable:"digitalData.builder.front",storeLength:"pageview"},BuilderFullPhoto:{jsVariable:"digitalData.builder.fullPhoto",storeLength:"pageview"},BuilderHelpIcon:{customJS:function(){try{return digitalData.builder.helpIcon.toString()}catch(e){}},storeLength:"pageview"},BuilderManualSave:{jsVariable:"digitalData.builder.manualSave",storeLength:"pageview"},BuilderMerchandising:{jsVariable:"window.digitalData.builder.merchandising",storeLength:"pageview"},BuilderMove:{jsVariable:"digitalData.builder.move",storeLength:"pageview"},BuilderNumberOfSessions:{jsVariable:"digitalData.builder.numSessions",storeLength:"pageview"},BuilderOptionsIcon:{customJS:function(){try{return digitalData.builder.optionsIcon.toString()}catch(e){}},storeLength:"pageview"},BuilderOrientationChange:{customJS:function(){try{return digitalData.builder.orientationChange.toString()}catch(e){}},storeLength:"pageview"},BuilderProduct:{jsVariable:"digitalData.builder.product",storeLength:"pageview"},BuilderProductBackgroundUIDS:{jsVariable:"digitalData.builder.product.backgroundUUIDs",storeLength:"pageview"},BuilderProductBinding:{jsVariable:"digitalData.builder.product.binding",storeLength:"pageview"},BuilderProductCardStock:{jsVariable:"digitalData.builder.product.cardStock",storeLength:"pageview"},BuilderProductColor:{jsVariable:"digitalData.builder.product.color",storeLength:"pageview"},BuilderProductCover:{jsVariable:"digitalData.builder.product.cover",storeLength:"pageview"},BuilderProductDesignIDS:{jsVariable:"digitalData.builder.product.designIDs",storeLength:"pageview"},BuilderProductDimensions:{jsVariable:"digitalData.builder.product.dimensions",storeLength:"pageview"},BuilderProductFontIDS:{jsVariable:"digitalData.builder.product.fontIDs",storeLength:"pageview"},BuilderProductFrame:{jsVariable:"digitalData.builder.product.frame",storeLength:"pageview"},BuilderProductId:{jsVariable:"digitalData.builder.product.product_sku",storeLength:"pageview"},BuilderProductLayoutIDs:{jsVariable:"digitalData.builder.product.layoutIDs",storeLength:"pageview"},BuilderProductName:{jsVariable:"digitalData.builder.product.product_id",storeLength:"pageview"},BuilderProductNumberOfEmbellishments:{jsVariable:"digitalData.builder.product.numEmbellishments",storeLength:"pageview"},BuilderProductNumberOfPages:{jsVariable:"digitalData.builder.product.num_pages",storeLength:"pageview"},BuilderProductNumBerOfSessions:{jsVariable:"digitalData.builder.product.num_sessions",storeLength:"pageview"},BuilderProductNumberPhotosPerItem:{jsVariable:"digitalData.builder.product.numPhotosPerItem",storeLength:"pageview"},BuilderProductOccasion:{jsVariable:"digitalData.builder.product.occasion",storeLength:"pageview"},BuilderProductOrientation:{jsVariable:"digitalData.builder.product.orientation",storeLength:"pageview"},BuilderProductPaperFinish:{jsVariable:"digitalData.builder.product.paperFinish",storeLength:"pageview"},BuilderProductReturnAddress:{jsVariable:"digitalData.builder.product.returnAddress",storeLength:"pageview"},BuilderProductSize:{jsVariable:"digitalData.builder.product.size",storeLength:"pageview"},BuilderProductTimeToFinish:{jsVariable:"digitalData.builder.product.time_to_finish",storeLength:"pageview"},BuilderProjectID:{jsVariable:"window.digitalData.builder.product.project_id",storeLength:"pageview"},BuilderRedo:{customJS:function(){try{return digitalData.builder.redo.toString()}catch(e){}},storeLength:"pageview"},BuilderReviewCrop:{customJS:function(){try{return digitalData.builder.reviewCrop.toString()}catch(e){}},storeLength:"pageview"},BuilderRotate:{jsVariable:"digitalData.builder.rotate",storeLength:"pageview"},BuilderShuffle:{customJS:function(){try{return digitalData.builder.shuffle.toString()}catch(e){}},storeLength:"pageview"},BuilderSwap:{jsVariable:"digitalData.builder.swap",storeLength:"pageview"},BuilderTimeToFinish:{jsVariable:"digitalData.builder.timeToFinish",storeLength:"pageview"},BuilderUndo:{customJS:function(){try{return digitalData.builder.undo.toString()}catch(e){}},storeLength:"pageview"},BuilderWorkspaceZoom:{customJS:function(){try{return digitalData.builder.workspaceZoom.toString()}catch(e){}},storeLength:"pageview"},"Campaign (cid)":{queryParam:"cid",storeLength:"pageview",ignoreCase:1},CartItems:{jsVariable:"digitalData.cart.item",storeLength:"pageview"},CartProductSKUs:{customJS:function(){for(var e=[],t=window.digitalData.cart.item,i=0;i<t.length;i++)e.push(window.digitalData.cart.item[i].productInfo.sku);return e.join()},storeLength:"pageview"},CartTotalPrice:{jsVariable:"digitalData.cart.price.cart.cartTotal",storeLength:"pageview"},cidParameter:{queryParam:"cid",storeLength:"pageview",ignoreCase:1},cjs_construct_cookies:{customJS:function(){return{get:function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),a=0;a<i.length;a++){for(var n=i[a];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return!1},set:function(e,t,i,a,n){var r=new Date,o="",s="cookie is not set. check parameters again";if(n&&""!=n)if("minutes"==n){var c=a;Number.isInteger(c)?o=r.getTime()+60*c*1e3:s=s.concat("\nduration value should be an integer")}else if("days"==n){var l=a;Number.isInteger(l)?o=void 0!==l&&""!=l?r.getTime()+24*l*60*60*1e3:r.getTime()+18e5:s=s.concat("\nduration value should be an integer")}else s=s.concat("\nexpiryType should be 'minutes' or 'days'");else o=r.getTime()+864e5;if(""!=o){r.setTime(o);var u="expires="+r.toGMTString();return document.cookie=e+"="+t+"; "+u+";domain="+i+"; path=/","cookie is set"}return s},remove:function(e,t,i){new Date(0).toUTCString();document.cookie=e+"=; domain="+i+"; expires=Thu, 01 Jan 1970 00:00:01 GMT";for(var a=0,n=t.length;a<n;a++)document.cookie=e+"=; path="+t[a]+"; domain="+i+";  expires= Thu, 01 Jan 1970 00:00:01 GMT"}}},storeLength:"pageview"},cjs_cookie_domain:{customJS:function(){return window.location.hostname.replace(/[a-zA-Z0-9\:\/\-]+/,"")},storeLength:"pageview"},cjs_heap_ids:{customJS:function(){function e(){return _satellite.getVar("SiteEnvironment").match(/^(prod)/)?"1947066873":_satellite.getVar("SiteEnvironment").match(/^(?!prod|^(prod)).*$/)?"2169092015":void 0}function t(){return _satellite.getVar("SiteEnvironment").match(/^(prod)/)?"693270545":_satellite.getVar("SiteEnvironment").match(/^(?!prod|^(prod)).*$/)?"1099112557":void 0}function i(){return _satellite.getVar("SiteEnvironment").match(/^(prod)/)?"190203350":_satellite.getVar("SiteEnvironment").match(/^(?!prod|^(prod)).*$/)?"3999554621":void 0}function a(){return _satellite.getVar("SiteEnvironment").match(/^(prod)/)?"1811150591":_satellite.getVar("SiteEnvironment").match(/^(?!prod|^(prod)).*$/)?"1126149194":void 0}function n(){return _satellite.getVar("SiteEnvironment").match(/^(prod)/)?"1857797365":_satellite.getVar("SiteEnvironment").match(/^(?!prod|^(prod)).*$/)?"2432652993":void 0}var r=_satellite.getVar("SiteContext");if("undefined"!=r){switch(r){case"au":return e();case"ch":return getCHHeapIDS();case"ie":return i();case"nz":return t();case"uk":case"gb":return a();case"us":return n()}return[]}},storeLength:"pageview"},cjs_product_object:{customJS:function(){var e={cart:{id:[],name:[],price:[]}};if(void 0!==_satellite.getVar("CartItems")&&""!=_satellite.getVar("CartItems")){for(var t=_satellite.getVar("CartItems"),i=0;i<t.length;i++)e.cart.id.push(t[i].productInfo.sku),e.cart.name.push(t[i].attributes.ProductName);return e}},storeLength:"pageview"},cjs_staging_domains:{customJS:function(){return window.location.hostname.match(/(uk\.sf)\-(stg|qa)/)?"staging":"live"},storeLength:"pageview"},cjs_utm_params:{customJS:function(){function e(e,t){for(var i=t,a=0;a<e.length;a++){var n=e[a],r=new RegExp("\\."+n+"=([a-zA-Z0-9]+)|"+n+"=([a-zA-Z0-9]+)");i=i.replace(r,"")}return i}var t=_satellite.getVar("pageCampaignName"),i=["cid_ch","cid_so"],a="";if(""!=t&&t.indexOf("cid_ch")>-1&&t.indexOf("cid_so")>-1&&t.indexOf("cid_co")>-1){var n=window.encodeURIComponent(e(i,t)),r=null!=/cid_ch\=([a-zA-Z0-9]+)/.exec(t)&&/cid_ch\=([a-zA-Z0-9]+)/.exec(t).length>1?"utm_medium="+/cid_ch\=([a-zA-Z0-9]+)/.exec(t)[1]:"",o=null!=/cid_so\=([a-zA-Z0-9]+)/.exec(t)&&/cid_so\=([a-zA-Z0-9]+)/.exec(t).length>1?"utm_source="+/cid_ch\=([a-zA-Z0-9]+)/.exec(t)[1]:"";a=""!=r&&""!=o?r.concat("&",o,"&utm_campaign=",n):""}else if(""!=t&&t.indexOf("|")>-1){var s=new RegExp("^(?:[^|]*|){7}([^|]*)");if(null!=s.exec(t)&&s.exec(t).length>0){var c=t.split("|");if(c.length>=5){r="utm_medium="+c.splice(1,1)[0],o="utm_source="+c.splice(3,1)[0];var l=c.length>0?window.encodeURIComponent(c.join(".")):"";a=r.concat("&",o,"&utm_campaign=",l)}}}return a},storeLength:"pageview"},Cobrand:{jsVariable:"digitalData.page.pageInfo.cobrand",storeLength:"pageview"},CodeVersion:{customJS:function(){return"2016115-TM-2.0"},storeLength:"pageview"},CurrencyCode:{customJS:function(){var e="USD";switch(_satellite.getVar("SiteContext").toLowerCase()){case"gb":case"uk":e="GBP";break;case"fr":case"de":case"at":case"ch":case"it":case"ie":e="EUR";break;case"au":e="AUD";break;case"nz":e="NZD"}return e},storeLength:"pageview"},CurrentCampaign:{customJS:function(){return decodeURIComponent(_satellite.getVar("CurrentCampaignRawCookie"))},storeLength:"pageview",forceLowerCase:!0},CurrentCampaignRawCookie:{cookie:"s_v20",storeLength:"pageview",forceLowerCase:!0},CurrentDate:{customJS:function(){var e=(new Date).toISOString();return e.substring(0,e.indexOf("T"))},storeLength:"pageview"},"Delayed Page Load":{jsVariable:"digitalData.page.attributes.delayPageLoad",storeLength:"pageview"},"Destination URL":{jsVariable:"window.digitalData.page.pageInfo.destinationURL",storeLength:"pageview"},dl_cart:{jsVariable:"window.digitalData.cart",storeLength:"pageview"},dl_order:{jsVariable:"digitalData.order",storeLength:"pageview"},dl_order_user_purchase_date:{jsVariable:"digitalData.order.invoicedDate",storeLength:"pageview"},dl_user_account_id:{jsVariable:"digitalData.user.profile.profileInfo.userAccount",storeLength:"pageview"},Domain:{jsVariable:"digitalData.page.pageInfo.domain",storeLength:"pageview"},DoubleClickNaturalSearchURL:{customJS:function(){switch(_satellite.getVar("SiteContext")){case"ie":return"https://ad.doubleclick.net/ddm/adj/N1657.197812NSO.CODESRV/B8592003.116016125;sz=1x2;ord=";case"gb":return"https://ad.doubleclick.net/ddm/adj/N1657.197812NSO.CODESRV/B8591811.116024019;sz=1x2;ord=";default:return""}},storeLength:"pageview"},FooterLinks:{jsVariable:"window.footer_links",storeLength:"pageview"},GoogleremarketingConversionId:{customJS:function(){switch(_satellite.getVar("SiteContext")){case"ie":return"1060183428";case"uk":case"gb":return"1070349231";default:return""}},storeLength:"pageview"},GUAID:{customJS:function(){switch(_satellite.getVar("SiteContext")){case"gb":case"uk":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-7":"UA-35686484-6";case"ie":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-18":"UA-35686484-3";case"at":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-14":"UA-35686484-6";case"au":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-16":"UA-35686484-6";case"ch":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-15":"UA-35686484-6";case"de":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-9":"UA-35686484-11";case"fr":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-8":"UA-35686484-12";case"it":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-10":"UA-35686484-13";case"nz":return _satellite.getVar("SiteEnvironment").match(/prod/i)?"UA-35686484-17":"UA-35686484-6";default:return""}},storeLength:"pageview"},GUAPropertyNumber:{customJS:function(){switch(_satellite.getVar("SiteContext")){case"gb":case"uk":return"production"==_satellite.getVar("SiteEnvironment")?"UA-35686484-7":"UA-35686484-6";case"ie":return"UA-35686484-3";default:return""}},storeLength:"pageview"},icidParameter:{queryParam:"icid",storeLength:"pageview",ignoreCase:1},InternalCampaignID:{customJS:function(){return _satellite.getVar("InternalCampaignIDRaw").split("#")[0]},storeLength:"pageview"},InternalCampaignIDRaw:{jsVariable:"digitalData.campaign.internal_campaign_id",storeLength:"pageview"},isDECategoryPage:{customJS:function(){for(var e,t=["snapfish.de/2/fotos-online-bestellen","www.snapfish.de/2/fotobuch","www.snapfish.de/2/wanddekoration","www.snapfish.de/2/fotogeschenke","www.snapfish.de/2/fotokalender"],i=0;i<t.length;i++)if(e=new RegExp("/"+t[i]+"/i"),document.URL.match(e))return!0;return!1},storeLength:"pageview"},jo_digital_data_obj:{jsVariable:"window.eventStackObj",storeLength:"pageview"},jo_full_url:{jsVariable:"window.location.href",storeLength:"pageview"},js_ajax_aa_products_str:{jsVariable:"window.ajaxAAProductStr",storeLength:"pageview"},js_category_or_product_page:{customJS:function(){var e=_satellite.getVar("PagePath");return/((photo|personalised)\-(printing|books|gifts|mugs|calendars|cushions)|canvas\-prints|vouchers-deals-offers|wall\-art|browsestyle)$/.test(e)?"category":/view/.test(window.location.href)&&!/\/create\/builder/.test(window.location.pathname)?"product":void 0},storeLength:"pageview"},js_currency_code:{customJS:function(){var e="GBP";switch(document.domain.replace("www.snapfish","")){case".com":e="USD";break;case".co.uk":e="GBP";break;case".fr":case".de":case".it":case".at":case".ie":e="EUR";break;case".com.au":case".ch":e="AUD"}return e},storeLength:"pageview"},js_dtm_block:{customJS:function(){var e=!1;return _satellite.getVar("SiteContext").match(/^ie$/i)&&(e=!0),e},storeLength:"pageview"},js_fb_ids:{customJS:function(){function e(){return[]}function t(){return["442389662612530","138941989920850","1730212533949486"]}function i(){return["768860346628154"]}function a(){return["179500702597944"]}function n(){return["442389662612530","138941989920850","332831933811870"]}function r(){return["413582659024154"]}function o(){return["424541901064485"]}var s=_satellite.getVar("SiteContext");if(_satellite.getVar("js_live_snapfish_domain")>0){switch(s){case"at":return e();case"au":return t();case"ch":return i();case"ie":return a();case"nz":return n();case"uk":case"gb":return r();case"us":return o()}return[]}},storeLength:"pageview"},js_ir_code:{customJS:function(){var e="";switch(document.domain.replace("www.snapfish","")){case".com":e="625b98b5-406a-4130-a66d-fa25bf814f11";break;case".co.uk":e="3fb817a2-0bd2-47f7-be9c-1d0541ba95b1";break;case".ie":e="8c271b7f-3e57-440f-b382-0cc35ccd2d92";break;case".com.au":e="e479e863-c657-4128-8597-cbd07af8bef4";break;case".co.nz":e="8b5c8c0c-6b51-496a-a9ec-05abf721b41a"}return e},storeLength:"pageview"},js_live_snapfish_domain:{customJS:function(){try{return location.hostname.replace("www.","").match(/^snapfish\./).length}catch(e){return 0}return 0},storeLength:"pageview"},js_responsys_id:{customJS:function(){var e=!1;switch(_satellite.getVar("SiteCountry")){case"uk":case"gb":case"ie":case"au":case"nz":e={ri:"X0Gzc2X%3DYQpglLjHJlTQGo1n2L5LWiMgIqzgeePJGK2s",ei:"ErvVTVAuFC95N4VzD9GvgpI",action:"once"};break;case"us":e={ri:"X0Gzc2X%3DYQpglLjHJlTQGoXs3oIzbSwGA8J7zat8ezgiak",ei:"EoTA3q5iBvuWU3HzGV2ZNII",action:"once"}}return e},storeLength:"pageview"},js_transaction_get_products_category:{customJS:function(){function e(e){for(i in e)if("undefined"!=typeof i)return!0;return!1}function t(e,t){return parseFloat(e)+parseFloat(t)}function a(e){var t=["Print","Book","Gift","Card","Calendar","Mug","Option"];if(void 0===e||""==e)return"No Category";for(y=0;y<t.length;y++){if(new RegExp(t[y],"i").test(e))return t[y]}}function n(e,n){for(i=0;i<e.length;i++){var r=e[i],o=""!=r.product_info.name?a(r.product_info.name):""!=r.product_info.full_id?a(r.product_info.full_id):"No Category";"undefined"!=typeof n[o]?n[o]=t(n[o],r.revenue.unit_price_with_quantity).toFixed(2):n[o]=parseFloat(r.revenue.unit_price_with_quantity).toFixed(2)}}if(_satellite.getVar("PageName").match(/receipt/i)){var r={};return n(_satellite.getVar("js_transaction_items_formatted").products,r),e(r)?r:""}},storeLength:"pageview"},js_transaction_items_formatted:{customJS:function(){function e(e){return!!(void 0!==e&&""!=e&null!=e)}function t(e){return"undefined"!=typeof e.skuId?e.skuId.replace(/CommerceProduct_/,""):"undefined"!=typeof e.optionId?e.optionId.replace(/CommerceOption_/,""):e.replace(/CommerceProduct_/,"")}function a(e){return 0==e?"0.00000":parseFloat(e).toFixedDown(5)}function n(e,t){return parseFloat(e)/parseInt(t)==0?"0.0000":(parseFloat(e)/parseInt(t)).toFixedDown(5)}function r(e,t){var i=_satellite.getVar("SiteContext"),a=e.productTotal,n=a-e.productDiscount.totalDiscount,r=n,o=n,s=0,c=0,l=0,u=0,d=0,p=0,f=0,h=0,m=0,v=0;for(var S in e.taxInfo.productTax)e.taxInfo.productTax.hasOwnProperty(S)&&(s=e.taxInfo.productTax[S].taxAmount,r="us"!=i?n-s:n);if(t.match(/retailpickup/i)||t.match(/ShipToStore/i));else for(var S in p=(d=e.shippingTotal)-e.shippingDiscount.totalDiscount,e.taxInfo.shippingTax)e.taxInfo.shippingTax.hasOwnProperty(S)&&(u=e.taxInfo.shippingTax[S].taxAmount,f="us"!=i?p-u:p);if(t.match(/mailorder/i))for(var S in e.taxInfo.shippingTax)e.taxInfo.shippingTax.hasOwnProperty(S)&&(h+=e.taxInfo.shippingTax[S].taxAmount,l=e.taxInfo.shippingTax[S].taxRate);for(var S in e.taxInfo.productTax)e.taxInfo.productTax.hasOwnProperty(S)&&(h+=e.taxInfo.productTax[S].taxAmount,c=e.taxInfo.productTax[S].taxRate);return e.productDiscount.totalDiscount>0&&(v=e.productDiscount.totalDiscount/(1+c)),e.shippingDiscount.totalDiscount>0&&(m=e.shippingDiscount.totalDiscount/(1+l)),o=g.add(o,p),{total_net_tax:h,net_product_discount:v,net_shipping_discount:m,product_gross_discount:e.productDiscount.totalDiscount,shipping_gross_discount:e.shippingDiscount.totalDiscount,full_price_with_shipping_no_discount:o,product_price_no_discount:n,unit_price:r,full_price:a,shipping_tax_rate:l,shipping_tax_amount:u,shipping_full_price:d,shipping_price_no_discount:p,net_shipping:f,tax_rate:c,tax_amount:s}}function o(e,t){e.delivery_method=p.shipBins[t].deliveryMethod,e.delivery_option=p.shipBins[t].deliveryOption,e.shipbin_Id=p.shipBins[t].shipBinId,e.retailer=p.shipBins[t].retailer,e.net_shipping=r(e,e.delivery_method).net_shipping,e.total_net_tax=r(e,e.delivery_method).total_net_tax,e.net_product_discount=r(e,e.delivery_method).net_product_discount,e.net_shipping_discount=r(e,e.delivery_method).net_shipping_discount,e.unit_price=r(e,e.delivery_method).unit_price,e.full_price=r(e,e.delivery_method).full_price,e.product_gross_discount=r(e,e.delivery_method).product_gross_discount,e.product_price_no_discount=r(e,e.delivery_method).product_price_no_discount,e.full_price_with_shipping_no_discount=r(e,e.delivery_method).full_price_with_shipping_no_discount,e.tax_rate=r(e,e.delivery_method).tax_rate,e.tax_amount=r(e,e.delivery_method).tax_amount,e.shipping_full_price=r(e,e.delivery_method).shipping_full_price,e.shipping_gross_discount=r(e,e.delivery_method).shipping_gross_discount,e.shipping_price_no_discount=r(e,e.delivery_method).shipping_price_no_discount}function s(){for(var e=[],t=0;t<p.shipBins.length;t++)for(var i=0;i<p.shipBins[t].projects.length;i++)for(var a=0;a<p.shipBins[t].projects[i].lineItems.length;a++){if("object"==typeof p.shipBins[t].projects[i].lineItems[a].lineItemOptions&&p.shipBins[t].projects[i].lineItems[a].lineItemOptions.length>0)for(var n=0;n<p.shipBins[t].projects[i].lineItems[a].lineItemOptions.length;n++)o(p.shipBins[t].projects[i].lineItems[a].lineItemOptions[n],t),e.push(p.shipBins[t].projects[i].lineItems[a].lineItemOptions[n]);for(l=0;l<d.length;l++)p.shipBins[t].projects[i].lineItems[a].skuId==d[l].attributes.ProductUUID&&(p.shipBins[t].projects[i].lineItems[a].attributes=d[l].attributes);o(p.shipBins[t].projects[i].lineItems[a],t),e.push(p.shipBins[t].projects[i].lineItems[a])}return e}function c(){if(/\.*Receipt$/i.test(_satellite.getVar("PageName"))){var e=[],r=s(),o=0,c=0,l=0,u=0;for(total_transaction_revenue_without_tax=0,total_transaction_discount=0,i=0;i<r.length;i++){e[i]={};var d=r[i],p=a(n(d.full_price,d.quantity)),f=a(n(d.unit_price,d.quantity)),h=a(g.multiply(f,d.quantity)),m=d.full_price,v=a(n(d.full_price_with_shipping_no_discount,d.quantity)),S={method:d.delivery_method,option:d.delivery_option},_={unit_price:a(f),unit_price_with_quantity:a(g.multiply(f,d.quantity)),full_price:a(p),product_price_no_discount:a(d.product_price_no_discount),full_price_with_shipping_no_discount:a(v)},L={net_shipping_discount:a(d.net_shipping_discount),net_product_discount:a(d.net_product_discount),gross_product_discount:a(d.product_gross_discount),gross_shipping_discount:a(d.shipping_gross_discount),net_product_discount_with_quantity:a(g.multiply(d.net_product_discount,d.quantity)),net_shipping_discount_with_quantity:a(g.multiply(d.net_shipping_discount,d.quantity)),product_gross_discount_by_quantity:a(g.multiply(d.product_gross_discount,d.quantity))},b={net_shipping:a(d.net_shipping),full_price:a(d.shipping_full_price),price_no_discount:a(d.shipping_price_no_discount)},y={tax_rate:a(d.tax_rate),tax_amount:a(d.tax_amount),net_tax:a(d.total_net_tax)},w={id:void 0!==d?t(d):"not-set",full_id:void 0!==d&&"undefined"!=typeof d.skuId?d.skuId:void 0!==d&&"undefined"!=typeof d.optionId?d.optionId:"not-set",sku:void 0!==d?t(d):"not-set",uuid:void 0!==d&&"undefined"!=typeof d.skuId?d.skuId:void 0!==d&&"undefined"!=typeof d.optionId?d.optionId:"not-set",name:"undefined"!=typeof d.attributes?d.attributes.ProductName:"",variant:"undefined"!=typeof d.attributes?d.attributes.Size:"",shipbin:d.shipbin_Id.toString(),quantity:d.quantity.toString()};e[i].product_info=w,e[i].tax=y,e[i].shipping=b,e[i].discount=L,e[i].revenue=_,e[i].delivery=S,o+=parseFloat(d.total_net_tax),c+=parseFloat(d.net_shipping),l+=parseFloat(d.shipping_full_price),total_transaction_revenue_without_tax+=parseFloat(h),u+=parseFloat(m),total_transaction_discount+=g.add(d.product_gross_discount,d.shipping_gross_discount)}return{id:_satellite.getVar("TransactionOrderID").toString(),shipping:{without_tax:a(c),with_tax:a(l)},revenue:{with_tax:a(u),without_tax:a(total_transaction_revenue_without_tax)},tax:{total:a(o)},discount:{total:a(total_transaction_discount)},total:{with_shipping_and_tax:a(g.add(u,l)),without_tax:a(g.add(total_transaction_revenue_without_tax,c)),with_tax_without_discount:a(g.add(u,l)-total_transaction_discount)},products:e}}}var u=_satellite.getVar("TransactionOrder"),d=_satellite.getVar("TransactionItems");if(1==e(u)&&1==e(d)){var p=JSON.parse(JSON.stringify(u)),g=(JSON.parse(JSON.stringify(d)),{add:function(e,t){return parseFloat(e)+parseFloat(t)},subtract:function(e,t){return parseFloat(e)-parseFloat(t)},multiply:function(e,t){return parseFloat(e)*parseInt(t)},divide:function(e,t){return parseFloat(e)-parseFloat(t)}});return Number.prototype.toFixedDown=function(e){var t=this-Math.pow(10,-e)/2;return(t+=t/Math.pow(2,53)).toFixed(e)},c()}return"No Transaction"},storeLength:"pageview"},js_ua_dev_property:{customJS:function(){function e(){switch(_satellite.getVar("SiteContext")){case"at":i="UA-35686484-14";break;case"au":i="UA-35686484-21";break;case"ch":i="UA-35686484-22";break;case"de":i="UA-35686484-11";break;case"fr":i="UA-35686484-12";break;case"ie":i="UA-35686484-23";break;case"it":i="UA-35686484-13";break;case"nz":i="UA-35686484-24";break;case"gb":case"uk":i="UA-35686484-6";break;case"us":i="UA-35686484-25"}return i}function t(){switch(_satellite.getVar("SiteContext")){case"at":i="UA-35686484-20";break;case"au":i="UA-35686484-16";break;case"ch":i="UA-35686484-15";break;case"de":i="UA-35686484-9";break;case"fr":i="UA-35686484-8";break;case"ie":i="UA-35686484-18";break;case"it":i="UA-35686484-10";break;case"nz":i="UA-35686484-17";break;case"gb":case"uk":i="UA-35686484-7";break;case"us":i="UA-2174383-2"}return i}var i="";return"undefined"!=typeof window.localStorage&&"undefined"!=typeof window.localStorage.sdsat_stagingLibrary&&"true"==window.localStorage.sdsat_stagingLibrary?e():t()},storeLength:"pageview"},Js_User_Name_Version:{customJS:function(){if(void 0!==_satellite.getVar("UserTestName")&&void 0!==_satellite.getVar("UserTestVersion")&&""!=_satellite.getVar("UserTestName")&&""!=typeof _satellite.getVar("UserTestVersion"))return _satellite.getVar("UserTestName")+":"+_satellite.getVar("UserTestVersion")},storeLength:"pageview"},k_clickidParameter:{queryParam:"k_clickid",storeLength:"pageview",ignoreCase:1},LoginState:{customJS:function(){var e="logged-out";return"undefined"!=typeof digitalData.user&&"undefined"!=typeof digitalData.user.profile&&"undefined"!=typeof digitalData.user.profile.profileInfo&&"undefined"!=typeof digitalData.user.profile.profileInfo.loginState&&digitalData.user.profile.profileInfo.loginState.match(/yes/i)&&(e="logged-in"),e},storeLength:"pageview"},MailOrderRevenue:{jsVariable:"digitalData.transaction.total.mailOrder",storeLength:"pageview"},NewRepeatCustomerValue:{jsVariable:"digitalData.user.profile.profileInfo.userPurchaseClass","default":"Unknown",storeLength:"pageview",forceLowerCase:!0},NumOfPhotosShared:{jsVariable:"window.digitalData.share.photo.numPhotosShared",storeLength:"pageview"},NumOfRecipients:{
jsVariable:"window.digitalData.share.photo.numRecipients",storeLength:"pageview"},pageCampaignName:{customJS:function(){function e(e,t,i){for(var a=0;a<e.length;a++){var n=e[a];if(_satellite.getQueryParam(n)){var r=_satellite.getQueryParam(n);t.push(n),i[n]=r}}}var t=[],i={},a="";if(e(["cid_co","cid_ch","cid_ca"],t,i),localStorage.getItem("visitorAddedItems")&&_satellite.getQueryParam("cid")&&_satellite.getQueryParam("cid").match(/\|(aff|aff[a-zA-Z]+)\|/)||localStorage.getItem("visitorAddedItems")&&_satellite.getQueryParam("cid_ch")&&_satellite.getQueryParam("cid_ch").match(/^aff/))a=_satellite.readCookie("s_v20")?_satellite.readCookie("s_v20"):"";else if(3==t.length){var n=["cid_me","cid_so","cid_te","cid_su","cid_au","cid_da","cid_pr","cid_psc","cid_psa"];for(var r in e(n,t,i),i)a+=r+"="+i[r]+".";a=a.slice(0,-1)}else if(void 0!==(a=_satellite.getVar("cidParameter")))if(""!=a&&8==a.split("-").length)a=a.replace(/\-/g,"|");else if(""==a&&document.location.hostname.match(/promo\./i))for(var o=document.location.pathname.split("/"),s=0;s<o.length;s++){if(8==o[s].split("-").length){a=o[s].split("-").join("|");break}8==o[s].split("|").length&&(a=o[s])}return a},storeLength:"pageview"},PageFullURL:{customJS:function(){return window.location.hostname+window.location.pathname},storeLength:"pageview"},PageName:{jsVariable:"window.digitalData.page.pageInfo.pageName","default":"Unknown",storeLength:"pageview"},"Page Name":{jsVariable:"window.digitalData.page.pageInfo.pageName","default":"Unknown",storeLength:"pageview"},PagePath:{jsVariable:"window.location.pathname",storeLength:"pageview"},pagePreviousPageName:{cookie:"previousPageName",storeLength:"pageview"},PageType:{customJS:function(){return document.location.pathname.match(/.*cart\/shoppingcart$|.*cart\/cartandcheckout$/i)?"cart":document.location.pathname.match(/.*empty\-shopping\-cart$/i)?"emptycart":""!=_satellite.getVar("ProductID")?"product":document.location.pathname.match(/.*Receipt$/i)?"order-confirmation":document.location.pathname.match(/.*cart\/billing.*/i)?"checkout":document.location.pathname.match(/.*\/home.*/i)?"home":""},storeLength:"pageview"},"Page URL":{jsVariable:"window.digitalData.page.pageInfo.destinationURL","default":"Unknown",storeLength:"pageview"},param_pCat:{queryParam:"pCat",storeLength:"pageview",ignoreCase:1},PaymentMethod:{jsVariable:"digitalData.order.orderPlaceData.paymentMethod",storeLength:"pageview",forceLowerCase:!0},"Payment Method ":{jsVariable:"window.digitalData.transaction.payment.type","default":"Unknown",storeLength:"pageview"},ProdPageProductID:{jsVariable:"digitalData.product[0].productInfo.sku",storeLength:"pageview"},Product:{jsVariable:"digitalData.product",storeLength:"pageview"},ProductCat:{customJS:function(){try{return digitalData.product[0].category.primaryCategory}catch(e){return""}},storeLength:"pageview"},ProductDiscount:{jsVariable:"digitalData.transaction.total.productDiscountLC",storeLength:"pageview"},ProductDiscountTotal:{jsVariable:"digitalData.transaction.total.productDiscountLC",storeLength:"pageview"},ProductID:{customJS:function(){try{return digitalData.product[0].productInfo.sku||""}catch(e){return""}},storeLength:"pageview"},ProductPrice:{customJS:function(){try{return digitalData.product[0].productInfo.price.preTaxPrice}catch(e){return""}},storeLength:"pageview"},RandomNumber:{customJS:function(){return 1e17*Math.random()},storeLength:"pageview"},"Registration Type":{jsVariable:"window.digitalData.user.profile.profileInfo.regType","default":"Unknown",storeLength:"pageview"},"Retail Name":{jsVariable:"window.digitalData.transaction.total.digital","default":"0",storeLength:"pageview"},RetailPickUpRevenue:{jsVariable:"digitalData.transaction.total.retailPickUp",storeLength:"pageview"},"Retail Pick Up Revenue":{jsVariable:"window.digitalData.transaction.total.retailPickUp","default":"0",storeLength:"pageview"},"Retail Ship To Revenue":{jsVariable:"window.digitalData.transaction.total.retailShipTo","default":"0",storeLength:"pageview"},"Returning User":{jsVariable:"window.digitalData.user.profile.profileInfo.returnUser","default":"Unknown",storeLength:"pageview"},RSID:{customJS:function(){switch(_satellite.getVar("SiteEnvironmentFull")){case"prod":switch(_satellite.getVar("SiteCountry")){case"au":return"hpsnapfishsf2auprod";case"at":return"hpsnapfishsf2atprod";case"ca":return"hpsnapfishsf2caprod";case"ch":return"hpsnapfishsf2chprod";case"de":return"hpsnapfishsf2deprod";case"us":return"hpsnapfishsf2usprod";case"nz":return"hpsnapfishsf2nzprod";case"ie":return"hpsnapfishsf2ieprod";case"uk":case"gb":return"hpsnapfishsf2ukprod";case"fr":return"hpsnapfishsf2frprod";case"it":return"hpsnapfishsf2itprod";case"au":return"hpsnapfishsf2auprod"}break;case"dev":switch(_satellite.getVar("SiteCountry")){case"au":return"hpsnapfishsf2austaging";case"at":return"hpsnapfishsf2atstaging";case"ca":return"hpsnapfishsf2castaging";case"ch":return"hpsnapfishsf2chstaging";case"de":return"hpsnapfishsf2destaging";case"us":return"hpsnapfishsf2usstaging";case"nz":return"hpsnapfishsf2nzstaging";case"ie":return"hpsnapfishsf2iestaging";case"uk":case"gb":return"hpsnapfishsf2ukstaging";case"fr":return"hpsnapfishsf2frstaging";case"it":return"hpsnapfishsf2itstaging";case"au":return"hpsnapfishsf2austaging"}break;default:return"hpsnapfishsf2usstaging"}},storeLength:"pageview"},"Sales Tax":{jsVariable:"window.digitalData.transaction.total.taxAmount","default":"0",storeLength:"pageview"},"S_code version":{jsVariable:"window.digitalData.page.attributes.codeVersion","default":"Unknown",storeLength:"pageview"},SearchKeyword:{customJS:function(){var e=window.digitalData.search.length-1;return digitalData.search[e].keyword},storeLength:"pageview"},SearchResults:{customJS:function(){var e=window.digitalData.search.length-1;return digitalData.search[e].results},storeLength:"pageview"},ShippingDiscount:{jsVariable:"digitalData.transaction.total.shippingDiscountLC",storeLength:"pageview"},ShippingMethod:{jsVariable:"digitalData.transaction.total.shippingMethod",storeLength:"pageview"},"Shipping Revenue":{jsVariable:"window.digitalData.transaction.total.shipping","default":"0",storeLength:"pageview"},shiptoRetailler:{jsVariable:"digitalData.order.shipBins[0].retailer",storeLength:"pageview"},ShipToStoreRevenue:{jsVariable:"digitalData.transaction.total.retailShipTo",storeLength:"pageview"},SiteContext:{jsVariable:"window.digitalData.page.pageInfo.siteContext",storeLength:"pageview"},SiteCountry:{customJS:function(){return void 0!==_satellite.getVar("SiteContext")&&""!=_satellite.getVar("SiteContext")&&_satellite.getVar("SiteContext").match(/gb|uk|ie|fr|de|it|at|ch|us|ca|au|nz/i)?_satellite.getVar("SiteContext"):document.location.hostname.match(/snapfish\.co\.uk/i)?"gb":document.location.hostname.match(/snapfish\.ie/i)?"ie":document.location.hostname.match(/snapfish\.fr/i)?"fr":document.location.hostname.match(/snapfish\.de/i)?"de":document.location.hostname.match(/snapfish\.it/i)?"it":document.location.hostname.match(/snapfish\.at/i)?"at":document.location.hostname.match(/snapfish\.ch/i)?"ch":document.location.hostname.match(/snapfish\.ca/i)?"ca":document.location.hostname.match(/snapfish\.com\.au/i)?"au":document.location.hostname.match(/snapfish\.com/i)?"us":document.location.hostname.match(/snapfish\.co\.nz/i)?"nz":"us"},storeLength:"pageview"},SiteEnvironment:{jsVariable:"digitalData.page.pageInfo.environment",storeLength:"pageview"},SiteEnvironmentFull:{customJS:function(){return void 0!==_satellite.getVar("SiteEnvironment")&&_satellite.getVar("SiteEnvironment").match(/prod/i)?"prod":void 0!==_satellite.getVar("SiteEnvironment")&&_satellite.getVar("SiteEnvironment").match(/dev|stag|qa/i)?"dev":document.location.hostname.match(/dev|stag|qa/i)?"dev":document.location.hostname.match(/\.snapfish\./i)?"prod":"dev"},storeLength:"pageview"},"Site Section":{jsVariable:"window.digitalData.page.category.primaryCategory","default":"Unknown",storeLength:"pageview"},SociomanticProductCategory:{customJS:function(){if(/^\/2\/photo\-printing\/?$/i.test(window.document.location.pathname))return"Prints";if(/^\/2\/photo\-books\/?$/i.test(window.document.location.pathname))return"Books";if(/^\/2\/wall\-art\/?$/i.test(window.document.location.pathname))return"Wall Art";if(/^\/2\/photo\-gifts\/?$/i.test(window.document.location.pathname))return"Gifts";if(/^\/2\/photo\-gifts\/photo\-mugs\/?$/i.test(window.document.location.pathname))return"Mugs";if(/^\/2\/photo\-gifts\/custom\-cases\-covers\/?$/i.test(window.document.location.pathname))return"Phone Cases";if(/^\/2\/photo\-calendars\/?$/i.test(window.document.location.pathname))return"Calendars";if(/^\/2\/personalised\-cards\/?$/i.test(window.document.location.pathname))return"Cards";if(/^\/2\/browsestyle\/?$/i.test(window.document.location.pathname))switch(_satellite.getVar("param_pCat")){case"christmas_cards_10859_1455729250_snapfish_uk":return"Christmas Cards";case"baby_kids_1989_snapfish_uk":return"Baby & Kids Cards";case"birthday_cards_1989_snapfish_uk":return"Birthday Cards";case"wedding_1989_snapfish_uk":return"Wedding Cards";case"holidays_occasions_1989_snapfish_uk":return"Occasions Cards";case"invitations_1989_snapfish_uk":return"Invitations & Announcements Cards";case"stationery_1989_snapfish_uk":return"Thank You Cards";case"greeting_cards_1989_snapfish_uk":return"Greeting Cards";case"create_your_own_1989_1457014843_snapfish_uk":return"Create Your Own Cards"}},storeLength:"pageview"},TDProducts:{customJS:function(){for(var e=[],t=window.digitalData.transaction.item,i=0;i<t.length;i++)e.push("f1="+window.digitalData.transaction.item[i].productInfo.sku+"&f2=&f3="+window.digitalData.transaction.item[i].price.preTaxPrice+"&f4="+window.digitalData.transaction.item[i].productInfo.quantity);return encodeURIComponent(e.join("|"))},storeLength:"pageview"},TotalCartUnits:{customJS:function(){for(var e=digitalData.cart.item,t=0,i=0;i<e.length;i++)t+=e[i].productInfo.quantity;return console.log("qty:"+t),t},storeLength:"pageview"},TotalOrderPrice:{jsVariable:"window.digitalData.transaction.price.transaction.total","default":"0",storeLength:"pageview"},TotalOrderUnits:{customJS:function(){for(var e=0,t=window.digitalData.transaction.item,i=0;i<t.length;i++)e+=parseInt(window.digitalData.transaction.item[i].productInfo.quantity);return e},storeLength:"pageview"},TranasactionOrderValueBeforeTax:{customJS:function(){if(digitalData&&digitalData.transaction&&digitalData.transaction.total&&digitalData.transaction.total.preTaxPrice)return digitalData.transaction.total.preTaxPrice<0?"0":digitalData.transaction.total.preTaxPrice},storeLength:"pageview"},TranasactionOrderValueBeforeTaxShipping:{customJS:function(){var e=digitalData.transaction.total.preTaxPrice-digitalData.transaction.price.transaction.shipping;return e<0?"0.00":e.toFixed(2)},storeLength:"pageview"},Transaction:{jsVariable:"digitalData.transaction",storeLength:"pageview"},"Transaction Currency":{jsVariable:"window.digitalData.transaction.total.currency",storeLength:"pageview"},TransactionID:{jsVariable:"window.digitalData.transaction.order_id",storeLength:"pageview"},TransactionItems:{jsVariable:"digitalData.transaction.item",storeLength:"pageview"},TransactionOrder:{jsVariable:"window.digitalData.order",storeLength:"pageview"},TransactionOrderID:{jsVariable:"digitalData.order._id",storeLength:"pageview"},TransactionProductsCategoryArray:{customJS:function(){return"not-available"},storeLength:"pageview"},TransactionProductSKUs:{customJS:function(){for(var e=[],t=window.digitalData.transaction.item,i=0;i<t.length;i++)e.push(window.digitalData.transaction.item[i].productInfo.sku);return e.join()},storeLength:"pageview"},"Transaction Product SKUs (Comma Separated List)":{customJS:function(){for(var e=[],t=window.digitalData.transaction.item,i=0;i<t.length;i++)e.push(window.digitalData.transaction.item[i].productInfo.sku);return e.join()},storeLength:"pageview"},TransactionShippingMethod:{jsVariable:"window.digitalData.transaction.total.shippingMethod",storeLength:"pageview"},UserEmailAddress:{jsVariable:"digitalData.user.profile.profileInfo.emailAddress",storeLength:"pageview",forceLowerCase:!0},UserID:{customJS:function(){var e=_satellite.getVar("UserIDRaw").split("-");return e[e.length-1]},storeLength:"pageview",forceLowerCase:!0},UserIDRaw:{jsVariable:"window.digitalData.user.profile.profileInfo.userAccount",storeLength:"pageview",forceLowerCase:!0},"User Purchase Class":{jsVariable:"window.digitalData.user.profile.profileInfo.userPurchaseClass",storeLength:"pageview"},UserStatus:{jsVariable:"digitalData.user.profile.profileInfo.userStatus",storeLength:"pageview"},UserTestName:{jsVariable:"digitalData.user.profile.profileInfo.testName",storeLength:"pageview"},UserTestVersion:{jsVariable:"digitalData.user.profile.profileInfo.testVersion",storeLength:"pageview"},UserType:{jsVariable:"window.digitalData.user.profile.profileInfo.userType",storeLength:"pageview"},"User Type":{jsVariable:"window.digitalData.user.profile.profileInfo.userType","default":"Unknown",storeLength:"pageview"},VoucherCode:{jsVariable:"window.digitalData.transaction.total.voucherCode",storeLength:"pageview"},VoucherDiscount:{jsVariable:"digitalData.transaction.total.voucherDiscount",storeLength:"pageview"},YieldifyId:{customJS:function(){switch(_satellite.getVar("SiteContext")){case"ie":return"3218";case"uk":case"gb":return"2775";default:return""}},storeLength:"pageview"},ZanoxID:{customJS:function(){return"it"==_satellite.getVar("SiteContext")&&((void 0===_satellite.getVar("PageName")||!_satellite.getVar("PageName").match(/\:home$/i))&&("undefined"!=typeof digitalData.product&&_satellite.getVar("PageName").match(/\:category\:/i)?"1DBDC28B5D6ACAAE5F15":"undefined"!=typeof digitalData.product&&digitalData.product.length>0?"1AF1F3332CC9DC28D990":"undefined"!=typeof digitalData.page.pageInfo.destinationURL&&digitalData.page.pageInfo.destinationURL.match(/shoppingcart$/i)?"66552ACF0EB25965042D":"undefined"!=typeof digitalData.page.pageInfo.destinationURL&&digitalData.page.pageInfo.destinationURL.match(/receipt$/i)?"false":"4B1FDD405A55226DBEAF"))},storeLength:"pageview"}},appVersion:"7QN",buildDate:"2019-08-07 09:18:48 UTC",publishDate:"2019-08-07 09:18:46 UTC"})}(window,document);
var allowedPatterns={p1:/^[a-zA-Z0-9-'",_. ]+$/g,p2:/^[a-zA-Z0-9]+$/g,p3:/^[a-zA-Z0-9-'",_.?:/&= ]+$/g,p4:/^[a-zA-Z0-9-'",_.?:/&=|#!{} ]+$/g};function allowedPatternValidation(a,b){try{return b.match(allowedPatterns[a])?!0:!1}catch(c){}}var initialized=!1,cdnHost;"undefined"!=typeof ns("cms")&&"undefined"!=typeof ns("cms").cdn&&(cdnHost=ns("cms").cdn);if("undefined"!=typeof ns("cms")&&"undefined"!=typeof ns("cms").locale)var siteLocale=ns("cms").locale;var langSite=siteLocale.substring(0,2);
function getCookieVal(a){return 0<document.cookie.length&&(begin=document.cookie.lastIndexOf(a+"\x3d"),-1!=begin)?(begin+=a.length+1,end=document.cookie.indexOf(";",begin),-1==end&&(end=document.cookie.length),encodeURIComponent(unescape(document.cookie.substring(begin,end)))):null}$(document).foundation();
$(window).load(function(){if("store"!=ns("cms").service&&"create"!=ns("cms").service&&"cart"!=ns("cms").service){var a=encodeURIComponent(unescape(document.cookie.split(";"))),b=[];try{var c=ns("cms").pageBeginTimer,d=ns("cms").pageBodyTimer,e=ns("cms").pageEndTimer,g=d-c,f=ns("cms").pageHeaderTimer-c,h=e-c;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,
configurable:!1,writable:!1,value:function(a,b){b=b||0;return this.indexOf(a,b)===b}});for(ii=0;ii<a.length;ii++){k=a[ii].split("\x3d");var l=k[0].trim();l.startsWith("bip")&&b.push(k[1])}var b=b.join(";"),n=(new Date).toTimeString().split(" ")[1],b=b+"\x26tmz\x3d"+n}catch(r){}-1!=document.location.href.indexOf("library")?setTimeout(function(){BOOMR.init({beacon_url:("https:"==document.location.protocol?"https://":"http://")+"store.snapfish.com/resources/images/dots.gif?device\x3d"+store.deviceType+
"\x26bip\x3d"+b+"\x26bodyOpen\x3d"+g+"\x26bodyClose\x3d"+h+"\x26headerClose\x3d"+f+"\x26context\x3d"+ns("cms").context+"\x26cdcr\x3d"+store.isCrossDCSession+"\x26ls\x3d"+store.isUserLoggedIn,log:null,beacon_type:"GET",ResourceTiming:{enabled:!1}})},2E3):BOOMR.init({beacon_url:("https:"==document.location.protocol?"https://":"http://")+"store.snapfish.com/resources/images/dots.gif?device\x3d"+store.deviceType+"\x26bip\x3d"+b+"\x26bodyOpen\x3d"+g+"\x26bodyClose\x3d"+h+"\x26headerClose\x3d"+f+"\x26context\x3d"+
ns("cms").context+"\x26cdcr\x3d"+store.isCrossDCSession+"\x26ls\x3d"+store.isUserLoggedIn,log:null,beacon_type:"GET",ResourceTiming:{enabled:!1}})}else if("store"==ns("cms").service){a=encodeURIComponent(unescape(document.cookie.split(";")));b=[];try{var c=ns("cms").pageBeginTimer,d=ns("cms").pageBodyTimer,e=ns("cms").pageEndTimer,g=d-c,f=ns("cms").pageHeaderTimer-c,h=e-c,m=ns("cms").noodle,p="";for(l in ns("cms").componentMap)p=p.concat("\x26",l,"\x3d",ns("cms").componentMap[l]);String.prototype.trim||
(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(a,b){b=b||0;return this.indexOf(a,b)===b}});for(ii=0;ii<a.length;ii++)k=a[ii].split("\x3d"),l=k[0].trim(),l.startsWith("bip")&&b.push(k[1]);b=b.join(";");n=(new Date).toTimeString().split(" ")[1];b=b+"\x26tmz\x3d"+n}catch(r){}BOOMR.init({beacon_url:("https:"==document.location.protocol?"https://":
"http://")+ns("cms").siteHost+ns("cms").storeBasePath+"/resources/images/dots.gif?device\x3d"+store.deviceType+"\x26bip\x3d"+b+"\x26bodyOpen\x3d"+g+"\x26bodyClose\x3d"+h+"\x26headerClose\x3d"+f+"\x26noodle\x3d"+m+p+"\x26context\x3d"+ns("cms").context+"\x26cdcr\x3d"+store.isCrossDCSession+"\x26ls\x3d"+store.isUserLoggedIn,log:null,beacon_type:"GET",ResourceTiming:{enabled:!1}})}});
function setImageHeight(a,b,c){var d=$(a).width();".product-thumbnails \x3e li"==a&&($(".product-thumbnails \x3e li").length||(d=$(".product-thumbnails").width()));0==d&&(d=$(".pdp-main").width());""!=b?($(a).height(d),$(b).height(d),$(b).width(d)):$(a).height(d);$(c).css("max-width",d);$(c).css("max-height",d)}
$(window).load(function(){setImageHeight("#product-height","#product-height \x3e .active","#product-height \x3e .active \x3e img");setImageHeight(".product-thumbnails \x3e li",".product-thumbnails \x3e li a",".product-thumbnails \x3e li \x3e a \x3e img");setImageHeight(".product-thumbnails-med \x3e li",".product-thumbnails-med \x3e li a",".product-thumbnails-med \x3e li \x3e a \x3e img");setImageHeight(".product-thumbnails \x3e li",".product-thumbnails \x3e li a",".product-thumbnails \x3e li \x3e a \x3e div.mug-thumb \x3e img");
setImageHeight(".product-thumbnails-med \x3e li",".product-thumbnails-med \x3e li a",".product-thumbnails-med \x3e li \x3e a \x3e div.mug-thumb \x3e img");$(".two-tile-video-js-1").css("height",$("#"+$("#two-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+"px");$(".two-tile-video-js-2").css("height",$("#"+$("#two-tile-video-container-2").children().attr("id")).parent().parent().siblings().children().height()+"px");$("#owlPdp .owl-item").css("line-height",$("#product-height").height()+
"px");$(".three-tile-video-js-1").css("height",$("#"+$("#three-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+"px");$(".three-tile-video-js-2").css("height",$("#"+$("#three-tile-video-container-2").children().attr("id")).parent().parent().siblings().height()+"px");$(".two-tile-video-js-1").css("height",$("#"+$("#two-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+"px");$(".two-tile-video-js-2").css("height",$("#"+$("#two-tile-video-container-2").children().attr("id")).parent().parent().siblings().children().height()+
"px");$(window).on("orientationchange resize",function(){setTimeout(function(){$(".three-tile-video-js-1").css("height",$("#"+$("#three-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+"px");$(".three-tile-video-js-2").css("height",$("#"+$("#three-tile-video-container-2").children().attr("id")).parent().parent().siblings().height()+"px");$(".two-tile-video-js-1").css("height",$("#"+$("#two-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+
"px");$(".two-tile-video-js-2").css("height",$("#"+$("#two-tile-video-container-2").children().attr("id")).parent().parent().siblings().children().height()+"px")},1E3)})});var iMemTimerId;
$(document).ready(function(){function a(){$(".cms.tacoverlay .overlay-flow")&&$(".cms.tacoverlay .overlay-flow").css("max-height",$(window).height()-100)}function b(a){a[0].click()}if(!initialized){initialized=!0;"undefined"!=typeof ns("cms")&&"undefined"!=typeof ns("cms").service&&"store"!=ns("cms").service&&"cart"!=ns("cms").service&&(loadFavicon=function(a){a=$("\x3clink rel\x3d'shortcut icon' type\x3d'image/x-icon' href\x3d'"+cdnHost+a+"'\x3e");$("head").append(a)},"undefined"!=typeof cobrandFavicon&&
""!=cobrandFavicon?loadFavicon(cobrandFavicon):"undefined"!=typeof Favicon&&""!=Favicon&&loadFavicon(Favicon));isDefinedObj(ns("cms"))&&isNotEmptyStr(ns("cms").service)&&"store"===ns("cms").service&&-1==window.location.href.indexOf("/cart/")&&pushMonetateData({setPageType:ns("cms").monetatePageType});$(".three-tile-video-js-1").css("height",$("#"+$("#three-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+"px");$(".three-tile-video-js-2").css("height",$("#"+$("#three-tile-video-container-2").children().attr("id")).parent().parent().siblings().height()+
"px");$(".two-tile-video-js-1").css("height",$("#"+$("#two-tile-video-container-1").children().attr("id")).parent().parent().siblings().height()+"px");$(".two-tile-video-js-2").css("height",$("#"+$("#two-tile-video-container-2").children().attr("id")).parent().parent().siblings().children().height()+"px");$(".cms .four-tile-lockup .tile-l4-v1.hide").remove();$(".product-tiles.owl-carousel .hide").remove();"https:"==document.location.protocol&&"new.snapfish.com"==document.location.hostname&&$("head").append('\x3clink rel\x3d"dns-prefetch" href\x3d"//store1.snapfish.com"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//store2.snapfish.com"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//store3.snapfish.com"\x3e\x3clink rel\x3d"dns-prefetch" href\x3d"//store4.snapfish.com"\x3e');
$(".social-container .prettySocial")[0]&&appendJSDynamic(cdnHost+"/resources/js/widgets/social-plugins/prettySocial-master/jquery.prettySocial.js","defer");if("undefined"!=typeof ns("cms").foreseeSurveyEnabled&&"true"==ns("cms").foreseeSurveyEnabled&&"/oauth2/auth"!=location.pathname&&"undefined"!=typeof getCookieVal&&"false"!=getCookieVal("disableForseePopup")){var c;"undefined"!=typeof ns("cms").storeEnv&&(c="production"==ns("cms").storeEnv||"pre-prod"==ns("cms").storeEnv?"//gateway.answerscloud.com/snapfish/production/gateway.min.js":
"//gateway.answerscloud.com/snapfish/staging/gateway.min.js");(function(a){var b=document,d,e=b.createElement("script"),b=b.head||b.getElementsByTagName("head")[0],g={src:c,type:"text/javascript",async:"true","data-vendor":"acs","data-role":"gateway"},f;for(f in g)e.setAttribute(f,g[f]);b.appendChild(e);a.acsReady=function(){var b=Array.prototype.slice.call(arguments,0),c=setInterval(function(){if("function"===typeof a.__acsReady__)for(clearInterval(c),d=0;d<b.length;d++)a.__acsReady__.call(a,function(a){return function(){setTimeout(a,
1)}}(b[d]))},50)}})(window)}"undefined"!=typeof ns("cms").persistUserSessionOnCrossDomains&&"true"==ns("cms").persistUserSessionOnCrossDomains&&$(".countrylistDropDown .country a").click(function(a){a.preventDefault();a=$(this).attr("href");var b;"undefined"!=typeof getCookieVal&&(b=getCookieVal("GSID"));if("undefined"!=typeof b||""==b.trim()||"null"==b)b=store.gsid;$("body").append("\x3cform id\x3d'countryForm' method\x3d'POST' action\x3d''\x3e\x3cinput type\x3d'hidden' id\x3d'countryFormGSID' name\x3d'GSID' value\x3d'' /\x3e\x3cinput type\x3d'hidden' name\x3d'countryChanged' value\x3d'true' /\x3e \x3c/form\x3e");
$("#countryForm").attr("action",a);$("#countryForm #countryFormGSID").attr("value",b);$("#countryForm").submit()});"undefined"!=typeof store&&"undefined"!=typeof store.isCsrUser&&"true"==store.isCsrUser&&$(".hideCsrCountryDropDown").hide();a();$(window).resize(function(){a()});var d="";$(".tool-tip").children("img").on("click",function(){""!=d&&d==$(this).attr("id")&&"block"==$(this).next().css("display")?$(this).next().hide():($(".tool-tip-content").hide(),$(this).next().show());d=$(this).attr("id")});
$("html").click(function(a){"image-tooltip"!=a.target.id&&0==$(a.target).parents("#image-tooltip").length&&"block"==$(".tool-tip-content").css("display")&&a.stopPropagation()});$(document).bind("click touch",function(a){$(a.target).parents().addBack().is($(".tool-tip").children("img"))||$(".tool-tip-content").hide()});document.getElementById("feedbackForm")&&(document.getElementById("feedbackForm").action="javascript:void(0);");var e=!0,g=null;$(".omnituretrackthis").css("cursor","pointer").unbind("click").on("click",
function(a){try{if(g=$(this),e){a.preventDefault();if("undefined"!=typeof linkClickTracking)linkClickTracking($(this).attr("omniture-data-id").toUpperCase());else{var c=$(this).attr("omniture-data-id").toUpperCase();"undefined"!=typeof digitalData&&("undefined"!=typeof digitalData.link?digitalData.link.linkName=c:digitalData.link={linkName:c})}!$(g).attr("data-dropdown")&&isNotEmptyStr($(g).attr("href"))&&-1==$(g).attr("href").indexOf("void(0)")&&"#"!=$(g).attr("href")&&(e=!1,setTimeout(b,300,g))}else e=
!0}catch(t){statusLogger.error().type("app.js").key("Omnituretracking").action("omniture id not exists").state("fail").cause("error-occured").addParameter(t).not_ok()}});var f=document.getElementById("page_refreshed");f&&"no"==f.value?f.value="yes":f&&(f.value="no");$("div").hasClass("ls-canvas")&&($(".ls-canvas").removeClass("header-off-canvas off-canvas-wrap"),$(".ls-canvas").closest("html").addClass("header-off-canvas off-canvas-wrap cms-offcanvas"),/iPhone|iPad|iPod/i.test(navigator.userAgent)?
$(".ls-canvas").closest("html").addClass("header-off-canvas off-canvas-wrap cms-offcanvas ios-offcanvas"):$(".ls-canvas").closest("html").addClass("header-off-canvas off-canvas-wrap cms-offcanvas"),$(".cms-v2 .header-container a").hasClass("left-off-canvas-toggle")&&$(".ls-canvas").closest("body").addClass("inner-wrap"));$("a.exit-off-canvas").bind("touchmove",function(a){a.preventDefault();$(".cms-offcanvas").hasClass("move-right")&&$(".cms-offcanvas").removeClass("move-right")});$(".left-off-canvas-menu").bind("touchmove",
function(a){$(a.target).closest(".offcanvas-links").length||a.preventDefault()});$(window).on("orientationchange",function(a){if(1023<window.innerWidth)$(".cms-offcanvas").hasClass("move-right")&&$(".cms-offcanvas").removeClass("move-right");else{switch(window.orientation){case -90:case 90:$("#carousal-overlay").foundation("reveal","close"),$("#videoModal").foundation("reveal","close")}$("#userDropDown").css("left","-99999px");$("#countrylistDropDown").css("left","-99999px");$("#userDropDown").hasClass("open")&&
$("#userDropDown").removeClass("open");$("#countrylistDropDown").hasClass("open")&&$("#countrylistDropDown").removeClass("open")}});if("undefined"!=typeof store&&"undefined"!=typeof store.isUserLoggedIn){var h=(new Date).getTime(),f=ns("cms").isUserDetailsResourceOn;"true"==store.isUserLoggedIn||"undefined"!=typeof store.isGuestCheckoutEnabled&&"true"==store.isGuestCheckoutEnabled?"undefined"!=typeof service&&"library"==service?setTimeout(function(){"undefined"!=ns("cms").isHttponlyCookieEnabled&&
"true"==ns("cms").isHttponlyCookieEnabled?populateHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/userdetails?cb\x3d"+h):populateHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/userdetails?GSID\x3d"+getCookieVal("GSID")+"\x26cb\x3d"+h)},2E3):"undefined"!=typeof service&&"create"==service?"undefined"!=ns("cms").isHttponlyCookieEnabled&&"true"==ns("cms").isHttponlyCookieEnabled?"true"==f?populateHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+
"/api/v1/userdetails?cb\x3d"+h):(setHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/user-info?cb\x3d"+h,"firstName"),setHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/cart-count?cb\x3d"+h,"cartCount")):"true"==f?populateHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/userdetails?GSID\x3d"+getCookieVal("GSID")+"\x26cb\x3d"+h):(setHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/user-info?GSID\x3d"+getCookieVal("GSID")+
"\x26cb\x3d"+h,"firstName"),setHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/cart-count?GSID\x3d"+getCookieVal("GSID")+"\x26cb\x3d"+h,"cartCount")):"undefined"!=ns("cms").isHttponlyCookieEnabled&&"true"==ns("cms").isHttponlyCookieEnabled?populateHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/userdetails?cb\x3d"+h):populateHeaderInfoData("//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/userdetails?GSID\x3d"+getCookieVal("GSID")+"\x26cb\x3d"+h):
$("#carousel-page").removeClass("hide")}$("#globalHeaderSignInRegister").unbind();$("#globalHeaderSignInRegister").on("click",function(){redirectURL("loginto")});$("#deviceHeaderSignInRegister").on("click",function(){redirectURL("loginto")});if($("#globalHeaderMyProjects")){var l=ns("cms").libraryProjectsHost;$("#globalHeaderMyProjects").attr("href","javascript:void(0);");$("#globalHeaderMyProjects").click(function(){checkLoggedInAndOpen(l+"?website\x3d"+ns("cms").website+"\x26cobrand\x3d"+ns("cms").cobrand+
"\x26locale\x3d"+ns("cms").locale)})}$("#deviceHeaderMyProjects")&&($("#deviceHeaderMyProjects").attr("href","javascript:void(0);"),l=ns("cms").libraryProjectsHost,$("#deviceHeaderMyProjects").click(function(){checkLoggedInAndOpen(l+"?website\x3d"+ns("cms").website+"\x26cobrand\x3d"+ns("cms").cobrand+"\x26locale\x3d"+ns("cms").locale)}));if($("#globalHeaderMyPhotos")){var n=ns("cms").libraryPhotosHost;$("#globalHeaderMyPhotos").attr("href","javascript:void(0);");$("#globalHeaderMyPhotos").click(function(){checkLoggedInAndOpen(n+
"?website\x3d"+ns("cms").website+"\x26cobrand\x3d"+ns("cms").cobrand+"\x26locale\x3d"+ns("cms").locale)})}$("#deviceHeaderMyPhotos")&&(n=ns("cms").libraryPhotosHost,$("#deviceHeaderMyPhotos").removeAttr("href"),$("#deviceHeaderMyPhotos").click(function(){checkLoggedInAndOpen(n+"?website\x3d"+ns("cms").website+"\x26cobrand\x3d"+ns("cms").cobrand+"\x26locale\x3d"+ns("cms").locale)}));$("#myPhotosBtn")&&(f=ns("cms").libraryPhotosHost,$("#myPhotosBtn").attr("href",f+"?website\x3d"+ns("cms").website+"\x26cobrand\x3d"+
ns("cms").cobrand+"\x26locale\x3d"+ns("cms").locale));$("#myProjectsBtn")&&(f=ns("cms").libraryProjectsHost,$("#myProjectsBtn").attr("href",f+"?website\x3d"+ns("cms").website+"\x26cobrand\x3d"+ns("cms").cobrand+"\x26locale\x3d"+ns("cms").locale));$("#globalHeaderHelp, #deviceHeaderHelp, #globalFooterHelp").on("click",function(){$("#zendeskOffMessage")&&$("#zendeskOffMessage").foundation("reveal","open")});$("#deviceHeaderBackLink").on("click",function(){window.history.go(-1)});if(null!=document.getElementById("libraryAddPhotos")){f=
document.getElementById("libraryAddPhotos").cloneNode(!0);f.id="cloneLibAddPhotos";var m=document.createElement("div");m.setAttribute("class","cms-v2");m.appendChild(f);document.body.appendChild(m)}f=window.location.href.slice(window.location.href.indexOf("?")+1).split("\x26");for(m=0;m<f.length;m++){var p=f[m].split("\x3d");if("libAction"==p[0]){f=decodeURIComponent(p[1].toLowerCase());-1!=f.indexOf("#")&&(f=f.split("#")[0]);"undefined"!=store.library&&(store.library.addPhotos.open_upload_layer_on_pageLoading(f),
console.log("triggered open_upload_layer_on_pageLoading from sf app.js, from on loading the page "));break}}"undefined"!=typeof monetateSrc&&""!=monetateSrc&&appendJSDynamic(monetateSrc,"async");"undefined"!=typeof feedbackv2Src&&""!=feedbackv2Src&&appendJSDynamic(feedbackv2Src,"async");"undefined"!=typeof showsmartbanner&&"true"==showsmartbanner&&navigator.userAgent.match(/Android/i)&&(appendJSDynamic(sb.JS,"defer"),appendCSSDynamic(sb.CSS));"undefined"!=typeof formvalidationSrc&&""!=formvalidationSrc&&
appendJSDynamic(formvalidationSrc,"async");$(".store-locator-link").on("click",function(){$("body.inner-wrap").addClass("overite-overflow")});$("#desktop-banner a").attr("tabindex",1)}});
$(function(){setImageHeight("#product-height","#product-height \x3e .active","#product-height \x3e .active \x3e img");setImageHeight(".product-thumbnails \x3e li",".product-thumbnails \x3e li a",".product-thumbnails \x3e li \x3e a \x3e img");setImageHeight(".product-thumbnails-med \x3e li",".product-thumbnails-med \x3e li a",".product-thumbnails-med \x3e li \x3e a \x3e img");$("#owlPdp .owl-item").css("line-height",$("#product-height").height()+"px");$("#product-height .orbit-container").css("overflow",
"hidden");$("#product-height .orbit-container").height($("#product-height").width());$("#product-height .orbit-container").height($("#product-height").width());$("#header-offcanvas-menu").hasClass("main-offcanvas")&&$("body").addClass("f-topbar-fixed")});var tile4Width=$(".tile-4").width(),tile4Height=450/690*tile4Width,tile4Height=tile4Height.toFixed();$(".tile-4 \x3e .variation-1").height(tile4Height);$(".tile-4 \x3e .variation-2").height(tile4Height);$(".tile-4 \x3e .variation-1").width(tile4Width);
$(".tile-4 \x3e .variation-2").width(tile4Width);
$(window).resize(function(){var a=$(".tile-4").width(),b;b=(450/690*a).toFixed();$(".tile-4 \x3e .variation-1").height(b);$(".tile-4 \x3e .variation-2").height(b);$(".tile-4 \x3e .variation-1").width(a);$(".tile-4 \x3e .variation-2").width(a);setImageHeight("#product-height","#product-height \x3e .active","#product-height \x3e .active \x3e img");setImageHeight(".product-thumbnails \x3e li",".product-thumbnails \x3e li a",".product-thumbnails \x3e li \x3e a \x3e img");setImageHeight(".product-thumbnails-med \x3e li",
".product-thumbnails-med \x3e li a",".product-thumbnails-med \x3e li \x3e a \x3e img");setImageHeight(".product-thumbnails \x3e li",".product-thumbnails \x3e li a",".product-thumbnails \x3e li \x3e a \x3e div.mug-thumb \x3e img");setImageHeight(".product-thumbnails-med \x3e li",".product-thumbnails-med \x3e li a",".product-thumbnails-med \x3e li \x3e a \x3e div.mug-thumb \x3e img");$("#product-height .orbit-container").height($("#product-height").width());$("#owlPdp .owl-item").css("line-height",
$("#product-height").width()+"px");$("#product-height").css("height",$("#product-height").width()+"px");-1!=navigator.platform.indexOf("iPhone")&&($(".pdp-main").css("margin-bottom","0px"),$("#owlPdp .owl-item").css("line-height",$("#owlPdp .owl-item").width()+"px"),$("#product-height").css("height","auto"))});
$(window).on("orientationchange",function(){setImageHeight("#product-height","#product-height \x3e .active","#product-height \x3e .active \x3e img");setImageHeight(".product-thumbnails \x3e li",".product-thumbnails \x3e li a",".product-thumbnails \x3e li \x3e a \x3e img");setImageHeight(".product-thumbnails-med \x3e li",".product-thumbnails-med \x3e li a",".product-thumbnails-med \x3e li \x3e a \x3e img");-1!=navigator.platform.indexOf("iPhone")&&($(".pdp-main").css("margin-bottom","0px"),$("#owlPdp .owl-item").css("line-height",
$("#owlPdp").closest(".columns").width()+"px"),$("#product-height").css("height","auto"))});$(".dropdown-menu").hover(function(){$(".main-dropdown").css("visibility","visible");$(".dropdown-menu \x3e a \x3e .dropdown-arrow").css("visibility","visible")});$(".main-dropdown \x3e .close").click(function(){$(".main-dropdown").css("visibility","hidden");$(".dropdown-menu \x3e a \x3e .dropdown-arrow").css("visibility","hidden")});$("dl.account-tabs \x3e dd").click(function(){$(this).slideDown(function(){$(this).show().parent().append(this)})});
$(".link").click(function(){$(this).hasClass("fadeInForward")&&$(this).removeClass("fadeInForward").addClass("fadeOutback");$(".child").hasClass("slidePageBackLeft")?$(".child").removeClass("slidePageBackLeft").addClass("slidePageInFromRight"):$(".child").addClass("slidePageInFromRight")});$(".close").click(function(){$(".link").addClass("fadeInForward");$(".child").removeClass("slidePageInFromRight").addClass("slidePageBackLeft")});$(".tile-3 .variation-1").height($(".tile-3").width());
$(".tile-3 .variation-1 .top-section img").css("max-height",$(".tile-3").width()/2-10);$(window).resize(function(){$(".tile-3 .variation-1").height($(".tile-3").width());$(".tile-3 .variation-1 .top-section img").css("max-height",$(".tile-3").width()/2-10)});$(".header-off-canvas #ls-row-2").append('\x3ca class\x3d"exit-off-canvas"\x3e\x3c/a\x3e');$(".header .left-off-canvas-menu").height($(document).height());$(window).resize(function(){$(".header .left-off-canvas-menu").height($(document).height())});
$(".header-off-canvas .left-off-canvas-toggle").click(function(){$(".tool-tip-content").hide();$(".photo-Org").hasClass("move-right")?$(".photo-Org").removeClass("move-right"):$(".photo-Org").addClass("move-right")});$(".photo-Org .exit-off-canvas").on("click",function(){alert("test");$(".photo-Org").removeClass("move-right")});
$(".tiles-links.accordion dd").click(function(){$(this).children(".content").hasClass("active")?$(this).children(".content").removeClass("active"):($(".tiles-links.accordion dd .content").removeClass("active"),$(this).children(".content").addClass("active"));$(".tile-active").not(this).removeClass("tile-active");$(this).toggleClass("tile-active")});
$(".category-shipping .accordion dd.accordion-navigation a.shipping-price-accordion").click(function(){$(this).parent().children(".content").hasClass("active")?$(this).parent().removeClass("caret-active"):$(this).parent().addClass("caret-active")});
function relative_sticky(a,b){b||(b=0);var c=parseFloat(document.getElementById(a).getBoundingClientRect().top),c=c-parseFloat(document.getElementById(a).style.top),c=-1*c+b;0<c?document.getElementById(a).style.top=c+"px":document.getElementById(a).style.top="0px"}renderDefaultFont();$(window).load(function(){renderDefaultFont();$(document).foundation();$(document).foundation("equalizer","reflow");$("html").attr({lang:langSite})});
if(-1==document.cookie.indexOf("async_fl_")){var hostName=allowedPatternValidation("p1",window.location.hostname)?window.location.hostname:"";document.cookie="async_fl_\x3dtrue;domain\x3d"+hostName.substring(hostName.indexOf("."))+";path\x3d/"}function renderDefaultFont(){-1!=document.cookie.indexOf("async_fl_")?checkDefaultFontElements():(console.log("in settimeout"),setTimeout(function(){checkDefaultFontElements()},1500))}
function checkDefaultFontElements(){if(0<document.getElementsByClassName("default-font-to-render").length){console.log("found: default-font-to-render");var a=document.getElementsByClassName("default-font-to-render");for(console.log("length before remove: "+a.length);0<a.length;)a[0].parentNode.removeChild(a[0]),console.log("removed: default-font-to-render");console.log("length after remove: "+a.length)}}
function appendJSDynamic(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript");"defer"==b&&c.setAttribute("defer","defer");"async"==b&&c.setAttribute("async","async");c.setAttribute("src",a);document.head.appendChild(c)}
function appendCSSDynamic(a){var b=function(){var b=document.createElement("link");b.rel="stylesheet";b.href=a;var c=document.getElementsByTagName("head")[0];c.parentNode.insertBefore(b,c)},c=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;c?c(b):window.addEventListener("load",b)}
function overlayScrollToElement(a,b,c){var d=$("#"+c.split("#")[1]).position();if(null!=d&&"undefined"!=d&&"undefined"!=d.top){$(".overlay-flow").stop().animate({scrollTop:d.top},800);try{setTimeout(function(){$("#"+c.split("#")[1]+" a[href\x3d'#top']").focus()},100)}catch(e){}}else if("undefined"!=typeof b)try{setTimeout(function(){storeWCAG.Utils.focusFirstDescendant(document.getElementById(a))},100)}catch(e){}$(".overlay-flow a[href\x3d'#top']").stop().click(function(){$(".overlay-flow").animate({scrollTop:0},
800);try{storeWCAG.Utils.focusFirstDescendant(document.getElementById(a))}catch(e){}event.preventDefault()})}
function getOverlayContent(a,b){var c=document.activeElement;"ConsentOverlay"!=a&&$("#closerevealmodalId").removeClass("hide");a="ConsentOverlay";Foundation.libs.reveal.settings.close_on_esc=!1;document.getElementsByClassName("div_id")[0].id=a;$("#"+a).foundation("reveal","open");var d="inner"+a,e=document.getElementsByClassName("inner");e[0].id=d;d=b.split(":");if(1<d.length){try{storeWCAGOpenDialog(a,c,$("#"+b.split("#")[1]+" a[href\x3d'#top']"),"foundation")}catch(g){}$.get(d[1],function(d){e[0].innerHTML=
d;overlayScrollToElement(a,c,b)})}else{try{storeWCAGOpenDialog(a,c,null,"foundation")}catch(g){}$.get(d[0],function(d){e[0].innerHTML=d;overlayScrollToElement(a,c,b)})}d="";null!=document.getElementById("loadingTxt_hidden")&&(d=allowedPatternValidation("p1",document.getElementById("loadingTxt_hidden").value)?decodeURIComponent(encodeURIComponent(document.getElementById("loadingTxt_hidden").value)):"");if(null==d||""==d.trim()||"undefined"==d||void 0==d)d="Loading...";e[0].innerHTML="\x3ch5 class\x3d'text-center'\x3e"+
d+"\x3c/h5\x3e \x3cbr/\x3e"}changeSEOPageTitle=function(a){try{var b=document.title.split("|"),b=b.map(Function.prototype.call,String.prototype.trim);Array.prototype.contains=function(a){a=a.toString().toLowerCase();return-1<this.toString().toLowerCase().indexOf(a)};if(!b.contains(a)){b[0]=a;var c=b.join([separator=" | "]);document.title=c;0!=$('meta[property\x3d"og:title"]').attr("content").length&&$('meta[property\x3d"og:title"]').attr("content",c)}}catch(d){businessLogger.error().key("app.js").noodle().env().service("store").errorCode("PageTitle_Update_Failed").errorId().description("Failed to updated the page title in PDP pages").context().origin("store").logMessage()}};
"undefined"!=typeof store&&"undefined"!=typeof store.acctId&&(hostName=allowedPatternValidation("p1",window.location.hostname)?window.location.hostname:"",document.cookie="acctId\x3d"+store.acctId+";domain\x3d"+hostName.substring(hostName.indexOf("."))+";path\x3d/");document.addEventListener("gesturestart",function(a){a.preventDefault()});
var sizeButton,globalDropdownInitialise=function(a){var b="#"+a,c="#"+a+".sf-global-dropdown ul",d="#"+a+".sf-global-dropdown .clickable";$(".selected-option").hasClass("accessibleDiv")?($(".selected-option").attr("tabindex","0"),$(".selected-option").focus(function(a){if($(this).hasClass("accessibleDiv"))try{$(this).hasClass("init-done")||(sizeButton=new storeWCAGMenuButton(this,openSizeDropDown,closeSizeDropDown),$(this).addClass("init-done"))}catch(g){}})):$(b).attr("tabindex","0");$(d).attr("tabindex",
"0");$(b).unbind().click(function(a){$(this).hasClass("disabled")||($(a.currentTarget).find("ul").toggle(),$(this).toggleClass("active"))});$(d).click(function(){if(!$(this).hasClass("disabled")){if(void 0!=$(this).attr("value")&&"undefined"!=$(this).attr("value")&&""!=$(this).attr("value")){var a=allowedPatternValidation("p1",$(this).attr("value"))?decodeURIComponent(encodeURIComponent($(this).attr("value"))):"";$(this).closest(b).find(".selected-option").html(a);$(this).closest(b).find(".selected-option").attr("title",
a)}$(d).removeClass("active");$(this).addClass("active")}});$(document).on("click touchstart",function(a){var d=$(b);d===a.target||d.has(a.target).length||($(c).hide(),$(b).removeClass("active"))});$(document).keypress(function(a){!$(a.target).hasClass("sf-global-dropdown")||13!=a.which&&13!=a.keyCode||($(a.target).find("ul").toggle(),$(a.target).toggleClass("active"));$(a.target).hasClass("clickable")&&(13!=a.which&&13!=a.keyCode||$(a.target)[0].click())})},noOfProjects=-1,noOfPhotos=0,photoUploadType=
"",replacedCobrandName=ns("cms").cobrand.replace(/[-]/g,"");
"true"==store.useSessionStorageForUserData&&-1==location.href.indexOf("signup")&&-1==location.href.indexOf("loginto")&&(void 0==localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData")?localStorage.setItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData",JSON.stringify(store)):9E5<=Math.floor(Date.now())-store.timeStamp&&"store"==ns("cms").service&&-1==location.href.indexOf("/cart/")&&-1==location.href.indexOf("/library/")&&
-1==location.href.indexOf("/create/")&&"/oauth2/auth"!=location.pathname&&$.ajax({async:!0,type:"GET",url:"//"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/cd-build-number?context\x3d"+ns("cms").context,contentType:"application/json",dataType:"json",success:function(a){if(void 0!=localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData")){var b=JSON.parse(localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+
"_"+ns("cms").website+"_userData"));b.buildNumber=a;b.timeStamp=Math.floor(Date.now());localStorage.setItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData",JSON.stringify(b))}}}));-1==location.href.indexOf("signup")&&-1==location.href.indexOf("loginto")&&-1==location.href.indexOf("receipt")||localStorage.removeItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData");
if("true"==store.isGuestCheckoutEnabled&&"true"==getCookieVal("isGuest")&&void 0!=localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData")){var localStorageStoreObj=JSON.parse(localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData"));"false"==localStorageStoreObj.isUserLoggedIn&&"true"==getCookieVal(replacedCobrandName+"_"+ns("cms").storeEnv.replace(/-/g,"")+"_loggedin")&&(document.cookie=
replacedCobrandName+"_"+ns("cms").storeEnv.replace(/-/g,"")+"_loggedin\x3dfalse;domain\x3d"+ns("cms").cookiedomain+"; path\x3d/")}function removeSessionStorageData(a){localStorage.removeItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData");document.location.href=a}
function loginRegAction(a){localStorage.removeItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData");a="https://"+document.location.host+a+"?next\x3d"+encodeURIComponent(document.location.href);document.location.href=a}
$(function(){$(document.body).bind("touchstart",function(a){if(-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod"))a=$(window).scrollTop(),$(window).scrollTop(a-.1)});$(".classic-site-tab .tab").on("touchstart",function(){$(".classic-site-tab").hasClass(".classic-site-tab:hover");$(".classic-site-tab").removeClass(".classic-site-tab:hover");$(".classic-site-tab").addClass(".classic-site-tab active")});/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&
($(".global-header .header-row-03 .shop-main-links ul").addClass("touch-devices"),$(".global-header .header-row-03 .shop-main-links li a.shopmenu-main-links").click(function(a){a.preventDefault()}),$(".global-header .header-row-03 .shop-main-links li a.shopmenu-main-links").on("touchstart",function(a){$(a.target).closest("li").hasClass("dropdown-active")&&(window.location.href=this);$(".global-header .header-row-03 .shop-main-links li").hasClass("dropdown-active")&&$(".global-header .header-row-03 .shop-main-links li").removeClass("dropdown-active");
$(this).closest("li").addClass("dropdown-active")}),$("body").on("touchstart",function(a){var b=$(".global-header .header-row-03 .shop-main-links ul");try{header_DM_swapDataSrc()}catch(c){console.log("header_DM_swapDataSrc, syntax error Tab/Mobile devices"+c)}b.is(a.target)||0!==b.has(a.target).length||$(".global-header .header-row-03 .shop-main-links li").removeClass("dropdown-active")}));$("#deviceCountryListActive").closest("li").unbind().click(function(){$("#deviceCountryListMenu").slideToggle()});
$("#deviceCountryListActive").keydown(function(a){13==a.keyCode&&(a=$("#deviceCountryListActive").attr("aria-expanded"),""!=a&&"false"==a?$("#deviceCountryListActive").attr("aria-expanded","true"):$("#deviceCountryListActive").attr("aria-expanded","false"))});$(".header-banner").click(function(a){$(".cms-offcanvas").hasClass("move-right")&&$(".cms-offcanvas").removeClass("move-right")});leffOffCanvasBtmLink();$(window).resize(function(){leffOffCanvasBtmLink()});$("#div").addClass("error").delay(1E3).queue(function(){$(this).removeClass("error").dequeue()})});
function redirectURL(a,b){if(0<document.location.href.indexOf("signup")&&!b)document.location.href=document.location.href.replace("signup","loginto").replace("submit","sub");else{var c=document.location.href,d="";-1!=location.href.indexOf("#!/")&&(d=location.href,c=c.substring(0,d.indexOf("#!/")),d=d.substring(d.indexOf("#!/"),d.length));-1!=location.href.indexOf("#/")&&(d=location.href,c=c.substring(0,d.indexOf("#/")),d=d.substring(d.indexOf("#/"),d.length));b&&(c=-1!=c.indexOf("?")?c+("\x26libAction\x3d"+
b):c+("?libAction\x3d"+b));a="https://"+ns("cms").siteHost+ns("cms").storeBasePath+"/"+a;"loginto"===a&&(a="https://"+document.location.host+ns("cms").storeBasePath+"/"+a);document.location.href=a+"?next\x3d"+encodeURIComponent(c+d)}}var showPromotionPreference=store.showPromotionPreference;function getAccessToken(a){console.log("Calling getAccessToken for : "+a);return 0<document.cookie.length&&(a=document.cookie.split("; "+a+"\x3d"),2==a.length)?(a=a[1].split("; ")[0],unescape(a)):null}
function setHeaderInfoData(a,b){"true"==ns("cms").isDEVLSDSHost&&(a=a.replace("https","http"));var c=a.indexOf("?GSID\x3d");if(a&&-1!=a.indexOf("?GSID\x3d"))if((c=a.substring(c+6,a.indexOf("\x26cb\x3d")))&&"null"!=c){var d;d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.onreadystatechange=function(){4==d.readyState&&200==d.status&&setDataInDOM(b,d.responseText)};d.open("GET",a,!0);d.send()}else setDataInDOM(b,"")}
function setDataInDOM(a,b){"projectCount"==a&&b&&""!=b&&(0==$("#globalHeaderMyProjects").find("span").length&&$("#globalHeaderMyProjects").append("\x3cspan style\x3d'padding-left:3px'\x3e("+b+")\x3c/span\x3e"),document.getElementById("myProjectsBtn")&&$("#myProjectsBtn").append("\x3cspan style\x3d'padding-left:4px'\x3e("+b+")\x3c/span\x3e"),document.getElementById("projectHeading")&&(document.getElementById("projCnt")&&$("#projCnt").append(b),$("#projectHeading").removeAttr("style")),0==$("#deviceHeaderMyProjects").find("span").length&&
$("#deviceHeaderMyProjects").append("\x3cspan style\x3d'padding-left:3px'\x3e("+b+")\x3c/span\x3e"),noOfProjects=parseInt(b));if("firstName"==a){var c="",d="";null!=b&&void 0!=b&&(d=""==b&&store.firstName?store.firstName:JSON.parse(b));if(document.getElementById("globalHeaderUserMenu")){var e=document.getElementById("globalHeaderUserMenu").childNodes[0];if("SPAN"==e.tagName){c=emailOnlyReg&&"First Name"==d?greetingMsg.replace(",",""):greetingMsg+" "+d;if(null==d||null!=d&&"null"==d.toLowerCase())c=
greetingMobMsg.replace(",","");navigator.userAgent.match(/(iPad);.*CPU.*OS 7_\d/i)?($(e).before(c),$(".header-row-01 .user-name a").css("text-indent","1px"),setTimeout(function(){$(".header-row-01 .user-name a").css("text-indent","")},10)):$(e).before(c)}}if($("#deviceHeaderUserName").length){c=emailOnlyReg&&"First Name"==d?greetingMobMsg.replace(",",""):greetingMobMsg+" "+d;if(null==d||null!=d&&"null"==d.toLowerCase())c=greetingMobMsg.replace(",","");$("#deviceHeaderUserName")[0].innerHTML=c}}"cartCount"==
a&&b&&""!=b&&"0"!=b&&($("#globalHeaderCart").removeAttr("aria-label"),0==$("#globalHeaderCart").find("span").length&&$("#globalHeaderCart").append("\x3cspan\x3e"+b+"\x3cem class\x3d'content-for-sr'\x3e"+cartitemsin+"\x3c/em\x3e\x3c/span\x3e"),0==$("#deviceHeaderCart").find("span").length&&$("#deviceHeaderCart").append("\x3cspan\x3e"+b+"\x3c/span\x3e"));"notificationCount"==a&&b&&""!=b&&"0"!=b&&-1==window.location.search.indexOf("tab\x3dtab-5")&&($("#globalHeaderUserMenu").removeAttr("aria-label"),
1==$("#globalHeaderUserMenu").find("span").length&&(console.log("In notification count inner-if"+b),$("#globalHeaderUserMenu").append("\x3cspan class\x3d'count-circle'\x3e"+b+"\x3cem class\x3d'content-for-sr'\x3e"+orderitemsin+"\x3c/em\x3e\x3c/span\x3e"),$(".unreadCount").text("("+b+")")))}
function populateHeaderInfoData(a){var b;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){if(4==b.readyState&&200==b.status){var a=JSON.parse(b.responseText);Object.keys(a).forEach(function(b){"projectCount"==b&&null!=a[b]&&void 0!=a[b]&&""!=a[b]&&(0==$("#globalHeaderMyProjects").find("span").length&&$("#globalHeaderMyProjects").append("\x3cspan style\x3d'padding-left:3px'\x3e("+a[b]+")\x3c/span\x3e"),document.getElementById("myProjectsBtn")&&
$("#myProjectsBtn").append("\x3cspan style\x3d'padding-left:4px'\x3e("+a[b]+")\x3c/span\x3e"),document.getElementById("projectHeading")&&(document.getElementById("projCnt")&&$("#projCnt").append(a[b]),$("#projectHeading").removeAttr("style")),0==$("#deviceHeaderMyProjects").find("span").length&&$("#deviceHeaderMyProjects").append("\x3cspan style\x3d'padding-left:3px'\x3e("+a[b]+")\x3c/span\x3e"),noOfProjects=parseInt(a[b]));$("#globalHeaderUserMenu")&&$("#globalHeaderUserMenu").removeAttr("aria-label");
"cartCount"==b&&"0"!=a[b]&&null!=a[b]&&void 0!=a[b]&&""!=a[b]&&($("#globalHeaderCart").removeAttr("aria-label"),0==$("#globalHeaderCart").find("span").length&&$("#globalHeaderCart").append("\x3cspan\x3e"+a[b]+"\x3cem class\x3d'content-for-sr'\x3e"+cartitemsin+"\x3c/em\x3e\x3c/span\x3e"),0==$("#deviceHeaderCart").find("span").length&&$("#deviceHeaderCart").append("\x3cspan\x3e"+a[b]+"\x3c/span\x3e"));if("firstName"==b){var c="",d="";null!=a[b]&&void 0!=a[b]&&(d=a[b]);if(document.getElementById("globalHeaderUserMenu")){var f=
document.getElementById("globalHeaderUserMenu").childNodes[0];if("SPAN"==f.tagName){c=emailOnlyReg&&"First Name"==d?greetingMsg.replace(",",""):greetingMsg+" "+d;if(null==d||null!=d&&"null"==d.toLowerCase())c=greetingMobMsg.replace(",","");navigator.userAgent.match(/(iPad);.*CPU.*OS 7_\d/i)?($(f).before(c),$(".header-row-01 .user-name a").css("text-indent","1px"),setTimeout(function(){$(".header-row-01 .user-name a").css("text-indent","")},10)):$(f).before(c)}}if($("#deviceHeaderUserName").length){c=
emailOnlyReg&&"First Name"==d?greetingMobMsg.replace(",",""):greetingMobMsg+" "+d;if(null==d||null!=d&&"null"==d.toLowerCase())c=greetingMobMsg.replace(",","");void 0!=$("#deviceHeaderUserName")[0]&&($("#deviceHeaderUserName")[0].innerHTML=c)}}"notificationCount"==b&&"0"!=a[b]&&null!=a[b]&-1==window.location.search.indexOf("tab\x3dtab-5")&&($("#globalHeaderUserMenu").removeAttr("aria-label"),1==$("#globalHeaderUserMenu").find("span").length&&(console.log("In notification count inner-if"+a[b]),$("#globalHeaderUserMenu").append("\x3cspan class\x3d'count-circle'\x3e"+
a[b]+"\x3cem class\x3d'content-for-sr'\x3e"+orderitemsin+"\x3c/em\x3e\x3c/span\x3e"),$(".unreadCount").text("("+a[b]+")")),$("#deviceNotifications")&&1==$("#deviceNotifications").find("span").length&&(console.log("In notification count inner-if"+a[b]),$(".unreadCount").text("("+a[b]+")")))})}};b.open("GET",a,!0);b.withCredentials=!0;b.send()}
function loadNotifications(a){console.log("In loadNotifications");console.log("link target"+a);var b;window.XMLHttpRequest?(console.log("In if"),b=new XMLHttpRequest):b=new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){4==b.readyState&&200==b.status&&console.log("In loadNotifications response: "+b.responseText)};"undefined"!=ns("cms").isHttponlyCookieEnabled&&"true"==ns("cms").isHttponlyCookieEnabled?b.open("GET","https://"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/notification-bulkread",
!0):b.open("GET","https://"+ns("cms").siteHost+ns("cms").storeURLPath+"/api/v1/notification-bulkread?GSID\x3d"+getCookieVal("GSID"),!0);b.send();document.location.href=a}if("undefined"===typeof isFirstTime||null===isFirstTime)isFirstTime=!0;function sleep(a){for(var b=(new Date).getTime(),c=0;1E7>c&&!((new Date).getTime()-b>a);c++);}
function logout(a){localStorage.removeItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+replacedCobrandName+"_"+ns("cms").website+"_userData");if("undefined"!=typeof siteHost){var b="https://"+siteHost+ns("cms").storeBasePath+"/logout";a&&(b+="?fromShop\x3dtrue");document.location.href=b}sleep(1E3)}
jQuery(window).load(function(){function a(){Modernizr.mq("(min-width: 1025px)")?void 0!=location.pathname&&-1!=location.pathname.indexOf("/home")?($(".header-row-01").outerHeight(),$(".header-row-02").outerHeight(),$(".header-shopnav").outerHeight()):$(".global-header").height():$(".device-global-header").height()}a();leffOffCanvasBtmLink();"undefined"!=typeof selectedTabName&&(void 0!=selectedTabName&&""!=selectedTabName&&(selectedTabName=selectedTabName.toUpperCase()),null!=document.getElementById(selectedTabName)&&
(document.getElementById(selectedTabName).className="active"));"undefined"!=typeof selectedMainNavTab&&(void 0!=selectedMainNavTab&&""!=selectedMainNavTab&&(selectedMainNavTab=selectedMainNavTab.toLowerCase()),void 0!=$("#"+selectedMainNavTab)&&0<$("#"+selectedMainNavTab).length&&$("#"+selectedMainNavTab).addClass("active"));$(window).resize(function(){a()})});function closeRevealModal(a){$(a).foundation("reveal","close")}
function leffOffCanvasBtmLink(){$(".device-global-header .offcanvas-links").css({height:$(window).height()-30+"px","overflow-y":"auto"})}
function checkLoggedInAndOpen(a){"undefined"!=typeof store&&"undefined"!=typeof store.isUserLoggedIn&&("true"==store.isUserLoggedIn||"undefined"!=typeof store.isGuestCheckoutEnabled&&"true"==store.isGuestCheckoutEnabled?"undefined"!=typeof a&&(document.location.href=a):(url="https://"+ns("cms").siteHost+ns("cms").storeBasePath+"/loginto",document.location.href=url+"?next\x3d"+encodeURIComponent(a)))}var storeLocatorCloseEvent=function(){$(".stores-overlay-component .close-icon").on("click",function(){$("body.inner-wrap").removeClass("overite-overflow")})};
function appendOverFlowToBody(){$("body.inner-wrap").addClass("overite-overflow")}jQuery(window).load(function(){$("#desktop-banner a").attr("tabindex",1);$("#ls-row-2").attr("role","main")});$(function(){(function(a){var b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;a.fn.attrchange=function(a){if(b){var c={subtree:!1,attributes:!0},e=new b(function(b){b.forEach(function(b){a.call(b.target,b.attributeName)})});return this.each(function(){e.observe(this,c)})}}})(jQuery)});
$(window).load(function(){[".four-tile-lockup .variation-1 .bottom-border",".four-tile-lockup .variation-2 .bottom-border",".two-tile-lockup .variation-6 .bottom-border",".two-tile-lockup .variation-7 .bottom-border",".two-tile-lockup .variation-8 .bottom-border"].forEach(function(a){var b=$(a).map(function(){return $(this).height()}).get(),b=Math.max.apply(null,b);$(a).height(b)})});
function globalHeaderSticky(a){$(".header-container").length&&$(".header-container .header-container-mask").length&&$(".header-container .header-container-fixed").length&&("delay"==a?setTimeout(function(){globalHeaderStickyDom()},1500):globalHeaderStickyDom())}
function globalHeaderStickyDom(a){$(".header-container .header-container-mask").css("height","");$(".header-container .header-container-fixed").css("position","");a=$(".header-container").height();$(".header-container .header-container-mask").css("height",a);$(".header-container .header-container-fixed").css("position","fixed")}$(document).ready(function(){globalHeaderSticky()});$(window).load(function(){globalHeaderSticky()});$(window).resize(function(){globalHeaderSticky("delay")});
function getURLParameter(a){for(var b=window.location.search.substr(1).split("\x26"),c=0;c<b.length;c++){var d=b[c].split("\x3d");if(d[0]==a)return decodeURIComponent(d[1])}return""}
0<$("#site-search").length&&($("#site-search input[type\x3dsearch]").keypress(function(a){var b=$("#site-search input[type\x3dsearch]").val(),b=b.replace(/\s+/g,"-");13==a.which&&(window.location.href="/product-search?q\x3d"+b)}),""==$("#site-search input[type\x3dsearch]").val()&&(searchStr=getURLParameter("q"),searchStr=searchStr.replace(/-/g," "),""!=searchStr&&$("#site-search input[type\x3dsearch]").val(searchStr)));
$(document).ready(function(){try{var a="";if(!$(".shop-main-links ul").hasClass("touch-devices")){var b=".shop-main-links \x3e ul \x3e li";"cvs_us"==ns("cms").website&&(b=".shop-main-links ul \x3e li");$(b).hover(function(){a=$(this).children(".shop-menu-dropdown");header_DM_swapDataSrc();window.mytimeout=setTimeout(function(){a.css("opacity",0).show().animate({opacity:1},0)},300)},function(){clearTimeout(window.mytimeout);try{a.css("opacity",1).hide().animate({opacity:0},0)}catch(c){}});$(b+" a.shopmenu-main-links").keydown(function(a){a=
a.which;13!=a&&32!=a&&38!=a&&40!=a||header_DM_swapDataSrc()})}}catch(c){console.log("Header dropdown menu, syntax error"+c)}});function header_DM_swapDataSrc(){try{for(var a=$(".shop-menu-dropdown img"),b=0;b<a.length;b++)"undefined"!=typeof a[b].attributes["data-src"]&&(a[b].setAttribute("src",a[b].attributes["data-src"].value),a[b].removeAttribute("data-src"))}catch(c){console.log("header_DM_swapDataSrc, syntax error"+c)}}
function jpegMini(a,b){try{if(void 0!=navigator.mimeTypes["application/x-pnacl"]){var c=document.createElement("link");c.relList&&c.relList.supports("prefetch")?($("\x3clink/\x3e").attr({rel:"prefetch",href:a,crossorigin:"anonymous",onerror:"jpegMiniError(this)"}).appendTo("body"),$("\x3clink/\x3e").attr({rel:"prefetch",href:b,crossorigin:"anonymous",onerror:"jpegMiniError(this)"}).appendTo("body")):($.get(a,function(){console.log("Uploader nmf file precached")},"text").fail(function(){businessLogger.error().key("uploader-jpegmini.js").noodle().env().service("store").errorCode("Unable_to_preload_JPEGMini").errorId().description("getting file .nmf is failed").context().origin("store").logMessage().postlogToSplunk()}),
$.get(b,function(){console.log("Uploader pexe file precached")},"text").fail(function(){businessLogger.error().key("uploader-jpegmini.js").noodle().env().service("store").errorCode("Unable_to_preload_JPEGMini").errorId().description("getting file .pexe is failed").context().origin("store").logMessage().postlogToSplunk()}))}}catch(d){console.error('Unable to preload Uploader JPEGMini modules err_desc\x3d"'+d+'"  err_stack\x3d"'+d.stack+'"'),businessLogger.error().key("uploader-jpegmini.js").noodle().env().service("store").errorCode("Unable_to_preload_JPEGMini").errorId().description("Unable to preload Uploader JPEGMini modules, JS syntax errors").context().origin("store").logMessage().postlogToSplunk()}}
function jpegMiniError(a){console.log("Uploader file precached");businessLogger.error().key("uploader-jpegmini.js").noodle().env().service("store").errorCode("Unable_to_preload_JPEGMini").errorId().description("getting file is failed: "+a.href).context().origin("store").logMessage().postlogToSplunk()}function jpegMiniIsHomePage(){var a=location.pathname.split("/"),b=!1;for(i=0;i<a.length;i++)"home"==a[i]&&(b=!0);return b}
$(window).load(function(){if(jpegMiniIsHomePage()&&"undefined"!=typeof store.isUserLoggedIn&&"true"==store.isUserLoggedIn){var a=cdnHost+"/library/common/js/jpmup/jpmbp-30082017.pexe",b=cdnHost+"/library/common/js/jpmup/jpmc-30082017.nmf";setTimeout(function(){jpegMini(b,a)},1500)}});
$(document).ready(function(){"undefined"!=typeof store&&"undefined"!=typeof store.isTermAndConditionsAccepted&&"false"==store.isTermAndConditionsAccepted&&(getOverlayContent("ConsentOverlay","//"+document.location.host+"/"+ns("cms").storeBasePath+"/consent-overlay"),revealBGDiv())});
function storeConsentTac(){$("#ConsentOverlay .row #TaCData").removeClass("hide");$("#ConsentOverlay .row #privacyNoticeData").addClass("hide");$("#ConsentOverlay .row #cookieNoticeData").addClass("hide");$("#ConsentOverlay .row #TaCData section").attr("id","top");$("#ConsentOverlay .row #privacyNoticeData section").removeAttr("id");$("#ConsentOverlay .row #cookieNoticeData section").removeAttr("id")}
function storeConsentPrivacy(){$("#ConsentOverlay .row #TaCData").addClass("hide");$("#ConsentOverlay .row #privacyNoticeData").removeClass("hide");$("#ConsentOverlay .row #cookieNoticeData").addClass("hide");$("#ConsentOverlay .row #TaCData section").removeAttr("id");$("#ConsentOverlay .row #privacyNoticeData section").attr("id","top");$("#ConsentOverlay .row #cookieNoticeData section").removeAttr("id")}
function storeConsentCookie(){$("#ConsentOverlay .row #TaCData").addClass("hide");$("#ConsentOverlay .row #privacyNoticeData").addClass("hide");$("#ConsentOverlay .row #cookieNoticeData").removeClass("hide");$("#ConsentOverlay .row #TaCData section").removeAttr("id");$("#ConsentOverlay .row #privacyNoticeData section").removeAttr("id");$("#ConsentOverlay .row #cookieNoticeData section").attr("id","top")}
function policyAcceptClose(a){$("#ConsentOverlay").foundation("reveal","close");Foundation.libs.reveal.settings.close_on_esc=!0;$(document).foundation();var b=ns("cms").cobrand.replace(/[-]/g,"");if(void 0!=localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+b+"_"+ns("cms").website+"_userData")){var c=JSON.parse(localStorage.getItem(ns("cms").storeEnv.replace(/-/g,"")+"_"+b+"_"+ns("cms").website+"_userData"));c.isTermAndConditionsAccepted="true";localStorage.setItem(ns("cms").storeEnv.replace(/-/g,
"")+"_"+b+"_"+ns("cms").website+"_userData",JSON.stringify(c))}$(".reveal-bg-mask").remove();$(".reveal-modal-bg").css("display","none");try{storeWCAGCloseDialog(a)}catch(d){}a=new XMLHttpRequest;a.withCredentials=!0;a.addEventListener("readystatechange",function(){4===this.readyState&&console.log(this.responseText)});a.open("PUT","//"+document.location.host+"/"+ns("cms").storeURLPath+"/api/v1/userPolicies/true");a.setRequestHeader("content-type","application/json");a.setRequestHeader("cache-control",
"no-cache");a.send(null)}function revealBGDiv(){$("\x3cdiv\x3e",{"class":"reveal-bg-mask"}).appendTo("body")}
try{if("undefined"==typeof gdpr){var gdpr=gdpr||{};gdpr.cookieNotice=gdpr.cookieNotice||{};gdpr.cookieNotice.flag=!1}gdpr.cookieNotice.selector=".gdpr.cookie-notice";gdpr.cookieNotice.cookieName="cookie_notice";gdpr.cookieNotice.checkCookie=function(){var a=getCookieVal(gdpr.cookieNotice.cookieName);"accepted"!=a&&"undefined"!=typeof store.isUserLoggedIn&&"true"==store.isUserLoggedIn?gdpr.cookieNotice.setCookie():"accepted"!=a&&$(gdpr.cookieNotice.selector).show()};gdpr.cookieNotice.setCookie=function(){var a=
allowedPatternValidation("p1",window.location.hostname)?window.location.hostname:"",a=a.substr(a.indexOf(".")),a="domain\x3d"+a,b=new Date;b.setTime(b.getTime()+31536E6);b="expires\x3d"+b.toUTCString();document.cookie=gdpr.cookieNotice.cookieName+"\x3daccepted;"+a+";"+b+";path\x3d/";gdpr.cookieNotice.hide()};gdpr.cookieNotice.show=function(){$(gdpr.cookieNotice.selector).show();setTimeout(function(){"function"==typeof globalHeaderSticky?globalHeaderSticky():console.log("globalHeaderSticky is not defined")},
1500)};gdpr.cookieNotice.hide=function(){$(gdpr.cookieNotice.selector).hide();"function"==typeof globalHeaderSticky?globalHeaderSticky():console.log("globalHeaderSticky is not defined")}}catch(a){console.log("gdpr.cookieNotice. syntax error"+a)}$("#gdpr-cookie-accept-close").click(function(){gdpr.cookieNotice.setCookie()});$(document).ready(function(){try{"undefined"!=gdpr&&1==gdpr.cookieNotice.flag&&gdpr.cookieNotice.checkCookie()}catch(a){console.log("document load gdpr.cookieNotice. syntax error")}});
try{if("undefined"==typeof store_winback)var store_winback=store_winback||{};var replacedCobName=ns("cms").cobrand.replace(/[-]/g,""),replacedEnv=ns("cms").storeEnv.replace(/-/g,"");store_winback.selector=".archival-notice.v1";store_winback.cookieName=replacedCobName+"_"+replacedEnv+"_"+ns("cms").website+"_account_archived";store_winback.checkCookie=function(a){a&&""!=a&&(store_winback.selector=a);"accepted"!=sessionStorage.getItem(store_winback.cookieName)&&$(store_winback.selector).show()};store_winback.setCookie=
function(a){a&&""!=a&&(store_winback.selector=a);sessionStorage.setItem(store_winback.cookieName,"accepted");$(store_winback.selector).hide()}}catch(a){console.log("document load archival syntax error")}
$(document).ready(function(){try{"undefined"!=store&&"undefined"!=typeof store.isUserLoggedIn&&"true"==store.isUserLoggedIn&&"undefined"!=store.acctStatus&&"archived"==store.acctStatus&&($(".archival-notice.v1").length&&$(".archival-notice.v1").appendTo(document.body),store_winback.checkCookie(),"undefined"!=typeof recentordersflag&&"true"!=recentordersflag&&store_winback.checkCookie(".archival-notice.v2"))}catch(a){console.log("document ready store_winback. syntax error"+a)}});
"undefined"==typeof store.omniture&&(store.omniture=store.omniture||{});$(document).ready(function(){setStoreOmniturePageName()});
function setStoreOmniturePageName(){try{"undefined"!=typeof digitalData?(store.omniture.currentPageName=digitalData.page.pageInfo.pageName,store.omniture.updatePageName=function(a,b){"swap"==a&&""!=b?store.omniture.pushPageName(b,b):store.omniture.pushPageName(store.omniture.currentPageName)},store.omniture.pushPageName=function(a,b){digitalData.page.pageInfo.pageName=a;""!=b&&digitalData.event.push({eventInfo:{eventName:b}})}):console.log("digitalData is undefined")}catch(a){console.log("store.omniture. syntax error"+
a)}}
function pushMonetateData(a){if(isDefinedObj(a)){window.monetateQ=window.monetateQ||[];var b=!1;isNotEmptyStr(a.setPageType)&&(console.log("setting setPageType with "+a.setPageType),b=!0,window.monetateQ.push(["setPageType",a.setPageType]));isNotEmptyArr(a.addCartRows)&&(console.log("setting addCartRows with "),console.log(a.addCartRows),b=!0,window.monetateQ.push(["addCartRows",a.addCartRows]));isNotEmptyArr(a.addPurchaseRows)&&(console.log("setting addCartRows with "),console.log(a.addPurchaseRows),b=
!0,window.monetateQ.push(["addPurchaseRows",a.addPurchaseRows]));b&&window.monetateQ.push(["trackData"])}}$(".gtb-floatlabel input[type\x3d'text']").keyup(function(){$(this).addClass(" fixedlabel")});$(".gtb-floatlabel input[type\x3d'text']").focusout(function(){$(this).val()||$(this).removeClass("fixedlabel")});function isDefinedObj(a){return"undefined"!==typeof a&&void 0!==a&&null!==a?!0:!1}
function isNotEmptyStr(a){return"undefined"!==typeof a&&void 0!==a&&""!==a&&null!=a&&"undefined"!=a&&"null"!=a?!0:!1}function isNotEmptyArr(a){return"undefined"!==typeof a&&void 0!==a&&null!==a&&a instanceof Array&&0<a.length?!0:!1}var altMissLoggingFeature="off",enabledWebsites="snapfish_us,walgreens_us";
function altMissLogging(){try{var a=$("#ls-canvas img[alt\x3d'']").length+$("#ls-canvas img:not([alt])").length,b=0,c="",d=$("#ls-canvas img[role\x3d'presentation']");if(0<d.length)for(var e=0;e<d.length;e++)""!=d[e].alt&&b++;var g=$("#ls-canvas img[alt\x3d'']");if(0<g.length)for(e=0;e<g.length;e++)"presentation"==$(g[e]).attr("role")?a--:(c+=$(g[e]).attr("src")+",",console.log("srcList \x3d "+c));g=$("#ls-canvas img:not([alt])");if(0<g.length)for(e=0;e<g.length;e++)"presentation"==$(g[e]).attr("role")?
a--:(c+=$(g[e]).attr("src")+",",console.log("srcList \x3d "+c));0<b+a&&($("body").append("\x3cimg class\x3d'altMissLoggingImg' style\x3d'display:none'/\x3e"),URL="//"+ns("cms").siteHost+ns("cms").storeBasePath+"/resources/images/dots.gif?SEO\x3dwrongAltCount\x26altMissCount\x3d"+a+"\x26wrongAltPresentCount\x3d"+b+"\x26isUserLoggedIn\x3d"+store.isUserLoggedIn+"\x26service\x3d"+ns("cms").service+"\x26storeEnv\x3d"+ns("cms").storeEnv+"\x26context\x3d"+ns("cms").context+"\x26website\x3d"+ns("cms").website+
"\x26imageSrcs\x3d"+c,console.log("URL : "+URL),$(".altMissLoggingImg").hide().attr("src",URL))}catch(f){console.log(f+"altMissLogging")}}
$(document).ready(function(){-1==document.location.href.indexOf("/home")&&-1==document.location.href.indexOf("/prints")&&-1==document.location.href.indexOf("print-")&&-1==document.location.href.indexOf("prints-")||-1==enabledWebsites.indexOf(ns("cms").website)||(altMissLoggingFeature="on");"on"===altMissLoggingFeature&&"undefined"!=typeof store&&"undefined"!=typeof store.isUserLoggedIn&&"true"!=store.isUserLoggedIn&&"undefined"!=typeof ns("cms")&&"undefined"!=typeof ns("cms").service&&"store"==ns("cms").service&&
"undefined"!=typeof ns("cms").storeEnv&&"regression"==ns("cms").storeEnv&&altMissLogging()});
try{$(".photoOrg-addPhotos-inline").click(function(a){a=$(this).attr("id");store.library.addPhotos.init("#"+a,"store-no-project-inline")}),"undefined"==typeof store.library&&(store.library=store.library||{},store.library.addPhotos=store.library.addPhotos||{},store.library.addPhotos.flag=!1),"undefined"!=store.library&&1==store.library.addPhotos.flag&&(store.library.addPhotos.url=ns("cms").cdn+"/library/upload_dropdown_widget.js?oh\x3d"+ns("cms").siteHost.replace(/\./g,"_")),store.library.addPhotos.documentReadyLoad=
function(){$.ajax({url:store.library.addPhotos.url,dataType:"script",cache:!0}).done(function(a,b){$(".photoOrg-addPhotos-inline").trigger("click");$(".photoOrg-addPhotos-inline").prop("onclick",null).off("click")}).fail(function(a,b,c){businessLogger.error().key("add-photos-integration.js").noodle().env().service("store").errorCode("add_photos_integration_Errors").errorId().description("documentReadyLoad"+c+"loading library/upload_dropdown_widget.js is failed.").context().origin("store").logMessage()})},
store.library.addPhotos.init=function(a,b){"undefined"!=typeof photoOrg&&"undefined"!=typeof photoOrg.uploadDropdownWidget?store.library.addPhotos.init.getUI(a,b):$.ajax({url:store.library.addPhotos.url,dataType:"script",cache:!0}).done(function(c,d){store.library.addPhotos.init.getUI(a,b)}).fail(function(a,b,e){businessLogger.error().key("add-photos-integration.js").noodle().env().service("store").errorCode("add_photos_integration_Errors").errorId().description("init"+e+"loading library/upload_dropdown_widget.js is failed.").context().origin("store").logMessage()})},
store.library.addPhotos.init.getUI=function(a,b){a={parentId:a,ui:b,cobrand:ns("cms").cobrand};"undefined"!=typeof store&&"undefined"!=typeof store.isUserLoggedIn&&"false"==store.isUserLoggedIn&&("walgreens"==ns("cms").cobrand?"undefined"!=typeof redirectToWGLogin&&(a.redirectTo=redirectToWGLogin):"undefined"!=typeof redirectURL&&(a.redirectTo=redirectURL));photoOrg.uploadDropdownWidget.init(a)},store.library.addPhotos.open_upload_layer_on_pageLoading=function(a){"undefined"!=typeof photoOrg&&"undefined"!=
typeof photoOrg.uploadDropdownWidget?(-1!=a.indexOf("#")&&(a=a.split("#")[0]),photoOrg.uploadDropdownWidget.init({onloadUploadOption:a})):$.ajax({url:store.library.addPhotos.url,dataType:"script",cache:!0}).done(function(b,c){photoOrg.uploadDropdownWidget.init({onloadUploadOption:a})}).fail(function(a,c,d){businessLogger.error().key("add-photos-integration.js").noodle().env().service("store").errorCode("add_photos_integration_Errors").errorId().description("open_upload_layer_on_pageLoading"+d+"loading library/upload_dropdown_widget.js is failed.").context().origin("store").logMessage()})}}catch(a){businessLogger.error().key("add-photos-integration.js").noodle().env().service("store").errorCode("add_photos_integration_Errors").errorId().description(a+
"store.library.addPhotos. syntax error").context().origin("store").logMessage()}$(document).ready(function(){try{"undefined"!=store.library&&1==store.library.addPhotos.flag&&store.library.addPhotos.documentReadyLoad()}catch(a){console.log("Window load store.addPhotos.app. syntax error"),businessLogger.error().key("add-photos-integration.js").noodle().env().service("store").errorCode("add_photos_integration_Errors").errorId().description("document ready method error : "+a+"store.library.addPhotos. syntax error").context().origin("store").logMessage()}});
var storeApp=storeApp||{};
storeApp.PageLoadTrackingUtils={getPageLoadingTimes:function(){if(window.performance&&window.performance.timing){var a=window.performance.timing,b=a.domainLookupEnd-a.domainLookupStart,c=a.connectEnd-a.connectStart,d=0<a.secureConnectionStart?a.connectEnd-a.secureConnectionStart:0,e=a.responseStart-a.requestStart,g=a.responseStart-a.navigationStart,f=a.responseEnd-a.responseStart,h=a.responseEnd-a.requestStart,l=a.responseEnd-a.navigationStart,n=a.domLoading-a.navigationStart,m=a.domInteractive-a.navigationStart,
p=a.domContentLoadedEventStart-a.navigationStart,r=a.loadEventStart-a.navigationStart,q=0;window.chrome&&window.chrome.loadTimes?q=1E3*chrome.loadTimes().firstPaintTime-a.navigationStart:a.msFirstPaint&&(q=a.msFirstPaint-a.navigationStart);0!==q%1&&(q*=1E3);return{dnsLookupTime:b,connectionTime:c,secureConnectionTime:d,serverWaitingTime:e,timeToFirstByte:g,responseLoadingTime:f,requestAndResponseWaitTime:h,pageWaitTime:l,domContentLoadTime:p,pageLoadTime:r,domLoading:n,domInteractive:m,firstPaintTime:q}}},
getPageResourceLoadingTimes:function(a){var b=[];if(void 0==window.performance||!performance.getEntriesByType)return[];var c=performance.getEntriesByType("resource");if(!(void 0==c||0>=c.length)){for(var d=0;d<c.length&&!((c[d].startTime||c[d].fetchStart)&&a&&(c[d].startTime||c[d].fetchStart)>a);d++){var e={};e.name=c[d].name;e.duration=c[d].duration;b.push(e)}return b}},logPageLoadingPerformanceDetails:function(){try{var a={};a.pageLoadingNumbers=this.getPageLoadingTimes();a.pageResourceLoadingNumbers=
this.getPageResourceLoadingTimes(a.pageLoadingNumbers.firstPaintTime||a.pageLoadingNumbers.domContentLoadTime);"undefined"!=typeof profilerLogger&&profilerLogger.info().key("app.js").type("performance-metrics").action("logging performance metrics").state("log metrics data").addParameter("metricsData",JSON.stringify(a)).logMessage().postlogToSplunk();console.log(a);var b=storeApp.ClientMessageLogger.getLogger("PageLoadTrackingUtils"),c={};c[ServiceLogConstants.ERROR_CODE]="PAGE_LOAD_PROFILE_DETAILS";
c.DETAILS=storeApp.Utils.stringifyJSObjectForSplunk(a);c.DETAILS=JSON.stringify(a);"undefined"!=typeof ns("cms")&&"undefined"!=typeof ns("cms").service&&"store"==ns("cms").service&&b.debug("Page performance details","logPageLoadingPerformanceDetails",c)}catch(d){businessLogger.error().key("app.js").noodle().env().service("store").errorCode("performance-metrics-failed").errorId().description("error in logPageLoadingPerformanceDetails method while execution ").context().origin("store").logMessage().postlogToSplunk()}}};
$(document).ready(function(){try{"undefined"==typeof ns("cms")||"undefined"==typeof ns("cms").storeEnv||"regression"!=ns("cms").storeEnv&&"production"!=ns("cms").storeEnv||-1==location.href.indexOf("home")||-1!=location.href.indexOf("home-")||storeApp.PageLoadTrackingUtils.logPageLoadingPerformanceDetails()}catch(a){businessLogger.error().key("app.js").noodle().env().service("store").errorCode("performance-metrics-failed").errorId().description("Failed to call logPageLoadingPerformanceDetails on document ready ").context().origin("store").logMessage().postlogToSplunk()}});
/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||"undefined"!=typeof WCAGSrc&&isNotEmptyStr(WCAGSrc)&&appendJSDynamic(WCAGSrc,"async");var duplicateIDLogging="on";
function duplicateIDDataLogging(){try{var a=[],b=[];$("[id]").each(function(){""!=$(this).attr("id")&&(-1!=jQuery.inArray($(this).attr("id"),a)&&-1==jQuery.inArray($(this).attr("id"),b)?b.push($(this).attr("id")):a.push($(this).attr("id")))});if(0<b.length){var c=b.toString().replace(/,/g,":");$("body").append("\x3cimg id\x3d'duplicateIDLogging' /\x3e");var d="//"+ns("cms").siteHost+ns("cms").storeBasePath+"/resources/images/dots.gif?event\x3dduplicateIDLogging\x26dupIDCount\x3d"+b.length+"\x26dupIDList\x3d"+
c+"\x26isUserLoggedIn\x3d"+store.isUserLoggedIn+"\x26service\x3d"+ns("cms").service+"\x26storeEnv\x3d"+ns("cms").storeEnv+"\x26context\x3d"+ns("cms").context+"\x26website\x3d"+ns("cms").website;console.log("URL : "+d);$("#duplicateIDLogging").hide().attr("src",d)}}catch(e){console.log(e+"duplicateIDLogging")}}
$(document).ready(function(){"on"===duplicateIDLogging&&"undefined"!=typeof ns("cms")&&"undefined"!=typeof ns("cms").service&&"store"==ns("cms").service&&"undefined"!=typeof ns("cms").storeEnv&&"regression"==ns("cms").storeEnv&&duplicateIDDataLogging()});
//# sourceMappingURL=app.min.js.map